/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/build/";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/lz-string/libs/lz-string.js":
/*!**************************************************!*\
  !*** ./node_modules/lz-string/libs/lz-string.js ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_RESULT__;// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>\n// This work is free. You can redistribute it and/or modify it\n// under the terms of the WTFPL, Version 2\n// For more information see LICENSE.txt or http://www.wtfpl.net/\n//\n// For more information, the home page:\n// http://pieroxy.net/blog/pages/lz-string/testing.html\n//\n// LZ-based compression algorithm, version 1.4.4\nvar LZString = (function() {\n\n// private property\nvar f = String.fromCharCode;\nvar keyStrBase64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar keyStrUriSafe = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\nvar baseReverseDic = {};\n\nfunction getBaseValue(alphabet, character) {\n  if (!baseReverseDic[alphabet]) {\n    baseReverseDic[alphabet] = {};\n    for (var i=0 ; i<alphabet.length ; i++) {\n      baseReverseDic[alphabet][alphabet.charAt(i)] = i;\n    }\n  }\n  return baseReverseDic[alphabet][character];\n}\n\nvar LZString = {\n  compressToBase64 : function (input) {\n    if (input == null) return \"\";\n    var res = LZString._compress(input, 6, function(a){return keyStrBase64.charAt(a);});\n    switch (res.length % 4) { // To produce valid Base64\n    default: // When could this happen ?\n    case 0 : return res;\n    case 1 : return res+\"===\";\n    case 2 : return res+\"==\";\n    case 3 : return res+\"=\";\n    }\n  },\n\n  decompressFromBase64 : function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrBase64, input.charAt(index)); });\n  },\n\n  compressToUTF16 : function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 15, function(a){return f(a+32);}) + \" \";\n  },\n\n  decompressFromUTF16: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 16384, function(index) { return compressed.charCodeAt(index) - 32; });\n  },\n\n  //compress into uint8array (UCS-2 big endian format)\n  compressToUint8Array: function (uncompressed) {\n    var compressed = LZString.compress(uncompressed);\n    var buf=new Uint8Array(compressed.length*2); // 2 bytes per character\n\n    for (var i=0, TotalLen=compressed.length; i<TotalLen; i++) {\n      var current_value = compressed.charCodeAt(i);\n      buf[i*2] = current_value >>> 8;\n      buf[i*2+1] = current_value % 256;\n    }\n    return buf;\n  },\n\n  //decompress from uint8array (UCS-2 big endian format)\n  decompressFromUint8Array:function (compressed) {\n    if (compressed===null || compressed===undefined){\n        return LZString.decompress(compressed);\n    } else {\n        var buf=new Array(compressed.length/2); // 2 bytes per character\n        for (var i=0, TotalLen=buf.length; i<TotalLen; i++) {\n          buf[i]=compressed[i*2]*256+compressed[i*2+1];\n        }\n\n        var result = [];\n        buf.forEach(function (c) {\n          result.push(f(c));\n        });\n        return LZString.decompress(result.join(''));\n\n    }\n\n  },\n\n\n  //compress into a string that is already URI encoded\n  compressToEncodedURIComponent: function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 6, function(a){return keyStrUriSafe.charAt(a);});\n  },\n\n  //decompress from an output of compressToEncodedURIComponent\n  decompressFromEncodedURIComponent:function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    input = input.replace(/ /g, \"+\");\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrUriSafe, input.charAt(index)); });\n  },\n\n  compress: function (uncompressed) {\n    return LZString._compress(uncompressed, 16, function(a){return f(a);});\n  },\n  _compress: function (uncompressed, bitsPerChar, getCharFromInt) {\n    if (uncompressed == null) return \"\";\n    var i, value,\n        context_dictionary= {},\n        context_dictionaryToCreate= {},\n        context_c=\"\",\n        context_wc=\"\",\n        context_w=\"\",\n        context_enlargeIn= 2, // Compensate for the first entry which should not count\n        context_dictSize= 3,\n        context_numBits= 2,\n        context_data=[],\n        context_data_val=0,\n        context_data_position=0,\n        ii;\n\n    for (ii = 0; ii < uncompressed.length; ii += 1) {\n      context_c = uncompressed.charAt(ii);\n      if (!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)) {\n        context_dictionary[context_c] = context_dictSize++;\n        context_dictionaryToCreate[context_c] = true;\n      }\n\n      context_wc = context_w + context_c;\n      if (Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)) {\n        context_w = context_wc;\n      } else {\n        if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n          if (context_w.charCodeAt(0)<256) {\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<8 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          } else {\n            value = 1;\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1) | value;\n              if (context_data_position ==bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = 0;\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<16 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          }\n          context_enlargeIn--;\n          if (context_enlargeIn == 0) {\n            context_enlargeIn = Math.pow(2, context_numBits);\n            context_numBits++;\n          }\n          delete context_dictionaryToCreate[context_w];\n        } else {\n          value = context_dictionary[context_w];\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n\n\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        // Add wc to the dictionary.\n        context_dictionary[context_wc] = context_dictSize++;\n        context_w = String(context_c);\n      }\n    }\n\n    // Output the code for w.\n    if (context_w !== \"\") {\n      if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n        if (context_w.charCodeAt(0)<256) {\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<8 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        } else {\n          value = 1;\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | value;\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = 0;\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<16 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        delete context_dictionaryToCreate[context_w];\n      } else {\n        value = context_dictionary[context_w];\n        for (i=0 ; i<context_numBits ; i++) {\n          context_data_val = (context_data_val << 1) | (value&1);\n          if (context_data_position == bitsPerChar-1) {\n            context_data_position = 0;\n            context_data.push(getCharFromInt(context_data_val));\n            context_data_val = 0;\n          } else {\n            context_data_position++;\n          }\n          value = value >> 1;\n        }\n\n\n      }\n      context_enlargeIn--;\n      if (context_enlargeIn == 0) {\n        context_enlargeIn = Math.pow(2, context_numBits);\n        context_numBits++;\n      }\n    }\n\n    // Mark the end of the stream\n    value = 2;\n    for (i=0 ; i<context_numBits ; i++) {\n      context_data_val = (context_data_val << 1) | (value&1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data_position = 0;\n        context_data.push(getCharFromInt(context_data_val));\n        context_data_val = 0;\n      } else {\n        context_data_position++;\n      }\n      value = value >> 1;\n    }\n\n    // Flush the last char\n    while (true) {\n      context_data_val = (context_data_val << 1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data.push(getCharFromInt(context_data_val));\n        break;\n      }\n      else context_data_position++;\n    }\n    return context_data.join('');\n  },\n\n  decompress: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 32768, function(index) { return compressed.charCodeAt(index); });\n  },\n\n  _decompress: function (length, resetValue, getNextValue) {\n    var dictionary = [],\n        next,\n        enlargeIn = 4,\n        dictSize = 4,\n        numBits = 3,\n        entry = \"\",\n        result = [],\n        i,\n        w,\n        bits, resb, maxpower, power,\n        c,\n        data = {val:getNextValue(0), position:resetValue, index:1};\n\n    for (i = 0; i < 3; i += 1) {\n      dictionary[i] = i;\n    }\n\n    bits = 0;\n    maxpower = Math.pow(2,2);\n    power=1;\n    while (power!=maxpower) {\n      resb = data.val & data.position;\n      data.position >>= 1;\n      if (data.position == 0) {\n        data.position = resetValue;\n        data.val = getNextValue(data.index++);\n      }\n      bits |= (resb>0 ? 1 : 0) * power;\n      power <<= 1;\n    }\n\n    switch (next = bits) {\n      case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 2:\n        return \"\";\n    }\n    dictionary[3] = c;\n    w = c;\n    result.push(c);\n    while (true) {\n      if (data.index > length) {\n        return \"\";\n      }\n\n      bits = 0;\n      maxpower = Math.pow(2,numBits);\n      power=1;\n      while (power!=maxpower) {\n        resb = data.val & data.position;\n        data.position >>= 1;\n        if (data.position == 0) {\n          data.position = resetValue;\n          data.val = getNextValue(data.index++);\n        }\n        bits |= (resb>0 ? 1 : 0) * power;\n        power <<= 1;\n      }\n\n      switch (c = bits) {\n        case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 2:\n          return result.join('');\n      }\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n      if (dictionary[c]) {\n        entry = dictionary[c];\n      } else {\n        if (c === dictSize) {\n          entry = w + w.charAt(0);\n        } else {\n          return null;\n        }\n      }\n      result.push(entry);\n\n      // Add w+entry[0] to the dictionary.\n      dictionary[dictSize++] = w + entry.charAt(0);\n      enlargeIn--;\n\n      w = entry;\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n    }\n  }\n};\n  return LZString;\n})();\n\nif (true) {\n  !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () { return LZString; }).call(exports, __webpack_require__, exports, module),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n} else {}\n\n\n//# sourceURL=webpack:///./node_modules/lz-string/libs/lz-string.js?");

/***/ }),

/***/ "./src/data/Building.js":
/*!******************************!*\
  !*** ./src/data/Building.js ***!
  \******************************/
/*! exports provided: Building */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Building\", function() { return Building; });\n\r\nclass Building {\r\n    constructor(name, baseCost, landCost, maxLevel, buildingType, buildingId, parent, texture, costSpecial, position) {\r\n        this.name = name;\r\n        this.level = 0;\r\n        this.maxLevel = maxLevel;\r\n        this.baseCost = baseCost;\r\n        this.costMulti = 1;\r\n        this.costsSpecialAtFirstLevel = costSpecial;\r\n        this.buildingType = buildingType;\r\n        this.buildingId = buildingId;\r\n        this.position = position;\r\n        this.parent = parent;\r\n        this.landCost = landCost;\r\n        this.texture = texture;\r\n    }\r\n\r\n    Rebirth() {\r\n        this.costMulti = 1;\r\n        this.level = 0;\r\n    }\r\n\r\n    GetCosts(rareCostMulti = 1, matMulti = 1, goldMulti = 1) {\r\n        var ret = [0, 0, 0, 0, 0, 0, 0, 0, this.landCost];\r\n        if (this.level === 0 && this.costsSpecialAtFirstLevel === false) {\r\n            ret[6] = Math.floor(this.baseCost[6] * this.costMulti * matMulti);\r\n        } else {\r\n            for (var i = 0; i < 6; i++) {\r\n                ret[i] = Math.floor(this.baseCost[i] * this.costMulti * rareCostMulti);\r\n            }\r\n            ret[6] = Math.floor(this.baseCost[6] * this.costMulti * matMulti);\r\n            ret[7] = Math.floor(this.baseCost[7] * this.costMulti * goldMulti);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    LevelUp() {\r\n        this.costMulti += 1 + Math.floor(this.level / 5);\r\n        this.level += 1;\r\n    }\r\n\r\n    IsMaxed() { return this.maxLevel !== -1 && this.level >= this.maxLevel; }\r\n\r\n    save() {\r\n        var saveObj = {}\r\n        saveObj['lvl'] = this.level;\r\n        saveObj['cm'] = this.costMulti;\r\n        return saveObj;\r\n    }\r\n    load(saveObj) {\r\n        this.level = saveObj['lvl'];\r\n        this.costMulti = saveObj['cm'];\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/Building.js?");

/***/ }),

/***/ "./src/data/Combat.js":
/*!****************************!*\
  !*** ./src/data/Combat.js ***!
  \****************************/
/*! exports provided: Combat */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Combat\", function() { return Combat; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _Creature__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Creature */ \"./src/data/Creature.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _TraitEnum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TraitEnum */ \"./src/data/TraitEnum.js\");\n\r\n\r\n\r\n\r\n\r\nclass Combat {\r\n    constructor() {\r\n        this.isActive = false;\r\n        this.player = undefined;\r\n        this.monsters = [];\r\n        this.playerTarget = 0;\r\n\r\n        this.onCombatStart = undefined;\r\n        this.onCombatEnd = undefined;\r\n    }\r\n\r\n    OnCombatStartHandler(callback) {\r\n        this.onCombatStart = callback;\r\n    }\r\n    OnCombatEndHandler(callback) {\r\n        this.onCombatEnd = callback;\r\n    }\r\n\r\n    _onCombatStart() {\r\n        if (this.onCombatStart !== undefined) {\r\n            this.onCombatStart(this.player, this.monsters);\r\n        }\r\n    }\r\n    _onCombatEnd() {\r\n        if (this.onCombatEnd !== undefined) {\r\n            this.onCombatEnd(this.player, this.monsters);\r\n        }\r\n    }\r\n\r\n    BeginCombat(player, monsters) {\r\n        this.player = player;\r\n        this.monsters = monsters;\r\n\r\n        this.player.BeginCombat();\r\n        for (var i = 0; i < this.monsters.length; i++) {\r\n            this.monsters[i].BeginCombat();\r\n        }\r\n        this.playerTarget = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(0, this.monsters.length);\r\n        this.isActive = true;\r\n        if (this.player.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].HEAVY_HEART)) {\r\n            for (var i = 0; i < this.monsters.length; i++) {\r\n                this.monsters[i].attackCooldown = this.monsters[i].AttackSpeed() / 2;\r\n            }\r\n        }\r\n        this._onCombatStart();\r\n    }\r\n\r\n    _updateCreature(time, attacker, defender) {\r\n        var hitRatio = _Creature__WEBPACK_IMPORTED_MODULE_1__[\"Creature\"].HitRatio(attacker.HitChance(), defender.Evasion());\r\n        attacker.Tick(time, hitRatio, true);\r\n\r\n        if (attacker.CanAttack() === true) {\r\n            attacker.Attack(defender);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    _findNewTarget() {\r\n        this.playerTarget = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(0, this.monsters.length);\r\n        for (var i = 0; i < this.monsters.length; i++) {\r\n            var idx = (this.playerTarget + i) % this.monsters.length;\r\n            if (this.monsters[idx].IsDead() === false) {\r\n                this.playerTarget = idx;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    _updateAuras(attacker, defender, time) {\r\n        if (attacker.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSE_AURA)) {\r\n            attacker.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSE_AURA].vals[0] -= time;\r\n            if (attacker.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSE_AURA].vals[0] <= 0) {\r\n                attacker.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSE_AURA].vals[0] = 1000;\r\n                for (var i = 0; i < defender.length; i++) {\r\n                    defender[i].TakeDamage(attacker.Arcane() * 0.5, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DMG_CURSE, false);\r\n                }\r\n            }\r\n        }\r\n        if (attacker.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].MIASMA)) {\r\n            attacker.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].MIASMA].vals[0] -= time;\r\n            if (attacker.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].MIASMA].vals[0] <= 0) {\r\n                attacker.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].MIASMA].vals[0] = 1000;\r\n                for (var i = 0; i < defender.length; i++) {\r\n                    defender[i].TakeDamage(attacker.Arcane() * 0.45, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DMG_POISON, false);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    update(time) {\r\n        if (this.isActive === true) {\r\n            if (this._updateCreature(time, this.player, this.monsters[this.playerTarget])) {\r\n                this._findNewTarget();\r\n            }\r\n            this._updateAuras(this.player, this.monsters, time);\r\n\r\n            var areMonstersDead = true;\r\n            for (var i = 0; i < this.monsters.length; i++) {\r\n                if (this.monsters[i].IsDead() === false) {\r\n                    areMonstersDead = false;\r\n                    this._updateCreature(time, this.monsters[i], this.player);\r\n                    this._updateAuras(this.monsters[i], [this.player], time);\r\n                }\r\n            }\r\n\r\n            if (areMonstersDead === true || this.player.IsDead() === true) {\r\n                this.isActive = false;\r\n                this.player.EndCombat();\r\n                this._onCombatEnd();\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/Combat.js?");

/***/ }),

/***/ "./src/data/Creature.js":
/*!******************************!*\
  !*** ./src/data/Creature.js ***!
  \******************************/
/*! exports provided: Creature */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Creature\", function() { return Creature; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _Trait__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Trait */ \"./src/data/Trait.js\");\n/* harmony import */ var _TraitEnum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TraitEnum */ \"./src/data/TraitEnum.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Creature {\r\n\r\n    static CritRatio(critPower, critRes) {\r\n        critPower = Math.max(50, critPower);\r\n        critRes = Math.max(50, critRes);\r\n        return critPower / critRes;\r\n    }\r\n\r\n    static HitRatio(hit, evasion) {\r\n        hit = Math.max(25, hit);\r\n        evasion = Math.max(25, evasion);\r\n        return Math.pow(hit, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].ATTACK_SPEED_POWER) / Math.pow(evasion, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].ATTACK_SPEED_POWER);\r\n    }\r\n\r\n    constructor(name) {\r\n        this.stats = {\r\n            // CORE\r\n            str: 10,\r\n            dex: 10,\r\n            sta: 10,\r\n            arc: 10,\r\n            def: 10,\r\n            off: 10,\r\n        }\r\n\r\n        this.bonus = {\r\n            // CORE\r\n            str: 0,\r\n            dex: 0,\r\n            sta: 0,\r\n            arc: 0,\r\n            def: 0,\r\n            off: 0,\r\n            health: 0,\r\n            armor: 0,\r\n            damage: 0,\r\n            damageFromScaling: [0, 0, 0, 0, 0, 0, 0],\r\n\r\n            // SECONDARY\r\n            hit: 0,\r\n            eva: 0,\r\n            critPow: 0,\r\n            critRes: 0,\r\n            regen: 0,\r\n            ward: 0,\r\n            poison: 0,\r\n            fire: 0,\r\n            magic: 0,\r\n            frost: 0,\r\n            lightning: 0,\r\n            curse: 0,\r\n            crit: 0\r\n        }\r\n\r\n        this.name = name;\r\n        this.health = 0;\r\n        this.attackSpeed = 1000;\r\n        this.attackCooldown = 0;\r\n        this.critChance = 0;\r\n        this.minDamageRatio = 0.5;\r\n        this.traits = {};\r\n        this.texture = { sprite: \"icons\", tile: 144 };\r\n\r\n        // rewards earned for killing this creature, used only by monsters\r\n        this.xp = 0;\r\n        this.materials = 0;\r\n        this.level = 0;\r\n\r\n        //values used during battle\r\n        this.poisonValue = 0;\r\n        this.poisonTickTimer = 0;\r\n        this.burnValue = 0;\r\n        this.armorBreak = 0;\r\n        this.curseValue = 0;\r\n\r\n        //handlers\r\n        this.onHealthChanged = undefined;\r\n        this.onAttackTimerChanged = undefined;\r\n        this.onDamageTaken = undefined;\r\n        this.onTraitsChanged = undefined;\r\n    }\r\n\r\n    Strength() {\r\n        return Math.floor(this.stats.str +\r\n            this.bonus.str);\r\n    }\r\n    Dexterity() {\r\n        return Math.floor(this.stats.dex +\r\n            this.bonus.dex);\r\n    }\r\n    Stamina() {\r\n        return Math.floor(this.stats.sta +\r\n            this.bonus.sta);\r\n    }\r\n    Arcane() {\r\n        return Math.floor(this.stats.arc +\r\n            this.bonus.arc);\r\n    }\r\n    Defense() {\r\n        return Math.floor(this.stats.def +\r\n            this.bonus.def);\r\n    }\r\n    Offense() {\r\n        return Math.floor(this.stats.off +\r\n            this.bonus.off);\r\n    }\r\n    MaxHealth() {\r\n        return Math.floor(_Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BASE_HEALTH +\r\n            this.Stamina() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].HEALTH_PER_STAMINA +\r\n            this.bonus.health);\r\n    }\r\n    Armor() {\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].LIVING_WOOD)) {\r\n            var maxHP = this.MaxHealth();\r\n            return Math.max(0, Math.floor(this.bonus.armor) - this.armorBreak) *\r\n                (1 + (maxHP - this.health) / maxHP);\r\n        }\r\n        return Math.max(0, Math.floor(this.bonus.armor) - this.armorBreak);\r\n    }\r\n    MaxDamage() {\r\n        return Math.floor(this.Strength() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].MAXDMG_PER_STRENGTH +\r\n            this.bonus.damage + this.bonus.damageFromScaling[0]);\r\n    }\r\n    MinDamage() {\r\n        return Math.floor(this.MaxDamage() * this.minDamageRatio);\r\n    }\r\n    Warding() {\r\n        return Math.max(0, this.Arcane() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].WARD_PER_ARCANE + this.bonus.ward -\r\n            this.Armor() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].ARMOR_WARD_REDUCTION);\r\n    }\r\n\r\n    HitChance() {\r\n        return Math.floor(_Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BASE_HIT + this.Dexterity() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].HIT_PER_DEXTERITY +\r\n            this.Offense() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].HIT_PER_OFFENSE +\r\n            this.bonus.hit);\r\n    }\r\n    Evasion() {\r\n        return Math.floor(_Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BASE_HIT + this.Dexterity() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EVA_PER_DEXTERITY +\r\n            this.Defense() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EVA_PER_DEFENSE +\r\n            this.bonus.eva);\r\n    }\r\n    Regen() {\r\n        return this.Stamina() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].REGEN_PER_STAMINA +\r\n            this.bonus.regen;\r\n    }\r\n    CritPower() {\r\n        return Math.floor(_Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BASE_CRIT + this.Offense() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].CRIT_PER_OFFENSE +\r\n            this.bonus.critPow - this.curseValue);\r\n    }\r\n    CritRes() {\r\n        return Math.floor(_Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BASE_CRIT + this.Defense() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].RES_PER_DEFENSE +\r\n            this.bonus.critRes - this.curseValue);\r\n    }\r\n    Poison() {\r\n        return Math.floor(this.bonus.poison + this.bonus.damageFromScaling[1]);\r\n    }\r\n    Fire() {\r\n        return Math.floor(this.bonus.fire + this.bonus.damageFromScaling[2]);\r\n    }\r\n    Magic() {\r\n        return Math.floor(this.bonus.magic + this.bonus.damageFromScaling[3]);\r\n    }\r\n    Frost() {\r\n        return Math.floor(this.bonus.frost + this.bonus.damageFromScaling[4]);\r\n    }\r\n    Lightning() {\r\n        return Math.floor(this.bonus.lightning + this.bonus.damageFromScaling[5]);\r\n    }\r\n    Curse() {\r\n        return Math.floor(this.bonus.curse + this.bonus.damageFromScaling[6]);\r\n    }\r\n    ElementalBonus() {\r\n        return this.Arcane() * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].ELEMENTAL_PER_ARCANE;\r\n    }\r\n    AttackSpeed() {\r\n        var ret = this.attackSpeed;\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].HEAVY)) {\r\n            ret += 250;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].BLOODLUST) && this.health < this.MaxHealth() / 2) {\r\n            ret = ret / 2;\r\n        }\r\n        return ret;\r\n    }\r\n    CritChance() {\r\n        return this.critChance + this.bonus.crit;\r\n    }\r\n\r\n    AddBonuses(bonuses) {\r\n        for (const prop in bonuses) {\r\n            if (prop !== 'trait') {\r\n                this.bonus[prop] += bonuses[prop];\r\n            }\r\n        }\r\n        if (bonuses['trait'] !== -1) {\r\n            this.AddTrait(new _Trait__WEBPACK_IMPORTED_MODULE_2__[\"Trait\"](bonuses['trait']));\r\n        }\r\n    }\r\n    RemoveBonuses(bonuses) {\r\n        for (const prop in bonuses) {\r\n            if (prop !== 'trait') {\r\n                this.bonus[prop] -= bonuses[prop];\r\n            }\r\n        }\r\n        if (bonuses['trait'] !== -1) {\r\n            this.RemoveTrait(bonuses['trait']);\r\n        }\r\n    }\r\n    SetDamageFromScaling(dmg) {\r\n        this.bonus.damageFromScaling = dmg;\r\n    }\r\n\r\n    CopyWeaponStats(gear) {\r\n        this.minDamageRatio = gear.minDamageRatio;\r\n        this.attackSpeed = gear.baseAttackSpeed;\r\n        this.critChance = gear.critChance;\r\n    }\r\n\r\n    AddStat(amount, statIdx) {\r\n        switch (statIdx) {\r\n            case 0:\r\n                this.stats.str += amount;\r\n                break;\r\n            case 1:\r\n                this.stats.dex += amount;\r\n                break;\r\n            case 2:\r\n                this.stats.sta += amount;\r\n                break;\r\n            case 3:\r\n                this.stats.arc += amount;\r\n                break;\r\n            case 4:\r\n                this.stats.def += amount;\r\n                break;\r\n            case 5:\r\n                this.stats.off += amount;\r\n                break;\r\n        }\r\n    }\r\n\r\n    OnHealthChangedHandler(callback) {\r\n        this.onHealthChanged = callback;\r\n    }\r\n    OnAttackTimerChangedHandler(callback) {\r\n        this.onAttackTimerChanged = callback;\r\n    }\r\n    OnDamageTakenHandler(callback) {\r\n        this.onDamageTaken = callback;\r\n    }\r\n    OnTraitsChangedHandler(callback) {\r\n        this.onTraitsChanged = callback;\r\n    }\r\n\r\n    _onHealthChanged() {\r\n        if (this.onHealthChanged !== undefined) {\r\n            this.onHealthChanged(this.health / this.MaxHealth());\r\n        }\r\n    }\r\n    _onAttackTimerChanged() {\r\n        if (this.onAttackTimerChanged !== undefined) {\r\n            this.onAttackTimerChanged(this.attackCooldown / this.AttackSpeed());\r\n        }\r\n    }\r\n    _onDamageTaken(dmg, dmgType, isCrit) {\r\n        if (this.onDamageTaken !== undefined) {\r\n            this.onDamageTaken(dmg, dmgType, isCrit);\r\n        }\r\n    }\r\n    _onTraitsChanged() {\r\n        if (this.onTraitsChanged !== undefined) {\r\n            this.onTraitsChanged();\r\n        }\r\n    }\r\n\r\n    AddTrait(trait) {\r\n        this.traits[trait.trait] = trait;\r\n        this._onTraitsChanged();\r\n    }\r\n    RemoveTrait(traitId) {\r\n        if (traitId in this.traits) {\r\n            delete this.traits[traitId];\r\n            this._onTraitsChanged();\r\n        }\r\n    }\r\n    HasTrait(trait) {\r\n        return trait in this.traits;\r\n    }\r\n\r\n    BeginCombat() {\r\n        this.attackCooldown = 0;\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISONED_BLADE)) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISONED_BLADE].vals[0] = 1;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_POWDER)) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_POWDER].vals[0] = 1;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CHARGED)) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CHARGED].vals[0] = 2;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].REGENERATION) === true) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].REGENERATION].vals[0] = 1000;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].PHYLACTERY) === true) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].PHYLACTERY].vals[0] = 1000;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_BREATH)) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_BREATH].vals[0] = 3;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSE_AURA)) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSE_AURA].vals[0] = 1000;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].MIASMA)) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].MIASMA].vals[0] = 1000;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SHIELD_BASH)) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SHIELD_BASH].vals[0] = 2;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRST_STRIKE)) {\r\n            this.attackCooldown = this.AttackSpeed() * 0.75;\r\n        }\r\n    }\r\n\r\n    EndCombat() {\r\n        //todo: clear any removable traits here (eg, curse, frost)\r\n        this.armorBreak = 0;\r\n        this.curseValue = 0;\r\n        this.RemoveTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].ARMOR_BREAK);\r\n        this.RemoveTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSED);\r\n    }\r\n\r\n    _heal(value) {\r\n        if (this.burnValue > 0) {\r\n            this.burnValue = Math.max(0, this.burnValue - value);\r\n            if (this.burnValue <= 0) {\r\n                this.RemoveTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].BURNED);\r\n            }\r\n        } else {\r\n            this.health += value;\r\n        }\r\n        this.health = Math.min(this.health, this.MaxHealth());\r\n    }\r\n\r\n    Tick(time, hitRatio, inCombat) {\r\n        // regen 5x less during combat\r\n        var healMulti = inCombat === true ? 0.2 : 1;\r\n        // save this value as we use it multiple times\r\n        var maxHealth = this.MaxHealth();\r\n\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].REGENERATION) === true) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].REGENERATION].vals[0] -= time;\r\n            if (this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].REGENERATION].vals[0] < 0) {\r\n                this._heal(maxHealth * 0.04);\r\n                this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].REGENERATION].vals[0] = 1000;\r\n            }\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].PHYLACTERY) === true) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].PHYLACTERY].vals[0] -= time;\r\n            if (this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].PHYLACTERY].vals[0] < 0) {\r\n                this._heal(maxHealth * 0.03);\r\n                this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].PHYLACTERY].vals[0] = 1000;\r\n            }\r\n        }\r\n        this._heal(this.Regen() * healMulti * (time / 1000.0));\r\n\r\n        if (inCombat) {\r\n            this.attackCooldown += time * hitRatio;\r\n        }\r\n\r\n        if (this.poisonValue > 0) {\r\n            this.poisonTickTimer -= time;\r\n            if (this.poisonTickTimer <= 0) {\r\n                // if poison is less than 1% of your max health in damage, deal the remaining\r\n                // poison value, otherwise deal 30% of remaining poison\r\n                var poisonDmg = this.poisonValue * 0.3;\r\n                if (poisonDmg < maxHealth / 100.0) {\r\n                    poisonDmg = Math.min(this.poisonValue, maxHealth / 100.0);\r\n                }\r\n                this.TakeDamage(poisonDmg, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_POISON_DOT, false);\r\n                this.poisonTickTimer = _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STATUS_TICK_TIMER;\r\n                this.poisonValue -= poisonDmg;\r\n                if (this.poisonValue <= 0) {\r\n                    this.RemoveTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISONED);\r\n                }\r\n            }\r\n        }\r\n\r\n        this._onHealthChanged();\r\n        this._onAttackTimerChanged();\r\n    }\r\n\r\n    CanAttack() { return this.attackCooldown >= this.AttackSpeed(); }\r\n    IsDead() { return this.health <= 0; }\r\n\r\n    Attack(creature) {\r\n        var dmg = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(this.MinDamage(), this.MaxDamage());\r\n        var crit = Math.random() <= this.CritChance();\r\n\r\n        // handle other damage types first\r\n        var dmgArray = [this.Magic(), this.Poison(), this.Fire(), this.Frost(), this.Lightning(), this.Curse()];\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISONED_BLADE) && this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISONED_BLADE].vals[0] > 0) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISONED_BLADE].vals[0] -= 1;\r\n            dmgArray[1] += this.MaxDamage();\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_POWDER) && this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_POWDER].vals[0] > 0) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_POWDER].vals[0] -= 1;\r\n            dmgArray[2] += this.MaxDamage() * 0.8;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CHARGED) && this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CHARGED].vals[0] > 0) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CHARGED].vals[0] -= 1;\r\n            dmgArray[4] += this.MaxDamage() * 0.5;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].MALEDICT)) {\r\n            dmgArray[1] += Math.min(this.MaxDamage() * 2, creature.curseValue * 0.5);\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_BREATH)) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_BREATH].vals[0] -= 1;\r\n            if (this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_BREATH].vals[0] <= 0) {\r\n                this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_BREATH].vals[0] = 3;\r\n                dmgArray[2] += this.MaxDamage();\r\n            }\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SHIELD_BASH)) {\r\n            this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SHIELD_BASH].vals[0] -= 1;\r\n            if (this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SHIELD_BASH].vals[0] <= 0) {\r\n                this.traits[_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SHIELD_BASH].vals[0] = 2;\r\n                dmg += this.Armor();\r\n            }\r\n        }\r\n        if (crit === true) {\r\n            var multi = 0.25 * Creature.CritRatio(this.CritPower(), creature.CritRes())\r\n            dmg += dmg * multi;\r\n            dmgArray[0] += dmgArray[0] * multi;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SWARM)) {\r\n            var dmgRatio = 0.6 + (this.health / this.MaxHealth()) * 0.4;\r\n            for (var i = 0; i < dmgArray.length; i++) {\r\n                dmgArray[i] = dmgArray[i] * dmgRatio;\r\n            }\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SIPHON)) {\r\n            this._heal(Math.max(1, dmgArray[5] - creature.Warding()));\r\n        }\r\n\r\n        for (var i = 0; i < dmgArray.length; i++) {\r\n            if (dmgArray[i] > 0) {\r\n                // i+1 is a bit of a hack, but the ordering of dmgArray follows the enum in statics\r\n                creature.TakeDamage(dmgArray[i], i + 1, crit);\r\n            }\r\n        }\r\n\r\n        creature.TakeDamage(dmg, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_PHSYICAL, crit);\r\n\r\n        this.attackCooldown = 0;\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FRENZY) && crit === true) {\r\n            this.attackCooldown = this.AttackSpeed() * 0.3;\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].LIFESTEAL)) {\r\n            this._heal(this.Regen() * 0.5);\r\n        }\r\n        if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].ENCHANTMENT)) {\r\n            creature.attackCooldown -= 150;\r\n        }\r\n        if (creature.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].THORNS)) {\r\n            this.TakeDamage(creature.Armor(), _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_PHSYICAL, false);\r\n        }\r\n        if (creature.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FROST_SHELL)) {\r\n            this.TakeDamage(creature.Warding(), _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_COLD, false);\r\n        }\r\n        this._onAttackTimerChanged();\r\n    }\r\n\r\n    TakeDamage(amount, damageType, isCrit) {\r\n        var effectiveArmor = damageType === _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_PHSYICAL ? this.Armor() : this.Warding();\r\n        var totalDmg = Math.max(1, amount - effectiveArmor);\r\n        if (damageType !== _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_POISON_DOT && this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CARAPICE) &&\r\n            totalDmg > this.MaxHealth() * 0.1) {\r\n            totalDmg = totalDmg / 2;\r\n        }\r\n        switch (damageType) {\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_PHSYICAL:\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].UNDEAD)) {\r\n                    totalDmg = totalDmg * 0.75;\r\n                }\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].PHYLACTERY)) {\r\n                    totalDmg = totalDmg * 0.6;\r\n                }\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].BLOCK) && Math.random() < 0.4) {\r\n                    totalDmg = Math.max(1, totalDmg - this.Armor() * 0.4);\r\n                }\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SLUMBERING_DRAGON)) {\r\n                    this.attackCooldown += this.AttackSpeed() * 0.2;\r\n                }\r\n                this.health -= totalDmg;\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_MAGIC:\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].MAGIC_RESIST)) {\r\n                    totalDmg = totalDmg * 0.6;\r\n                }\r\n                this.health -= totalDmg;\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_POISON:\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FORTITUDE)) {\r\n                    totalDmg = totalDmg * 0.5;\r\n                }\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISON_RESIST)) {\r\n                    totalDmg = totalDmg * 0.6;\r\n                }\r\n                this.poisonValue += totalDmg;\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISONED) === false) {\r\n                    this.AddTrait(new _Trait__WEBPACK_IMPORTED_MODULE_2__[\"Trait\"](_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISONED));\r\n                }\r\n                // we don't want to show damage numbers for the initial poison hit so return early\r\n                return;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_FIRE:\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SLUMBERING_DRAGON)) {\r\n                    return;\r\n                }\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_RESIST)) {\r\n                    totalDmg = totalDmg * 0.6;\r\n                }\r\n                this.health -= totalDmg;\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FORTITUDE)) {\r\n                    totalDmg = totalDmg * 0.5;\r\n                }\r\n                this.burnValue += totalDmg * 0.5;\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].BURNED) === false) {\r\n                    this.AddTrait(new _Trait__WEBPACK_IMPORTED_MODULE_2__[\"Trait\"](_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].BURNED));\r\n                }\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_COLD:\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FROST_RESIST)) {\r\n                    totalDmg = totalDmg * 0.6;\r\n                }\r\n                this.health -= totalDmg;\r\n                this.armorBreak += totalDmg * 0.25;\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].ARMOR_BREAK) === false) {\r\n                    this.AddTrait(new _Trait__WEBPACK_IMPORTED_MODULE_2__[\"Trait\"](_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].ARMOR_BREAK));\r\n                }\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_LIGHTNING:\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].LIGHTNING_RESIST)) {\r\n                    totalDmg = totalDmg * 0.6;\r\n                }\r\n                this.health -= totalDmg;\r\n                this.attackCooldown -= this.AttackSpeed() * (totalDmg / this.MaxHealth()) * 2;\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_CURSE:\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSE_RESIST)) {\r\n                    totalDmg = totalDmg * 0.6;\r\n                }\r\n                this.curseValue += totalDmg;\r\n                if (this.HasTrait(_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSED) === false) {\r\n                    this.AddTrait(new _Trait__WEBPACK_IMPORTED_MODULE_2__[\"Trait\"](_TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSED));\r\n                }\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DMG_POISON_DOT:\r\n                // poison has already had armor applied, so the dot damage should ignore armor calculations\r\n                this.health -= amount;\r\n                totalDmg = amount;\r\n            //do other things here\r\n        }\r\n        this._onHealthChanged();\r\n        this._onDamageTaken(Math.ceil(totalDmg), damageType, isCrit);\r\n    }\r\n\r\n    save() {\r\n        var saveObj = {};\r\n        saveObj['st'] = this.stats;\r\n        saveObj['hp'] = this.health;\r\n        return saveObj;\r\n    }\r\n    load(saveObj) {\r\n        this.stats = saveObj['st'];\r\n        this.health = saveObj['hp'];\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/Creature.js?");

/***/ }),

/***/ "./src/data/CreatureDefinition.js":
/*!****************************************!*\
  !*** ./src/data/CreatureDefinition.js ***!
  \****************************************/
/*! exports provided: CreatureDefinition */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreatureDefinition\", function() { return CreatureDefinition; });\n/* harmony import */ var _Creature__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Creature */ \"./src/data/Creature.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _Trait__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Trait */ \"./src/data/Trait.js\");\n\r\n\r\n\r\n\r\n\r\nclass CreatureDefinition {\r\n    constructor(name, texture, str, dex, sta, arc, def, off, health, armor, damage, minRatio,\r\n        poison, fire, magic, frost, lightning, curse, atkSpeed, crit, trait, xp, materials) {\r\n        this.mods = {\r\n            // CORE\r\n            str: str,\r\n            dex: dex,\r\n            sta: sta,\r\n            arc: arc,\r\n            def: def,\r\n            off: off,\r\n            // BONUS\r\n            health: health,\r\n            armor: armor,\r\n            damage: damage,\r\n            poison: poison,\r\n            fire: fire,\r\n            magic: magic,\r\n            frost: frost,\r\n            lightning: lightning,\r\n            curse: curse\r\n        }\r\n        this.name = name;\r\n        this.texture = texture;\r\n        this.critChance = crit;\r\n        this.attackSpeed = atkSpeed;\r\n        this.minDamageRatio = minRatio;\r\n        this.xp = xp;\r\n        this.materials = materials;\r\n        this.trait = trait;\r\n    }\r\n\r\n    CreateCreatureAtLevel(level) {\r\n        const creature = new _Creature__WEBPACK_IMPORTED_MODULE_0__[\"Creature\"](this.name);\r\n\r\n        const baseStat = (_Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].MONSTER_BASE_STAT + level * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].MONSTER_STAT_PER_LEVEL) *\r\n            Math.pow(_Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].MONSTER_STAT_PERCENT, level);\r\n        const rewardModifier = 1 + (level - 1) / 2;\r\n\r\n        creature.stats.str = baseStat * this.mods.str;\r\n        creature.stats.dex = baseStat * this.mods.dex;\r\n        creature.stats.sta = baseStat * this.mods.sta;\r\n        creature.stats.arc = baseStat * this.mods.arc;\r\n        creature.stats.def = baseStat * this.mods.def;\r\n        creature.stats.off = baseStat * this.mods.off;\r\n\r\n        creature.bonus.health = creature.MaxHealth() * this.mods.health;\r\n        creature.bonus.armor = baseStat * this.mods.armor;\r\n        creature.bonus.ward = baseStat * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].MONSTER_WARD_BONUS;\r\n        creature.bonus.damage = baseStat * this.mods.damage;\r\n        creature.bonus.poison = baseStat * this.mods.poison;\r\n        creature.bonus.fire = baseStat * this.mods.fire;\r\n        creature.bonus.magic = baseStat * this.mods.magic;\r\n        creature.bonus.frost = baseStat * this.mods.frost;\r\n        creature.bonus.lightning = baseStat * this.mods.lightning;\r\n        creature.bonus.curse = baseStat * this.mods.curse;\r\n\r\n        creature.xp = this.xp * rewardModifier;\r\n        creature.materials = this.materials * rewardModifier;\r\n        creature.attackSpeed = this.attackSpeed;\r\n        creature.critChance = this.critChance;\r\n        creature.minDamageRatio = this.minDamageRatio;\r\n        creature.level = level;\r\n        creature.texture = this.texture;\r\n\r\n        creature.AddTrait(new _Trait__WEBPACK_IMPORTED_MODULE_2__[\"Trait\"](this.trait));\r\n\r\n        creature.health = creature.MaxHealth();\r\n\r\n        return creature;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/CreatureDefinition.js?");

/***/ }),

/***/ "./src/data/Dungeon.js":
/*!*****************************!*\
  !*** ./src/data/Dungeon.js ***!
  \*****************************/
/*! exports provided: Dungeon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Dungeon\", function() { return Dungeon; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _managers_MonsterManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./managers/MonsterManager */ \"./src/data/managers/MonsterManager.js\");\n/* harmony import */ var _Trait__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Trait */ \"./src/data/Trait.js\");\n/* harmony import */ var _TraitEnum__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TraitEnum */ \"./src/data/TraitEnum.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Statics */ \"./src/data/Statics.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst TRAIT_POOL1 = [\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISONED_BLADE,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_POWDER,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FRENZY,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CHARGED,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRST_STRIKE,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FROST_SHELL,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].MIASMA,\r\n];\r\nconst TRAIT_POOL2 = [\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].UNDEAD,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].MAGIC_RESIST,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].LIGHTNING_RESIST,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].POISON_RESIST,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_RESIST,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FROST_RESIST,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSE_RESIST,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].REGENERATION,\r\n];\r\nconst TRAIT_POOL3 = [\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].FIRE_BREATH,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].CURSE_AURA,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].SHIELD_BASH,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].THORNS,\r\n    _TraitEnum__WEBPACK_IMPORTED_MODULE_3__[\"TraitEnum\"].LIFESTEAL,\r\n];\r\n\r\nclass Dungeon {\r\n    constructor(name, startingLevel, monsterList) {\r\n        this.name = name;\r\n        this.monsterLevel = startingLevel;\r\n        this.monsterList = monsterList;\r\n        this.floor = 0;\r\n        this.traits = [];\r\n        this.exploreXp = 0;\r\n        this.battles = 0;\r\n        this.exploreXpNext = this._nextXP();\r\n        this.rewardsEarned = [];\r\n        this.ResetDungeon();\r\n    }\r\n\r\n    _nextXP() { return _Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].REGION_XP_BASE * Math.pow(_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].REGION_XP_INC, this._baseMonsterLevel()) * 1.5; };\r\n\r\n    ResetDungeon() {\r\n        this.floor = 0;\r\n        this.exploreXp = 0;\r\n        this.battles = 0;\r\n        this.exploreXpNext = this._nextXP();\r\n        this.rewardsEarned = [];\r\n\r\n        this.traits = [];\r\n        this.traits.push(TRAIT_POOL1[_utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(0, TRAIT_POOL1.length)]);\r\n        this.traits.push(TRAIT_POOL2[_utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(0, TRAIT_POOL2.length)]);\r\n        this.traits.push(TRAIT_POOL3[_utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(0, TRAIT_POOL3.length)]);\r\n    }\r\n\r\n    ResetFloor() {\r\n        this.exploreXp = 0;\r\n        this.battles = 0;\r\n        this.exploreXpNext = this._nextXP();\r\n    }\r\n    AdvanceFloor() {\r\n        this.exploreXp = 0;\r\n        this.exploreXpNext = this._nextXP();\r\n        this.floor += 1;\r\n        this.battles = 0;\r\n    }\r\n\r\n    TrackBattle() {\r\n        this.battles += 1;\r\n    }\r\n    TrackReward(idx, amount) {\r\n        this.rewardsEarned.push([idx, amount]);\r\n    }\r\n\r\n    Title() { return this.name + \" Lv\" + this._baseMonsterLevel(); }\r\n\r\n    RewardPower(multi = 1) {\r\n        var ml = this._baseMonsterLevel();\r\n        return ml * _Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].DUNGEON_REWARD_BASE * Math.pow(_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].DUNGEON_REWARD_SCALING, ml) * multi;\r\n    }\r\n\r\n    GetActiveTraits() {\r\n        var ret = [];\r\n        ret.push(this.traits[0]);\r\n        if (this.floor >= 4) {\r\n            ret.push(this.traits[1]);\r\n        }\r\n        if (this.floor >= 8) {\r\n            ret.push(this.traits[2]);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    _baseMonsterLevel() { return this.monsterLevel + this.floor * 5; }\r\n\r\n    MonsterLevel() {\r\n        return this._baseMonsterLevel() + Math.floor(this.battles / 10);\r\n    }\r\n\r\n    GetMonsters() {\r\n        var level = this.MonsterLevel();\r\n        var count = level >= 30 ? 3 : 2;\r\n        var traits = this.GetActiveTraits();\r\n\r\n        var ret = [];\r\n        for (var i = 0; i < count; i++) {\r\n            var tag = this.monsterList[_utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(0, this.monsterList.length)];\r\n            var monster = _managers_MonsterManager__WEBPACK_IMPORTED_MODULE_1__[\"MonsterManager\"].getInstance().GetMonsterAtLevel(tag, level);\r\n            for (var t = 0; t < traits.length; t++) {\r\n                monster.AddTrait(new _Trait__WEBPACK_IMPORTED_MODULE_2__[\"Trait\"](traits[t]));\r\n            }\r\n            ret.push(monster);\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    // this.name = name;\r\n    // this.monsterLevel = startingLevel;\r\n    // this.monsterList = monsterList;\r\n    // this.floor = 0;\r\n    // this.traits = [];\r\n    // this.exploreXpNext = this._nextXP();\r\n    // this.rewardsEarned = [];\r\n    save() {\r\n        var saveObj = {};\r\n        saveObj['fl'] = this.floor;\r\n        saveObj['tr'] = this.traits;\r\n        saveObj['re'] = this.rewardsEarned;\r\n        return saveObj;\r\n    }\r\n    load(saveObj) {\r\n        this.floor = saveObj['fl'];\r\n        this.traits = saveObj['tr'];\r\n        this.rewardsEarned = saveObj['re'];\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/Dungeon.js?");

/***/ }),

/***/ "./src/data/Equipment.js":
/*!*******************************!*\
  !*** ./src/data/Equipment.js ***!
  \*******************************/
/*! exports provided: Equipment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Equipment\", function() { return Equipment; });\n/* harmony import */ var _managers_RebirthManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _resources_Strings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./resources/Strings */ \"./src/data/resources/Strings.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Statics */ \"./src/data/Statics.js\");\n\r\n\r\n\r\n\r\n\r\nclass Equipment {\r\n    constructor(name, enhanceCosts, levelCosts, texture, equipType) {\r\n        this.name = name;\r\n        this.texture = texture;\r\n        this.level = 0;\r\n        this.enhancement = 0;\r\n        this.enhanceCostBase = enhanceCosts;\r\n        this.enhanceCost = [];\r\n        this.enhanceCostMulti = 1;\r\n        this.levelCostBase = levelCosts;\r\n        this.levelCost = [];\r\n        this.isEquiped = false;\r\n        this.equipType = equipType;\r\n\r\n        // stats that dont get reset\r\n        this.masteryLevel = 0;\r\n        this.masteryXp = 0;\r\n        this.masteryXpNext = _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].MASTERY_BASE_XP;\r\n        this.unlocked = false;\r\n\r\n        this.bonus = {\r\n            // CORE\r\n            str: 0,\r\n            dex: 0,\r\n            sta: 0,\r\n            arc: 0,\r\n            def: 0,\r\n            off: 0,\r\n            armor: 0,\r\n            damage: 0,\r\n            health: 0,\r\n\r\n            // SECONDARY\r\n            hit: 0,\r\n            eva: 0,\r\n            critPow: 0,\r\n            critRes: 0,\r\n            regen: 0,\r\n            ward: 0,\r\n            poison: 0,\r\n            fire: 0,\r\n            magic: 0,\r\n            frost: 0,\r\n            lightning: 0,\r\n            curse: 0\r\n        }\r\n        this.nonScaledBonus = {\r\n            crit: 0,\r\n            trait: -1\r\n        }\r\n\r\n\r\n        for (var i = 0; i < this.enhanceCostBase.length; i++) {\r\n            this.enhanceCost.push(this.enhanceCostBase[i]);\r\n        }\r\n        for (var i = 0; i < this.levelCostBase.length; i++) {\r\n            this.levelCost.push(this.levelCostBase[i]);\r\n        }\r\n    }\r\n\r\n    Init(str, dex, sta, arc, def, off, health, armor, dmg, hit, eva,\r\n        critPow, critRes, regen, ward, poison, fire, magic, frost, lightning, curse,\r\n        crit, trait = -1) {\r\n        this.bonus = {\r\n            // CORE\r\n            damage: dmg,\r\n            poison: poison,\r\n            fire: fire,\r\n            magic: magic,\r\n            frost: frost,\r\n            lightning: lightning,\r\n            curse: curse,\r\n            armor: armor,\r\n            ward: ward,\r\n            health: health,\r\n            str: str,\r\n            dex: dex,\r\n            sta: sta,\r\n            arc: arc,\r\n            def: def,\r\n            off: off,\r\n            hit: hit,\r\n            eva: eva,\r\n            critPow: critPow,\r\n            critRes: critRes,\r\n            regen: regen,\r\n        }\r\n        this.nonScaledBonus = {\r\n            crit: crit,\r\n            trait: trait\r\n        }\r\n    }\r\n\r\n    Rebirth() {\r\n        this.level = 0;\r\n        this.enhancement = 0;\r\n        this.enhanceCostMulti = 1;\r\n        this.enhanceCost = [];\r\n        this.levelCost = [];\r\n        this.isEquiped = false;\r\n        for (var i = 0; i < this.enhanceCostBase.length; i++) {\r\n            this.enhanceCost.push(this.enhanceCostBase[i]);\r\n        }\r\n        for (var i = 0; i < this.levelCostBase.length; i++) {\r\n            this.levelCost.push(this.levelCostBase[i]);\r\n        }\r\n    }\r\n\r\n    TotalScaling() {\r\n        return Math.pow(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].SCALING_PER_LEVEL, this.level) *\r\n            (1 + (this.enhancement / 100.0) * (_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].ENHANCEMENT_BONUS + _managers_RebirthManager__WEBPACK_IMPORTED_MODULE_0__[\"RebirthManager\"].getInstance().perks['enhance1'].level * 0.05)) *\r\n            (1 + this.masteryLevel * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].MASTERY_BONUS);\r\n    }\r\n\r\n    AddMastery(amount) {\r\n        this.masteryXp += amount;\r\n        if (this.masteryXp >= this.masteryXpNext) {\r\n            this.masteryXp -= this.masteryXpNext;\r\n            this.masteryLevel += 1;\r\n            this.masteryXpNext = _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].MASTERY_BASE_XP * (this.masteryLevel + 1);\r\n        }\r\n    }\r\n\r\n    GetEnhanceCosts() { return [this.enhanceCost[0] * this.enhanceCostMulti, this.enhanceCost[1] * this.enhanceCostMulti] }\r\n\r\n    Enhance() {\r\n        this.enhanceCostMulti += _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].ENHANCEMENT_COST_SCALING;\r\n        var rawEnhancement = _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].ENHANCEMENT_BASE + 0.5 * _managers_RebirthManager__WEBPACK_IMPORTED_MODULE_0__[\"RebirthManager\"].getInstance().perks['enhance2'].level;\r\n        var amount = Math.min(rawEnhancement, 100 - this.enhancement);\r\n        this.enhancement += amount;\r\n        this.AddMastery(amount * (1 + this.level * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].MASTERY_LEVEL_BONUS));\r\n    }\r\n\r\n    LevelUp() {\r\n        this.level += 1;\r\n        this.enhanceCostMulti = 1;\r\n        this.enhancement = _managers_RebirthManager__WEBPACK_IMPORTED_MODULE_0__[\"RebirthManager\"].getInstance().perks['enhance3'].level;\r\n        var scaling = Math.pow(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EQUIP_LEVEL_COST_SCALING, this.level)\r\n        for (var i = 0; i < this.enhanceCost.length; i++) {\r\n            this.enhanceCost[i] = this.enhanceCostBase[i] * scaling;\r\n        }\r\n        for (var i = 0; i < this.levelCost.length; i++) {\r\n            this.levelCost[i] = this.levelCostBase[i] * scaling;\r\n        }\r\n    }\r\n\r\n    GetBonus(__creature) {\r\n        var ret = {};\r\n        const scaling = this.TotalScaling();\r\n\r\n        for (const item in this.bonus) {\r\n            ret[item] = this.bonus[item] * scaling;\r\n        }\r\n        for (const item in this.nonScaledBonus) {\r\n            ret[item] = this.nonScaledBonus[item];\r\n        }\r\n\r\n        return ret;\r\n    }\r\n\r\n    GetName() {\r\n        if (this.level === 0) {\r\n            return this.name;\r\n        }\r\n        return this.name + \" +\" + this.level;\r\n    }\r\n\r\n    GetTextDetails() {\r\n        var ret = \"\";\r\n        var bonus = this.GetBonus();\r\n        for (var prop in bonus) {\r\n            if (bonus[prop] > 0 || (prop === 'trait' && bonus[prop] !== -1)) {\r\n                ret += _resources_Strings__WEBPACK_IMPORTED_MODULE_1__[\"Strings\"].EquipmentText(prop, bonus[prop]) + \"\\n\";\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    save() {\r\n        var saveObj = {};\r\n        saveObj['lvl'] = this.level;\r\n        saveObj['en'] = this.enhancement;\r\n        saveObj['enc'] = this.enhanceCost;\r\n        saveObj['encm'] = this.enhanceCostMulti;\r\n        saveObj['lc'] = this.levelCost;\r\n        saveObj['eq'] = this.isEquiped;\r\n        saveObj['un'] = this.unlocked;\r\n        saveObj['ml'] = this.masteryLevel;\r\n        saveObj['mxp'] = this.masteryXp;\r\n        saveObj['mxpn'] = this.masteryXpNext;\r\n        return saveObj;\r\n    }\r\n\r\n    load(saveObj) {\r\n        this.level = saveObj['lvl'];\r\n        this.enhancement = saveObj['en'];\r\n        this.enhanceCost = saveObj['enc'];\r\n        this.enhanceCostMulti = saveObj['encm'];\r\n        this.levelCost = saveObj['lc'];\r\n        this.isEquiped = saveObj['eq'];\r\n        this.unlocked = saveObj['un'];\r\n        this.masteryLevel = saveObj['ml'];\r\n        this.masteryXp = saveObj['mxp'];\r\n        this.masteryXpNext = saveObj['mxpn'];\r\n        return saveObj;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/Equipment.js?");

/***/ }),

/***/ "./src/data/Perk.js":
/*!**************************!*\
  !*** ./src/data/Perk.js ***!
  \**************************/
/*! exports provided: Perk */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Perk\", function() { return Perk; });\n\r\n\r\nclass Perk {\r\n    constructor(name, id, maxLvl, cost, texture, requirements, position) {\r\n        this.name = name;\r\n        this.id = id;\r\n        this.maxLevel = maxLvl;\r\n        this.level = 0;\r\n        this.costMulti = 1;\r\n        this.baseCost = cost;\r\n        this.texture = texture;\r\n        this.requirements = requirements;\r\n        this.position = position;\r\n    }\r\n\r\n    LevelUp() {\r\n        this.level += 1;\r\n        this.costMulti += Math.pow(2, Math.floor(this.level / 5));\r\n    }\r\n\r\n    GetCost() { return Math.floor(this.baseCost * this.costMulti); }\r\n\r\n    IsMaxed() { return this.level >= this.maxLevel; }\r\n\r\n    save() {\r\n        var saveObj = {}\r\n        saveObj['lvl'] = this.level;\r\n        saveObj['cm'] = this.costMulti;\r\n        return saveObj;\r\n    }\r\n    load(saveObj) {\r\n        this.level = saveObj['lvl'];\r\n        this.costMulti = saveObj['cm'];\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/Perk.js?");

/***/ }),

/***/ "./src/data/PlayerCreature.js":
/*!************************************!*\
  !*** ./src/data/PlayerCreature.js ***!
  \************************************/
/*! exports provided: PlayerCreature */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlayerCreature\", function() { return PlayerCreature; });\n/* harmony import */ var _Creature__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Creature */ \"./src/data/Creature.js\");\n/* harmony import */ var _managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Statics */ \"./src/data/Statics.js\");\n\r\n\r\n\r\n\r\nclass PlayerCreature extends _Creature__WEBPACK_IMPORTED_MODULE_0__[\"Creature\"] {\r\n\r\n    constructor(name) {\r\n        super(name);\r\n        this.rebirth = _managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__[\"RebirthManager\"].getInstance();\r\n        this.stats.str += this.rebirth.perks['str1'].level * 2;\r\n        this.stats.dex += this.rebirth.perks['dex1'].level * 2;\r\n        this.stats.sta += this.rebirth.perks['sta1'].level * 2;\r\n        this.stats.arc += this.rebirth.perks['arc1'].level * 2;\r\n        this.stats.def += this.rebirth.perks['def1'].level * 2;\r\n        this.stats.off += this.rebirth.perks['off1'].level * 2;\r\n    }\r\n\r\n    Strength() {\r\n        var multi = (1 + this.rebirth.perks['str3'].level * 0.02) * (1 + this.rebirth.perks['str4'].level * 0.01);\r\n        return Math.floor((this.stats.str + this.bonus.str) * multi);\r\n    }\r\n    Dexterity() {\r\n        var multi = (1 + this.rebirth.perks['dex3'].level * 0.02) * (1 + this.rebirth.perks['dex4'].level * 0.01);\r\n        return Math.floor((this.stats.dex + this.bonus.dex) * multi);\r\n    }\r\n    Stamina() {\r\n        var multi = (1 + this.rebirth.perks['sta3'].level * 0.02) * (1 + this.rebirth.perks['sta4'].level * 0.01);\r\n        return Math.floor((this.stats.sta + this.bonus.sta) * multi);\r\n    }\r\n    Arcane() {\r\n        var multi = (1 + this.rebirth.perks['arc3'].level * 0.02) * (1 + this.rebirth.perks['arc4'].level * 0.01);\r\n        return Math.floor((this.stats.arc + this.bonus.arc) * multi);\r\n    }\r\n    Defense() {\r\n        var multi = (1 + this.rebirth.perks['def3'].level * 0.02) * (1 + this.rebirth.perks['def4'].level * 0.01);\r\n        return Math.floor((this.stats.def + this.bonus.def) * multi);\r\n    }\r\n    Offense() {\r\n        var multi = (1 + this.rebirth.perks['off3'].level * 0.02) * (1 + this.rebirth.perks['off4'].level * 0.01);\r\n        return Math.floor((this.stats.off + this.bonus.off) * multi);\r\n    }\r\n    MaxHealth() {\r\n        return Math.floor(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].BASE_HEALTH +\r\n            this.Stamina() * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].HEALTH_PER_STAMINA +\r\n            this.bonus.health);\r\n    }\r\n    Armor() {\r\n        return Math.max(0, Math.floor(this.bonus.armor) - this.armorBreak);\r\n    }\r\n    Warding() {\r\n        var armReduction = _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].ARMOR_WARD_REDUCTION - this.rebirth.perks['armor1'].level * 0.01;\r\n        return Math.max(0, this.Arcane() * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].WARD_PER_ARCANE + this.bonus.ward -\r\n            this.Armor() * armReduction);\r\n    }\r\n\r\n    HitChance() {\r\n        return Math.floor(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].BASE_HIT + this.Dexterity() * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].HIT_PER_DEXTERITY +\r\n            this.Offense() * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].HIT_PER_OFFENSE +\r\n            this.bonus.hit);\r\n    }\r\n    Evasion() {\r\n        return Math.floor(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].BASE_HIT + this.Dexterity() * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EVA_PER_DEXTERITY +\r\n            this.Defense() * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EVA_PER_DEFENSE +\r\n            this.bonus.eva);\r\n    }\r\n    Regen() {\r\n        return this.Stamina() * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGEN_PER_STAMINA + this.bonus.regen;\r\n    }\r\n    CritPower() {\r\n        return Math.floor(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].BASE_CRIT + this.Offense() * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].CRIT_PER_OFFENSE +\r\n            this.bonus.critPow - this.curseValue);\r\n    }\r\n    CritRes() {\r\n        return Math.floor(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].BASE_CRIT + this.Defense() * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].RES_PER_DEFENSE +\r\n            this.bonus.critRes - this.curseValue);\r\n    }\r\n    Poison() {\r\n        var multi = (1 + this.rebirth.perks['poison1'].level * 0.05) * (1 + this.rebirth.perks['poison2'].level * 0.03);\r\n        return Math.floor((this.bonus.poison + this.bonus.damageFromScaling[1]) * multi);\r\n    }\r\n    Fire() {\r\n        var multi = (1 + this.rebirth.perks['fire1'].level * 0.05) * (1 + this.rebirth.perks['fire2'].level * 0.03);\r\n        return Math.floor((this.bonus.fire + this.bonus.damageFromScaling[2]) * multi);\r\n    }\r\n    Magic() {\r\n        var multi = (1 + this.rebirth.perks['magic1'].level * 0.05) * (1 + this.rebirth.perks['magic2'].level * 0.03);\r\n        return Math.floor((this.bonus.magic + this.bonus.damageFromScaling[3]) * multi);\r\n    }\r\n    Frost() {\r\n        var multi = (1 + this.rebirth.perks['frost1'].level * 0.05) * (1 + this.rebirth.perks['frost2'].level * 0.03);\r\n        return Math.floor((this.bonus.frost + this.bonus.damageFromScaling[4]) * multi);\r\n    }\r\n    Lightning() {\r\n        var multi = (1 + this.rebirth.perks['light1'].level * 0.05) * (1 + this.rebirth.perks['light2'].level * 0.03);\r\n        return Math.floor((this.bonus.lightning + this.bonus.damageFromScaling[5]) * multi);\r\n    }\r\n    Curse() {\r\n        var multi = (1 + this.rebirth.perks['curse1'].level * 0.05) * (1 + this.rebirth.perks['curse2'].level * 0.03);\r\n        return Math.floor((this.bonus.curse + this.bonus.damageFromScaling[6]) * multi);\r\n    }\r\n    ElementalBonus() {\r\n        var eleBonus = _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].ELEMENTAL_PER_ARCANE + this.rebirth.perks['power1'].level * 0.01;\r\n        return this.Arcane() * eleBonus;\r\n    }\r\n\r\n    CopyWeaponStats(gear) {\r\n        super.CopyWeaponStats(gear);\r\n        this.critChance += this.rebirth.perks['crit1'].level * 0.5;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/PlayerCreature.js?");

/***/ }),

/***/ "./src/data/Statics.js":
/*!*****************************!*\
  !*** ./src/data/Statics.js ***!
  \*****************************/
/*! exports provided: Statics */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Statics\", function() { return Statics; });\nvar Statics = {\r\n    //TIME\r\n    MONTH_NAMES: [\"Primas\", \"Twin\", \"Threed\", \"Tera\", \"Pentas\", \"Hexat\", \"Septus\", \"Octor\", \"Novum\", \"Deccan\", \"Hendeka\", \"Dodecan\", \"Zenith\"],\r\n    TIME_PER_HOUR: 1000,\r\n    TIME_PER_DAY: 24000,\r\n    TIME_PER_MONTH: 672000,\r\n    TIME_PER_YEAR: 8736000,\r\n    HOURS_PER_DAY: 24,\r\n    DAYS_PER_MONTH: 28,\r\n    MONTHS_PER_YEAR: 13,\r\n\r\n    AUTOSAVE_TIMER: 60000,\r\n\r\n    // STATS\r\n    BASE_HEALTH: 20,\r\n    BASE_HIT: 50,\r\n    BASE_CRIT: 100,\r\n    HEALTH_PER_STAMINA: 6,\r\n    REGEN_PER_STAMINA: 0.35,\r\n    MAXDMG_PER_STRENGTH: 0.5,\r\n    HIT_PER_DEXTERITY: 5,\r\n    EVA_PER_DEXTERITY: 5,\r\n    WARD_PER_ARCANE: 0.35,\r\n    ELEMENTAL_PER_ARCANE: 0.2,\r\n    ARMOR_WARD_REDUCTION: 0.25,\r\n    RES_PER_DEFENSE: 5,\r\n    EVA_PER_DEFENSE: 5,\r\n    CRIT_PER_OFFENSE: 5,\r\n    HIT_PER_OFFENSE: 5,\r\n    ATTACK_SPEED_POWER: 0.85,\r\n    STAT_INC_COST: 25,\r\n    STAT_GLOBAL_INC_COST: 5,\r\n\r\n    // COMBAT\r\n    DMG_PHSYICAL: 0,\r\n    DMG_MAGIC: 1,\r\n    DMG_POISON: 2,\r\n    DMG_FIRE: 3,\r\n    DMG_COLD: 4,\r\n    DMG_LIGHTNING: 5,\r\n    DMG_CURSE: 6,\r\n    DMG_POISON_DOT: 7,\r\n    COMBAT_COOLDOWN: 2500,\r\n    STATUS_TICK_TIMER: 400,\r\n\r\n    // EQUIPMENT\r\n    SCALING_PER_LEVEL: 1.5,\r\n    ENHANCEMENT_BONUS: 1.5,\r\n    ENHANCEMENT_COST_SCALING: 0.25,\r\n    EQUIP_LEVEL_COST_SCALING: 2,\r\n    MASTERY_BONUS: 0.01,\r\n    ENHANCEMENT_BASE: 5,\r\n    MASTERY_BASE_XP: 15,\r\n    MASTERY_LEVEL_BONUS: 0.5,\r\n\r\n    // EQUIPMENT TYPE ENUM\r\n    EQUIP_WEAPON: 0,\r\n    EQUIP_ARMOR: 1,\r\n    EQUIP_OFFENSIVE: 2,\r\n    EQUIP_DEFENSIVE: 3,\r\n\r\n    // BUILDING TYPE ENUM\r\n    BLD_TOWN: 0,\r\n    BLD_MARKET: 1,\r\n    BLD_BANK: 2,\r\n    BLD_HALL: 3,\r\n    BLD_RESIDENT: 4,\r\n\r\n    // REGIONS\r\n    REGION_XP_BASE: 20000,\r\n    REGION_XP_INC: 1.075,\r\n    EXP_MODE_REGION: 0,\r\n    EXP_MODE_PATROL: 1,\r\n    EXP_MODE_DUNGEON: 2,\r\n\r\n    // MONSTERS\r\n    MONSTER_BASE_STAT: 6,\r\n    MONSTER_STAT_PER_LEVEL: 1,\r\n    MONSTER_STAT_PERCENT: 1.04,\r\n    MONSTER_WARD_BONUS: 0.1,\r\n\r\n    // INVASIONS\r\n    INVASION_TIMER_MIN: 150000,\r\n    INVASION_TIMER_MAX: 300000,\r\n    INVASION_MIN_EXPLORE: 30000,\r\n    INVASION_SHADE_LEVEL: 200,\r\n    INVASION_MATS_LEVEL: 140,\r\n\r\n    // MOTES\r\n    MOTE_MAX_DEPTH_BONUS: 1.025,\r\n\r\n    // DUNGEONS\r\n    DUNGEON_REWARD_BASE: 20,\r\n    DUNGEON_REWARD_SCALING: 1.01,\r\n    DUNGEON_STAT_COST: 90,\r\n    DUNGEON_MATS_COST: 9,\r\n    DUNGEON_XP_COST: 2.25,\r\n    DUNGEON_GOLD_COST: 120,\r\n    DUNGEON_GOLD_CAP: 25,\r\n    DUNGEON_ALL_RES_COST: 2500,\r\n    DUNGEON_MASTERY_COST: 4.25,\r\n    DUNGEON_ECON_COST: 15000,\r\n    DUNGEON_MOTES_COST: 55,\r\n\r\n    //DUNGEON REWARDS ENUM\r\n    DREWARD_STATS: 0,\r\n    DREWARD_MATS: 1,\r\n    DREWARD_XP: 2,\r\n    DREWARD_GOLD: 3,\r\n    DREWARD_RES: 4,\r\n    DREWARD_MASTERY: 5,\r\n    DREWARD_ECON: 6,\r\n    DREWARD_MOTES: 7,\r\n\r\n};\r\n\r\n\n\n//# sourceURL=webpack:///./src/data/Statics.js?");

/***/ }),

/***/ "./src/data/Trait.js":
/*!***************************!*\
  !*** ./src/data/Trait.js ***!
  \***************************/
/*! exports provided: Trait */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Trait\", function() { return Trait; });\n/* harmony import */ var _TraitEnum__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TraitEnum */ \"./src/data/TraitEnum.js\");\n\r\n\r\nclass Trait {\r\n    constructor(trait) {\r\n        this.trait = trait;\r\n        // used as flags or values by the traits implementation\r\n        this.vals = [0, 0, 0];\r\n    }\r\n\r\n    static GetTexture(trait) {\r\n        switch (trait) {\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].BLOCK:\r\n                return { sprite: \"icons2\", tile: 0 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].REGENERATION:\r\n                return { sprite: \"icons2\", tile: 1 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].POISONED_BLADE:\r\n                return { sprite: \"icons2\", tile: 2 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].FRENZY:\r\n                return { sprite: \"icons2\", tile: 3 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].UNDEAD:\r\n                return { sprite: \"icons2\", tile: 4 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].LIFESTEAL:\r\n                return { sprite: \"icons2\", tile: 5 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].LIGHTNING_RESIST:\r\n                return { sprite: \"icons2\", tile: 6 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].SWARM:\r\n                return { sprite: \"icons2\", tile: 7 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].MALEDICT:\r\n                return { sprite: \"icons2\", tile: 8 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].FORTITUDE:\r\n                return { sprite: \"icons2\", tile: 9 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].FIRE_BREATH:\r\n                return { sprite: \"icons2\", tile: 10 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].CURSE_AURA:\r\n                return { sprite: \"icons2\", tile: 11 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].THORNS:\r\n                return { sprite: \"icons2\", tile: 12 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].ENCHANTMENT:\r\n                return { sprite: \"icons2\", tile: 13 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].MAGIC_RESIST:\r\n                return { sprite: \"icons2\", tile: 14 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].SHIELD_BASH:\r\n                return { sprite: \"icons2\", tile: 15 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].FIRE_POWDER:\r\n                return { sprite: \"icons2\", tile: 16 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].CHARGED:\r\n                return { sprite: \"icons2\", tile: 17 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].POISON_RESIST:\r\n                return { sprite: \"icons2\", tile: 18 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].FIRE_RESIST:\r\n                return { sprite: \"icons2\", tile: 19 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].FROST_RESIST:\r\n                return { sprite: \"icons2\", tile: 20 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].CURSE_RESIST:\r\n                return { sprite: \"icons2\", tile: 21 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].LIVING_WOOD:\r\n                return { sprite: \"icons2\", tile: 22 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].SIPHON:\r\n                return { sprite: \"icons2\", tile: 23 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].CARAPICE:\r\n                return { sprite: \"icons2\", tile: 24 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].BLOODLUST:\r\n                return { sprite: \"icons2\", tile: 25 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].HEAVY:\r\n                return { sprite: \"icons2\", tile: 26 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].HEAVY_HEART:\r\n                return { sprite: \"icons2\", tile: 27 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].PHYLACTERY:\r\n                return { sprite: \"icons2\", tile: 28 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].SLUMBERING_DRAGON:\r\n                return { sprite: \"icons2\", tile: 29 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].FIRST_STRIKE:\r\n                return { sprite: \"icons2\", tile: 30 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].MIASMA:\r\n                return { sprite: \"icons2\", tile: 31 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].FROST_SHELL:\r\n                return { sprite: \"icons2\", tile: 32 };\r\n            // STATUS EFFECTS\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].POISONED:\r\n                return { sprite: \"icons2\", tile: 128 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].BURNED:\r\n                return { sprite: \"icons2\", tile: 129 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].ARMOR_BREAK:\r\n                return { sprite: \"icons2\", tile: 130 };\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_0__[\"TraitEnum\"].CURSED:\r\n                return { sprite: \"icons2\", tile: 131 };\r\n        }\r\n        return { sprite: \"icons\", tile: 0 };\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/Trait.js?");

/***/ }),

/***/ "./src/data/TraitEnum.js":
/*!*******************************!*\
  !*** ./src/data/TraitEnum.js ***!
  \*******************************/
/*! exports provided: TraitEnum */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TraitEnum\", function() { return TraitEnum; });\nvar TraitEnum = {\r\n    BLOCK: 0,\r\n    REGENERATION: 1,\r\n    POISONED_BLADE: 2,\r\n    FRENZY: 3,\r\n    UNDEAD: 4,\r\n    LIFESTEAL: 5,\r\n    LIGHTNING_RESIST: 6,\r\n    SWARM: 7,\r\n    MALEDICT: 8,\r\n    FORTITUDE: 9,\r\n    FIRE_BREATH: 10,\r\n    CURSE_AURA: 11,\r\n    THORNS: 12,\r\n    ENCHANTMENT: 13,\r\n    MAGIC_RESIST: 14,\r\n    SHIELD_BASH: 15,\r\n    FIRE_POWDER: 16,\r\n    CHARGED: 17,\r\n    POISON_RESIST: 18,\r\n    FIRE_RESIST: 19,\r\n    FROST_RESIST: 20,\r\n    CURSE_RESIST: 21,\r\n    LIVING_WOOD: 22,\r\n    SIPHON: 23,\r\n    CARAPICE: 24,\r\n    BLOODLUST: 25,\r\n    HEAVY: 26,\r\n    HEAVY_HEART: 27,\r\n    PHYLACTERY: 28,\r\n    SLUMBERING_DRAGON: 29,\r\n    FIRST_STRIKE: 30,\r\n    MIASMA: 31,\r\n    FROST_SHELL: 32,\r\n\r\n    //status effects\r\n    POISONED: 100,\r\n    BURNED: 101,\r\n    ARMOR_BREAK: 102,\r\n    CURSED: 103,\r\n};\r\n\r\n\n\n//# sourceURL=webpack:///./src/data/TraitEnum.js?");

/***/ }),

/***/ "./src/data/Weapon.js":
/*!****************************!*\
  !*** ./src/data/Weapon.js ***!
  \****************************/
/*! exports provided: Weapon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Weapon\", function() { return Weapon; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _Equipment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Equipment */ \"./src/data/Equipment.js\");\n/* harmony import */ var _resources_Strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./resources/Strings */ \"./src/data/resources/Strings.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Statics */ \"./src/data/Statics.js\");\n\r\n\r\n\r\n\r\n\r\nclass Weapon extends _Equipment__WEBPACK_IMPORTED_MODULE_1__[\"Equipment\"] {\r\n\r\n    constructor(name, enhanceCosts, levelCosts, texture, equipType, dmgScaling, dmgRatio, attackSpeed, critChance) {\r\n        super(name, enhanceCosts, levelCosts, texture, equipType);\r\n\r\n        this.damageScaling = dmgScaling;\r\n        this.minDamageRatio = dmgRatio;\r\n        this.baseAttackSpeed = attackSpeed;\r\n        this.critChance = critChance;\r\n    }\r\n\r\n    GetDamageFromAttributes(creature) {\r\n        var statArray = [\r\n            creature.Strength(),\r\n            creature.Dexterity(),\r\n            creature.Stamina(),\r\n            creature.Arcane(),\r\n            creature.Defense(),\r\n            creature.Offense()\r\n        ];\r\n\r\n        var dmg = [0, 0, 0, 0, 0, 0, 0];\r\n        for (var i = 0; i < this.damageScaling.length; i++) {\r\n            dmg[0] += this.damageScaling[i] * statArray[i];\r\n        }\r\n        if (this.bonus.fire > 0) {\r\n            dmg[1] += creature.ElementalBonus();\r\n        }\r\n        if (this.bonus.poison > 0) {\r\n            dmg[2] += creature.ElementalBonus();\r\n        }\r\n        if (this.bonus.magic > 0) {\r\n            dmg[3] += creature.ElementalBonus();\r\n        }\r\n        if (this.bonus.frost > 0) {\r\n            dmg[4] += creature.ElementalBonus();\r\n        }\r\n        if (this.bonus.lightning > 0) {\r\n            dmg[5] += creature.ElementalBonus();\r\n        }\r\n        if (this.bonus.curse > 0) {\r\n            dmg[6] += creature.ElementalBonus();\r\n        }\r\n        return dmg;\r\n    }\r\n\r\n    _scalingString() {\r\n        var ret = \"\";\r\n        const statNames = [\"Strength\", \"Dexterity\", \"Stamina\", \"Arcane\", \"Defense\", \"Offense\"];\r\n\r\n        for (var i = 0; i < this.damageScaling.length; i++) {\r\n            if (this.damageScaling[i] > 0) {\r\n                if (ret.length > 0) {\r\n                    ret += \", \";\r\n                }\r\n                ret += Math.floor(this.damageScaling[i] * 100) + \"% \" + statNames[i];\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    GetTextDetails() {\r\n        var ret = \"\";\r\n        var bonus = super.GetBonus();\r\n        for (var prop in bonus) {\r\n            if (bonus[prop] > 0) {\r\n                ret += _resources_Strings__WEBPACK_IMPORTED_MODULE_2__[\"Strings\"].EquipmentText(prop, bonus[prop]) + \"\\n\";\r\n            }\r\n        }\r\n        ret += \"\\n\";\r\n        ret += _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.baseAttackSpeed / 1000.0, true) + \"s Attack Speed\\n\";\r\n        ret += _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.critChance * 100, true) + \"% Crit Chance\\n\";\r\n        ret += \"Damage Scaling:\\n\" + this._scalingString() + \"\\n\";\r\n        ret += \"Min Damage Ratio: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.minDamageRatio * 100) + \"%\";\r\n        return ret;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/Weapon.js?");

/***/ }),

/***/ "./src/data/WorldTime.js":
/*!*******************************!*\
  !*** ./src/data/WorldTime.js ***!
  \*******************************/
/*! exports provided: WorldTime */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WorldTime\", function() { return WorldTime; });\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Statics */ \"./src/data/Statics.js\");\n\r\n\r\nclass WorldTime {\r\n    constructor(time = 0) {\r\n        this.time = time;\r\n        this.offlineTime = 0;\r\n        this.frameDelta = 0;\r\n        this.delta = 0;\r\n        this.timescale = 1;\r\n        this.onDayEndHandlers = [];\r\n        this.onWeekEndHandlers = [];\r\n        this.pauseTimestamp = -1;\r\n    }\r\n\r\n    getYears() { return Math.floor(this.time / _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_YEAR); }\r\n    getMonths() { return Math.floor((this.time % _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_YEAR) / _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_MONTH); }\r\n    getDays() { return Math.floor(((this.time % _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_YEAR) % _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_MONTH) / _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_DAY); }\r\n    getHours() { return Math.floor((((this.time % _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_YEAR) % _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_MONTH) % _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_DAY) / _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_HOUR); }\r\n    getOfflineTimeString() {\r\n        var hours = Math.floor(this.offlineTime / 3600000);\r\n        var min = Math.floor((this.offlineTime % 3600000) / 60000);\r\n        var sec = Math.floor((this.offlineTime % 60000) / 1000);\r\n        return (\"0\" + hours).slice(-2) + \":\" + (\"0\" + min).slice(-2) + \":\" + (\"0\" + sec).slice(-2);\r\n    }\r\n\r\n    _onDayEnd() {\r\n        for (var i = 0; i < this.onDayEndHandlers.length; i++) {\r\n            this.onDayEndHandlers[i]();\r\n        }\r\n    }\r\n    _onWeekEnd() {\r\n        for (var i = 0; i < this.onWeekEndHandlers.length; i++) {\r\n            this.onWeekEndHandlers[i]();\r\n        }\r\n    }\r\n\r\n    registerEvent(event, callback) {\r\n        if (event === \"onDayEnd\") {\r\n            this.onDayEndHandlers.push(callback);\r\n        } else if (event === \"onWeekEnd\") {\r\n            this.onWeekEndHandlers.push(callback);\r\n        }\r\n    }\r\n\r\n    setTimeScale(scale, fskip) {\r\n        if (scale === 0 && this.timescale !== 0) {\r\n            this.timescale = scale;\r\n            this.pauseTimestamp = Date.now();\r\n            return;\r\n        }\r\n\r\n        if (this.pauseTimestamp !== -1) {\r\n            this.addOfflineTime((Date.now() - this.pauseTimestamp) / 2);\r\n            this.pauseTimestamp = -1;\r\n        }\r\n\r\n        if (this.offlineTime <= 0) {\r\n            return;\r\n        }\r\n        this.timescale = scale;\r\n        this.fskip = fskip;\r\n    }\r\n\r\n    setFrameDelta(delta) {\r\n        this.delta = delta;\r\n        this.frameDelta = delta * this.timescale;\r\n    }\r\n\r\n    addOfflineTime(timeOffline) {\r\n        this.offlineTime = Math.min(86400000, this.offlineTime + timeOffline);\r\n    }\r\n\r\n    update() {\r\n        var prevDay = this.getDays();\r\n        this.time += this.frameDelta;\r\n        var curDay = this.getDays();\r\n        if (prevDay !== curDay) {\r\n            this._onDayEnd();\r\n        }\r\n        if (Math.floor(prevDay / 7) !== Math.floor(curDay / 7)) {\r\n            this._onWeekEnd();\r\n        }\r\n        if (this.timescale > 1) {\r\n            this.offlineTime -= this.delta * (this.timescale - 1);\r\n            if (this.offlineTime <= 0) {\r\n                this.timescale = 1;\r\n                this.offlineTime = 0;\r\n                this.fskip = 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    timeSince(timestamp) {\r\n        return new WorldTime(this.time - timestamp);\r\n    }\r\n\r\n    getText() {\r\n        return \"Year \" + (this.getYears() + 1) + \", \" + _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].MONTH_NAMES[this.getMonths()] + \" \" + (this.getDays() + 1) + \", \" + this.getHours() + \":00\";\r\n    }\r\n\r\n    getTimespanText() {\r\n        var ret = \"\";\r\n        var years = this.getYears();\r\n        if (years > 0) {\r\n            ret += years + \" Years\"\r\n        }\r\n        var months = this.getMonths();\r\n        if (months > 0) {\r\n            ret += (ret.length > 0 ? \", \" : \"\") + months + \" Months\";\r\n        }\r\n        var days = this.getDays();\r\n        if (days > 0) {\r\n            ret += (ret.length > 0 ? \", \" : \"\") + days + \" Days\";\r\n        }\r\n        var hours = this.getHours();\r\n        if (hours > 0) {\r\n            ret += (ret.length > 0 ? \", \" : \"\") + hours + \" Hours\";\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    save() {\r\n        var saveObj = {\r\n            time: this.time,\r\n            otime: this.offlineTime\r\n        }\r\n\r\n        return saveObj;\r\n    }\r\n\r\n    load(saveObj, ver) {\r\n        if (ver <= 4) {\r\n            saveObj.otime = 0;\r\n        }\r\n        this.time = saveObj.time;\r\n        this.offlineTime = saveObj.otime;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/WorldTime.js?");

/***/ }),

/***/ "./src/data/managers/EquipmentManager.js":
/*!***********************************************!*\
  !*** ./src/data/managers/EquipmentManager.js ***!
  \***********************************************/
/*! exports provided: EquipmentManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EquipmentManager\", function() { return EquipmentManager; });\n/* harmony import */ var _Equipment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Equipment */ \"./src/data/Equipment.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _Weapon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Weapon */ \"./src/data/Weapon.js\");\n\r\n\r\n\r\n\r\nclass EquipmentManager {\r\n    constructor() {\r\n        if (!EquipmentManager.instance) {\r\n\r\n            this.weapons = {};\r\n            this.armors = {};\r\n            this.offTrinkets = {};\r\n            this.defTrinkets = {};\r\n\r\n            this.motesFromGear = 0;\r\n\r\n            // WEAPONS\r\n\r\n            var weap = new _Weapon__WEBPACK_IMPORTED_MODULE_2__[\"Weapon\"](\"Short Sword\", [50, 75], [5, 0, 10, 0, 0, 0, 750, 1000], { sprite: \"icons\", tile: 80 },\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON, [0.30, 0.15, 0, 0, 0, 0], 0.45, 1000, 0.1);\r\n            weap.Init(0, 0, 0, 0, 0, 1, 0, 0, 6, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            weap.unlocked = true;\r\n            this.weapons['sword'] = weap;\r\n            weap = new _Weapon__WEBPACK_IMPORTED_MODULE_2__[\"Weapon\"](\"Dagger\", [125, 100], [6, 0, 6, 8, 0, 0, 1500, 1350], { sprite: \"icons\", tile: 81 },\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON, [0.15, 0.15, 0, 0, 0, 0], 0.55, 750, 0.2);\r\n            weap.Init(0, 1, 0, 0, 0, 0, 0, 0, 3, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.weapons['dagger'] = weap;\r\n            weap = new _Weapon__WEBPACK_IMPORTED_MODULE_2__[\"Weapon\"](\"Axe\", [125, 100], [10, 5, 5, 0, 0, 0, 1500, 1350], { sprite: \"icons\", tile: 82 },\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON, [0.5, 0, 0, 0, 0, 0.15], 0.4, 1200, 0.15);\r\n            weap.Init(1, 0, 0, 0, 0, 0, 0, 0, 9, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.weapons['axe'] = weap;\r\n            weap = new _Weapon__WEBPACK_IMPORTED_MODULE_2__[\"Weapon\"](\"Hammer\", [125, 100], [5, 0, 0, 0, 10, 5, 1500, 1350], { sprite: \"icons\", tile: 83 },\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON, [0.7, 0, 0.1, 0, 0, 0], 0.55, 1800, 0.05);\r\n            weap.Init(0, 0, 0, 0, 1, 0, 10, 0, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.weapons['hammer'] = weap;\r\n            weap = new _Weapon__WEBPACK_IMPORTED_MODULE_2__[\"Weapon\"](\"Poison Dagger\", [300, 250], [0, 0, 15, 15, 0, 10, 5000, 3400], { sprite: \"icons\", tile: 85 },\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON, [0.15, 0.2, 0, 0, 0, 0], 0.4, 850, 0.2);\r\n            weap.Init(0, 2, 0, 0, 0, 0, 0, 0, 5, 0, 0, 0, 0, 0, 0, 4, 0, 0, 0, 0, 0, 0);\r\n            this.weapons['dagger2'] = weap;\r\n            weap = new _Weapon__WEBPACK_IMPORTED_MODULE_2__[\"Weapon\"](\"Staff\", [300, 250], [12, 0, 0, 8, 0, 20, 5000, 3400], { sprite: \"icons\", tile: 88 },\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON, [0.15, 0, 0, 0.4, 0, 0], 0.3, 1300, 0.05);\r\n            weap.Init(0, 0, 0, 2, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 1, 0, 0, 7, 0, 0, 0, 0);\r\n            this.weapons['staff'] = weap;\r\n            weap = new _Weapon__WEBPACK_IMPORTED_MODULE_2__[\"Weapon\"](\"Flame Hammer\", [300, 250], [0, 10, 15, 0, 15, 0, 5000, 3400], { sprite: \"icons\", tile: 87 },\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON, [0.7, 0, 0.1, 0.1, 0, 0], 0.45, 1900, 0.05);\r\n            weap.Init(0, 0, 0, 0, 0, 0, 15, 1, 16, 0, 0, 0, 0, 0, 0, 0, 9, 0, 0, 0, 0, 0);\r\n            this.weapons['hammer2'] = weap;\r\n            weap = new _Weapon__WEBPACK_IMPORTED_MODULE_2__[\"Weapon\"](\"Lightning Sword\", [300, 250], [10, 5, 15, 0, 0, 10, 5000, 3400], { sprite: \"icons\", tile: 84 },\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON, [0.25, 0.25, 0, 0, 0, 0], 0.5, 1150, 0.15);\r\n            weap.Init(0, 0, 0, 0, 0, 2, 0, 0, 10, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 4, 0, 0);\r\n            this.weapons['sword2'] = weap;\r\n            weap = new _Weapon__WEBPACK_IMPORTED_MODULE_2__[\"Weapon\"](\"Frost Axe\", [300, 250], [15, 10, 10, 5, 0, 0, 5000, 3400], { sprite: \"icons\", tile: 86 },\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON, [0.55, 0, 0, 0.15, 0, 0], 0.4, 1250, 0.15);\r\n            weap.Init(0, 0, 0, 0, 0, 0, 0, 0, 12, 0, 0, 20, 0, 0, 1, 0, 0, 0, 5, 0, 0, 0);\r\n            this.weapons['axe2'] = weap;\r\n\r\n            // ARMOR\r\n            var arm = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Leather Armor\", [50, 75], [0, 10, 0, 5, 0, 0, 750, 1000],\r\n                { sprite: \"icons\", tile: 97 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_ARMOR);\r\n            arm.Init(0, 0, 0, 0, 0, 0, 0, 2.5, 0, 0, 0, 0, 0, 1.5, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            arm.unlocked = true;\r\n            this.armors['leather'] = arm;\r\n            arm = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Padded Vest\", [125, 100], [0, 5, 0, 15, 0, 0, 1500, 1350],\r\n                { sprite: \"icons\", tile: 96 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_ARMOR);\r\n            arm.Init(0, 0, 0, 0, 0, 0, 0, 1.5, 0, 0, 18, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.armors['cloth'] = arm;\r\n            arm = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Chainmail\", [125, 100], [0, 5, 10, 5, 0, 0, 1500, 1350],\r\n                { sprite: \"icons\", tile: 98 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_ARMOR);\r\n            arm.Init(0, 0, 0, 0, 0, 0, 5, 3.5, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.armors['chain'] = arm;\r\n            arm = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Beast Hide\", [300, 250], [0, 20, 5, 15, 0, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 99 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_ARMOR);\r\n            arm.Init(0, 0, 0, 0, 0, 0, 0, 4, 0, 12, 6, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0);\r\n            this.armors['hide'] = arm;\r\n            arm = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Tunic\", [300, 250], [0, 10, 0, 30, 0, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 100 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_ARMOR);\r\n            arm.Init(0, 0, 0, 0, 0, 0, 0, 2.5, 0, 0, 12, 12, 0, 0, 1.5, 0, 0, 0, 0, 0, 0, 0.05);\r\n            this.armors['tunic'] = arm;\r\n            arm = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Half Plate\", [300, 250], [0, 0, 25, 5, 10, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 101 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_ARMOR);\r\n            arm.Init(0, 0, 0, 0, 0, 0, 12, 8, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 26);\r\n            this.armors['halfplate'] = arm;\r\n            arm = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Bramblevest\", [300, 250], [25, 0, 0, 15, 0, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 102 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_ARMOR);\r\n            arm.Init(0, 0, 0, 0, 2, 0, 20, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12);\r\n            this.armors['bramble'] = arm;\r\n\r\n            // OFFENSIVE TRINKETS\r\n            var trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Claw Talisman\", [50, 75], [0, 0, 0, 0, 10, 5, 750, 1000],\r\n                { sprite: \"icons\", tile: 128 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE);\r\n            trinket.Init(2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            trinket.unlocked = true;\r\n            this.offTrinkets['claw'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Quartzstone\", [125, 100], [0, 0, 0, 0, 8, 12, 1500, 1350],\r\n                { sprite: \"icons\", tile: 129 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE);\r\n            trinket.Init(0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0, 0, 0);\r\n            this.offTrinkets['quartz'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Boots\", [125, 100], [0, 12, 0, 8, 0, 0, 1500, 1350],\r\n                { sprite: \"icons\", tile: 130 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE);\r\n            trinket.Init(0, 3, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.offTrinkets['boots'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Ice Cube\", [300, 250], [0, 0, 0, 0, 10, 30, 5000, 3400],\r\n                { sprite: \"icons\", tile: 137 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE);\r\n            trinket.Init(0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 5, 0, 0, 0);\r\n            this.offTrinkets['ice'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Battery\", [300, 250], [0, 10, 0, 5, 0, 10, 5000, 3400],\r\n                { sprite: \"icons\", tile: 134 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE);\r\n            trinket.Init(0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 5, 0, 0);\r\n            this.offTrinkets['battery'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Poison Orb\", [300, 250], [0, 15, 0, 0, 15, 10, 5000, 3400],\r\n                { sprite: \"icons\", tile: 136 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE);\r\n            trinket.Init(0, 0, 0, 0, 0, 2, 0, 0, 0, 15, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0);\r\n            this.offTrinkets['orb'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Wolf Mask\", [300, 250], [10, 15, 0, 15, 0, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 131 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE);\r\n            trinket.Init(3, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.05, 3);\r\n            this.offTrinkets['wolfmask'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Barbed Wire\", [300, 250], [0, 15, 25, 0, 0, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 135 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE);\r\n            trinket.Init(0, 0, 0, 0, 2, 2, 0, 0, 5, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.offTrinkets['wire'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Bone Chime\", [300, 250], [0, 20, 0, 10, 0, 10, 5000, 3400],\r\n                { sprite: \"icons\", tile: 133 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE);\r\n            trinket.Init(0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 15, 0, 0, 1, 0, 0, 0, 0, 0, 8, 0);\r\n            this.offTrinkets['chime'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Dragon Bone\", [300, 250], [0, 0, 10, 0, 20, 10, 5000, 3400],\r\n                { sprite: \"icons\", tile: 132 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE);\r\n            trinket.Init(2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 5, 0, 0, 0, 0, 0);\r\n            this.offTrinkets['dragonbone'] = trinket;\r\n            \r\n\r\n            // DEFENSIVE TRINKETS\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Wooden Shield\", [50, 75], [10, 0, 0, 5, 0, 0, 750, 1000],\r\n                { sprite: \"icons\", tile: 112 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE);\r\n            trinket.Init(0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 5, 0, 1, 0, 0, 0, 0, 0, 0, 0);\r\n            trinket.unlocked = true;\r\n            this.defTrinkets['shield1'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Warm Stone\", [125, 100], [0, 5, 0, 0, 15, 0, 1500, 1350],\r\n                { sprite: \"icons\", tile: 113 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE);\r\n            trinket.Init(0, 0, 0, 0, 0, 0, 14, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.defTrinkets['stone'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Bracers\", [125, 100], [0, 0, 10, 5, 5, 0, 1500, 1350],\r\n                { sprite: \"icons\", tile: 114 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE);\r\n            trinket.Init(0, 0, 2, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.defTrinkets['bracers'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Tower Shield\", [300, 250], [15, 0, 25, 0, 0, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 115 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE);\r\n            trinket.Init(0, 0, 0, 0, 4, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.defTrinkets['shield2'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Iron Branch\", [300, 250], [30, 0, 0, 5, 10, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 116 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE);\r\n            trinket.Init(2, 0, 3, 0, 2, 0, 12, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.defTrinkets['branch'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Mirror Shield\", [300, 250], [0, 10, 0, 0, 5, 25, 5000, 3400],\r\n                { sprite: \"icons\", tile: 117 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE);\r\n            trinket.Init(0, 0, 0, 0, 0, 0, 8, 0, 0, 0, 0, 0, 15, 0, 3, 0, 0, 0, 0, 0, 0, 0, 14);\r\n            this.defTrinkets['shield3'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Soul Booster\", [300, 250], [10, 0, 0, 5, 25, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 119 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE);\r\n            trinket.Init(0, 0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2.5, 0, 0, 0, 0, 0, 0, 0, 0);\r\n            this.defTrinkets['booster'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Antidote\", [300, 250], [0, 20, 0, 10, 0, 10, 5000, 3400],\r\n                { sprite: \"icons\", tile: 120 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE);\r\n            trinket.Init(0, 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 15, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 18);\r\n            this.defTrinkets['antidote'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Heartstone\", [300, 250], [0, 0, 15, 0, 25, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 121 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE);\r\n            trinket.Init(1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 27);\r\n            this.defTrinkets['heart'] = trinket;\r\n            trinket = new _Equipment__WEBPACK_IMPORTED_MODULE_0__[\"Equipment\"](\"Ring of Protection\", [300, 250], [20, 0, 10, 0, 10, 0, 5000, 3400],\r\n                { sprite: \"icons\", tile: 118 }, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE);\r\n            trinket.Init(0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 15, 0, 15, 0, 1, 0, 0, 0, 0, 0, 0, 0);\r\n            this.defTrinkets['ring'] = trinket;\r\n\r\n            EquipmentManager.instance = this;\r\n        }\r\n\r\n        return EquipmentManager.instance;\r\n    }\r\n\r\n    static getInstance() {\r\n        if (!EquipmentManager.instance) {\r\n            return new EquipmentManager();\r\n        }\r\n        return EquipmentManager.instance;\r\n    }\r\n\r\n    Rebirth() {\r\n        this.motesFromGear = 0;\r\n        for (const prop in this.weapons) {\r\n            this.weapons[prop].Rebirth();\r\n        }\r\n        for (const prop in this.armors) {\r\n            this.armors[prop].Rebirth();\r\n        }\r\n        for (const prop in this.offTrinkets) {\r\n            this.offTrinkets[prop].Rebirth();\r\n        }\r\n        for (const prop in this.defTrinkets) {\r\n            this.defTrinkets[prop].Rebirth();\r\n        }\r\n    }\r\n\r\n    TrackMotesFromUpgrades(amount) {\r\n        this.motesFromGear += amount;\r\n    }\r\n\r\n    MotesFromGear() { return this.motesFromGear; }\r\n\r\n    save() {\r\n        var saveObj = {};\r\n        saveObj['mfg'] = this.motesFromGear;\r\n        saveObj['wep'] = {};\r\n        for (const prop in this.weapons) {\r\n            saveObj['wep'][prop] = this.weapons[prop].save();\r\n        }\r\n        saveObj['arm'] = {};\r\n        for (const prop in this.armors) {\r\n            saveObj['arm'][prop] = this.armors[prop].save();\r\n        }\r\n        saveObj['off'] = {};\r\n        for (const prop in this.offTrinkets) {\r\n            saveObj['off'][prop] = this.offTrinkets[prop].save();\r\n        }\r\n        saveObj['def'] = {};\r\n        for (const prop in this.defTrinkets) {\r\n            saveObj['def'][prop] = this.defTrinkets[prop].save();\r\n        }\r\n        return saveObj;\r\n    }\r\n    load(saveObj) {\r\n        this.motesFromGear = saveObj['mfg'];\r\n        for (const prop in saveObj['wep']) {\r\n            if (prop in this.weapons) {\r\n                this.weapons[prop].load(saveObj['wep'][prop]);\r\n            }\r\n        }\r\n        for (const prop in saveObj['arm']) {\r\n            if (prop in this.armors) {\r\n                this.armors[prop].load(saveObj['arm'][prop]);\r\n            }\r\n        }\r\n        for (const prop in saveObj['off']) {\r\n            if (prop in this.offTrinkets) {\r\n                this.offTrinkets[prop].load(saveObj['off'][prop]);\r\n            }\r\n        }\r\n        for (const prop in saveObj['def']) {\r\n            if (prop in this.defTrinkets) {\r\n                this.defTrinkets[prop].load(saveObj['def'][prop]);\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/managers/EquipmentManager.js?");

/***/ }),

/***/ "./src/data/managers/MonsterManager.js":
/*!*********************************************!*\
  !*** ./src/data/managers/MonsterManager.js ***!
  \*********************************************/
/*! exports provided: MonsterManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MonsterManager\", function() { return MonsterManager; });\n/* harmony import */ var _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../CreatureDefinition */ \"./src/data/CreatureDefinition.js\");\n/* harmony import */ var _TraitEnum__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TraitEnum */ \"./src/data/TraitEnum.js\");\n\r\n\r\n\r\n\r\nclass MonsterManager {\r\n    constructor() {\r\n        if (!MonsterManager.instance) {\r\n\r\n            this.monsterDict = {};\r\n\r\n            this.monsterDict[\"goblin\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Goblin\", { sprite: 'icons', tile: 145 },\r\n                0.9, 1.2, 1, 0.9, 0.9, 1.1,\r\n                -0.1, 0.3, 0.6, 0.4,\r\n                0, 0, 0, 0, 0, 0,\r\n                900, 0.15, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].FROST_SHELL, 15, 6);\r\n            this.monsterDict[\"brigand\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Brigand\", { sprite: 'icons', tile: 148 },\r\n                1, 0.9, 1.1, 1, 1.1, 0.9,\r\n                0.05, 0.6, 0.85, 0.55,\r\n                0, 0, 0, 0, 0, 0,\r\n                1300, 0.05, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].BLOCK, 20, 10);\r\n            this.monsterDict[\"wolf\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Wolf\", { sprite: 'icons', tile: 154 },\r\n                1.1, 1.2, 0.8, 1, 0.8, 1.1,\r\n                0, 0.3, 0.7, 0.4,\r\n                0, 0, 0, 0, 0, 0,\r\n                900, 0.4, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].FRENZY, 22, 8);\r\n            this.monsterDict[\"zombie\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Zombie\", { sprite: 'icons', tile: 146 },\r\n                1.2, 0.7, 1.2, 0.9, 1, 1,\r\n                0.2, 0.2, 0.95, 0.4,\r\n                0, 0, 0, 0, 0, 0.65,\r\n                1600, 0.1, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].UNDEAD, 25, 10);\r\n            this.monsterDict[\"slime\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Slime\", { sprite: 'icons', tile: 147 },\r\n                1, 1.1, 1, 1.25, 0.9, 0.9,\r\n                0, 0.3, 0.6, 0.5,\r\n                0, 0, 0, 0, 0, 0,\r\n                1100, 0.1, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].REGENERATION, 15, 10);\r\n            this.monsterDict[\"gnoll\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Gnoll\", { sprite: 'icons', tile: 163 },\r\n                1.2, 1.15, 0.9, 0.9, 0.9, 1.1,\r\n                0.1, 0.45, 1, 0.4,\r\n                0, 0, 0, 0, 0, 0,\r\n                1200, 0.1, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].LIFESTEAL, 24, 12);\r\n            this.monsterDict[\"dustdevil\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Dust Devil\", { sprite: 'icons', tile: 155 },\r\n                0.9, 1.3, 0.8, 1, 1, 1.1,\r\n                0, 0.35, 0.5, 0.5,\r\n                0, 0, 0, 0, 0.65, 0,\r\n                900, 0.15, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].LIGHTNING_RESIST, 20, 14);\r\n            this.monsterDict[\"cinderswarm\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Cinderswarm\", { sprite: 'icons', tile: 160 },\r\n                1, 1.1, 1.1, 1.2, 0.9, 1,\r\n                0.35, 0.25, 0.6, 0.5,\r\n                0, 0.9, 0, 0, 0, 0,\r\n                1500, 0.05, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].SWARM, 25, 7);\r\n            this.monsterDict[\"frogbeast\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Frog Beast\", { sprite: 'icons', tile: 153 },\r\n                1.2, 0.8, 1.15, 0.8, 1, 1,\r\n                0.15, 0.45, 0.65, 0.5,\r\n                0.725, 0, 0, 0, 0, 0,\r\n                1400, 0.1, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].POISONED_BLADE, 26, 8);\r\n            this.monsterDict[\"witch\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Witch\", { sprite: 'icons', tile: 150 },\r\n                0.8, 1, 1, 1.325, 0.9, 1.1,\r\n                0.05, 0.325, 0.4, 0.4,\r\n                0, 0, 0, 0, 0, 0.925,\r\n                1100, 0.2, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].MALEDICT, 20, 15);\r\n            this.monsterDict[\"yeti\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Yeti\", { sprite: 'icons', tile: 156 },\r\n                1.3, 0.8, 1.2, 0.8, 1.1, 1.1,\r\n                0.25, 0.275, 1, 0.5,\r\n                0, 0, 0, 0.5, 0, 0,\r\n                1600, 0.05, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].FORTITUDE, 30, 10);\r\n            this.monsterDict[\"wyrmling\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Wyrmling\", { sprite: 'icons', tile: 157 },\r\n                1.25, 0.65, 1.25, 0.9, 1.2, 0.85,\r\n                -0.05, 0.6, 0.8, 0.6,\r\n                0, 0, 0, 0, 0, 0,\r\n                1200, 0.1, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].FIRE_BREATH, 25, 10);\r\n            this.monsterDict[\"frogwitch\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Frog Witch\", { sprite: 'icons', tile: 152 },\r\n                0.9, 1, 1.1, 1.3, 0.8, 1,\r\n                0.1, 0.325, 0.4, 0.5,\r\n                0, 0, 0.65, 0, 0, 0,\r\n                1500, 0.15, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].CURSE_AURA, 19, 14);\r\n            this.monsterDict[\"livingtree\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Living Tree\", { sprite: 'icons', tile: 159 },\r\n                1.25, 0.65, 1.25, 0.9, 1.2, 0.85,\r\n                0.35, 0.6, 1.1, 0.5,\r\n                0, 0, 0, 0, 0, 0,\r\n                2000, 0.05, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].THORNS, 33, 14);\r\n            this.monsterDict[\"pixie\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Pixie\", { sprite: 'icons', tile: 161 },\r\n                0.7, 1.3, 0.8, 1.1, 1, 1.2,\r\n                0, 0.3, 0.45, 0.4,\r\n                0, 0, 0.55, 0, 0, 0.5,\r\n                900, 0.15, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].ENCHANTMENT, 20, 12);\r\n            this.monsterDict[\"sharkman\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Sharkman\", { sprite: 'icons', tile: 162 },\r\n                1.2, 1, 1.1, 0.7, 1, 1.1,\r\n                0.15, 0.4, 0.95, 0.6,\r\n                0, 0, 0, 0, 0, 0,\r\n                1350, 0.1, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].MAGIC_RESIST, 24, 12);\r\n            this.monsterDict[\"skeleton\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Skeleton\", { sprite: 'icons', tile: 149 },\r\n                1.1, 0.9, 1.1, 0.8, 1.1, 1,\r\n                0, 0.5, 0.7, 0.65,\r\n                0, 0, 0, 0, 0, 0.5,\r\n                1100, 0.1, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].UNDEAD, 22, 12);\r\n            this.monsterDict[\"knight\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Knight\", { sprite: 'icons', tile: 151 },\r\n                1.3, 0.8, 1.1, 0.7, 1.2, 1,\r\n                0.1, 0.625, 0.8, 0.55,\r\n                0, 0, 0, 0, 0, 0,\r\n                1250, 0.1, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].SHIELD_BASH, 28, 21);\r\n            this.monsterDict[\"kobold\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Kobold\", { sprite: 'icons', tile: 158 },\r\n                1.1, 1.1, 0.9, 0.8, 1, 1.3,\r\n                -0.1, 0.35, 0.6, 0.5,\r\n                0, 0, 0, 0, 0, 0,\r\n                850, 0.15, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].FIRE_POWDER, 17, 10);\r\n            this.monsterDict[\"dryad\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Dryad\", { sprite: 'icons', tile: 164 },\r\n                1.3, 0.65, 1.25, 1, 1.2, 0.85,\r\n                1.1, 0.675, 1.15, 0.55,\r\n                0, 0, 0, 0, 0, 0,\r\n                1850, 0.05, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].LIVING_WOOD, 60, 25);\r\n            this.monsterDict[\"darkpaladin\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Dark Paladin\", { sprite: 'icons', tile: 165 },\r\n                1.3, 0.8, 1.1, 0.95, 1.2, 1,\r\n                0.8, 0.625, 0.95, 0.55,\r\n                0, 0, 0, 0, 0, 0.85,\r\n                1400, 0.10, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].SIPHON, 52, 30);\r\n            this.monsterDict[\"crabman\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Crabman\", { sprite: 'icons', tile: 166 },\r\n                1.1, 1, 1.1, 0.9, 1.35, 0.9,\r\n                0.85, 0.525, 0.95, 0.5,\r\n                0, 0, 0, 0.6, 0, 0,\r\n                1650, 0.05, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].CARAPICE, 52, 32);\r\n            this.monsterDict[\"vargund\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Vargund\", { sprite: 'icons', tile: 167 },\r\n                1.25, 1, 1.1, 1, 1, 1.2,\r\n                0.7, 0.45, 1, 0.4,\r\n                0, 0, 0, 0, 0, 0.75,\r\n                1400, 0.2, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].BLOODLUST, 60, 27);\r\n            this.monsterDict[\"lich\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Lich\", { sprite: 'icons', tile: 168 },\r\n                0.9, 0.85, 1.15, 1.4, 1.2, 1.2,\r\n                0.4, 0.35, 0.7, 0.5,\r\n                0, 0, 0.8, 0, 0, 1,\r\n                1300, 0.3, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].PHYLACTERY, 60, 27);\r\n            this.monsterDict[\"dragon\"] = new _CreatureDefinition__WEBPACK_IMPORTED_MODULE_0__[\"CreatureDefinition\"](\"Dragon\", { sprite: 'icons', tile: 169 },\r\n                1.35, 0.9, 1.1, 0.9, 1.25, 1,\r\n                0.8, 0.65, 1.2, 0.4,\r\n                0, 1.2, 0, 0, 0, 0,\r\n                6000, 0.1, _TraitEnum__WEBPACK_IMPORTED_MODULE_1__[\"TraitEnum\"].SLUMBERING_DRAGON, 60, 27);\r\n\r\n            MonsterManager.instance = this;\r\n        }\r\n\r\n        return MonsterManager.instance;\r\n    }\r\n\r\n    static getInstance() {\r\n        if (!MonsterManager.instance) {\r\n            return new MonsterManager();\r\n        }\r\n        return MonsterManager.instance;\r\n    }\r\n\r\n    GetMonsterAtLevel(monsterTag, level) {\r\n        if (monsterTag in this.monsterDict) {\r\n            return this.monsterDict[monsterTag].CreateCreatureAtLevel(level);\r\n        }\r\n        return this.monsterDict[\"goblin\"].CreateCreatureAtLevel(level);\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/managers/MonsterManager.js?");

/***/ }),

/***/ "./src/data/managers/PlayerManager.js":
/*!********************************************!*\
  !*** ./src/data/managers/PlayerManager.js ***!
  \********************************************/
/*! exports provided: PlayerManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlayerManager\", function() { return PlayerManager; });\n/* harmony import */ var _PlayerCreature__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PlayerCreature */ \"./src/data/PlayerCreature.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _EquipmentManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EquipmentManager */ \"./src/data/managers/EquipmentManager.js\");\n/* harmony import */ var _ProgressManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n/* harmony import */ var _RebirthManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _TownManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TownManager */ \"./src/data/managers/TownManager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass PlayerManager {\r\n    constructor() {\r\n        if (!PlayerManager.instance) {\r\n            this.statBlock = new _PlayerCreature__WEBPACK_IMPORTED_MODULE_0__[\"PlayerCreature\"](\"Player\");\r\n            this.resources = [0, 0, 0, 0, 0, 0];\r\n            this.materials = 0;\r\n            this.shade = 0;\r\n            this.motes = 0;\r\n            this.maxLand = 0;\r\n            this.usedLand = 0;\r\n            this.gold = 0;\r\n            this.motesFromDungeons = 0;\r\n\r\n            this.statsPurchased = 0;\r\n            this.statLevels = [0, 0, 0, 0, 0, 0];\r\n            this.statCosts = [_Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST,\r\n            _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST, _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST];\r\n\r\n            this.weapon = undefined;\r\n            this.armor = undefined;\r\n            this.offensiveTrinket = undefined;\r\n            this.defensiveTrinket = undefined;\r\n\r\n            this.onStatsChanged = [];\r\n            this.onResourcesChanged = [];\r\n\r\n            PlayerManager.instance = this;\r\n        }\r\n\r\n        return PlayerManager.instance;\r\n    }\r\n\r\n    static getInstance() {\r\n        if (!PlayerManager.instance) {\r\n            return new PlayerManager();\r\n        }\r\n        return PlayerManager.instance;\r\n    }\r\n\r\n    Rebirth() {\r\n        var rebirth = _RebirthManager__WEBPACK_IMPORTED_MODULE_4__[\"RebirthManager\"].getInstance();\r\n        this.statBlock = new _PlayerCreature__WEBPACK_IMPORTED_MODULE_0__[\"PlayerCreature\"](\"Player\");\r\n        this.resources = [0, 0, 0, 0, 0, 0];\r\n        this.materials = rebirth.perks['start1'].level > 0 ? 100 : 0;\r\n        this.shade = 0;\r\n        this.maxLand = rebirth.perks['start2'].level;\r\n        this.usedLand = 0;\r\n        this.gold = 0;\r\n        this.motesFromDungeons = 0;\r\n\r\n        for (var i = 0; i < this.resources.length; i++) {\r\n            this.resources[i] = rebirth.perks['start1'].level;\r\n        }\r\n\r\n        this.statsPurchased = 0;\r\n        this.statLevels = [0, 0, 0, 0, 0, 0];\r\n        this.statCosts = [this._baseIncCost(0), this._baseIncCost(1), this._baseIncCost(2),\r\n        this._baseIncCost(3), this._baseIncCost(4), this._baseIncCost(5)];\r\n\r\n        this.weapon = undefined;\r\n        this.armor = undefined;\r\n        this.offensiveTrinket = undefined;\r\n        this.defensiveTrinket = undefined;\r\n    }\r\n\r\n    InitPlayer() {\r\n        this.Equip(_EquipmentManager__WEBPACK_IMPORTED_MODULE_2__[\"EquipmentManager\"].getInstance().weapons['sword']);\r\n        this.Equip(_EquipmentManager__WEBPACK_IMPORTED_MODULE_2__[\"EquipmentManager\"].getInstance().armors['leather']);\r\n        this.Equip(_EquipmentManager__WEBPACK_IMPORTED_MODULE_2__[\"EquipmentManager\"].getInstance().offTrinkets['claw']);\r\n        this.Equip(_EquipmentManager__WEBPACK_IMPORTED_MODULE_2__[\"EquipmentManager\"].getInstance().defTrinkets['shield1']);\r\n\r\n        this.statBlock.health = this.statBlock.MaxHealth();\r\n    }\r\n\r\n    _onResourcesChanged() {\r\n        for (var i = 0; i < this.onResourcesChanged.length; i++) {\r\n            this.onResourcesChanged[i]();\r\n        }\r\n    }\r\n\r\n    _onStatsChanged() {\r\n        for (var i = 0; i < this.onStatsChanged.length; i++) {\r\n            this.onStatsChanged[i]();\r\n        }\r\n    }\r\n\r\n    OnResourcesChangedHandler(callback) {\r\n        this.onResourcesChanged.push(callback);\r\n    }\r\n    OnStatsChangedHandler(callback) {\r\n        this.onStatsChanged.push(callback);\r\n    }\r\n\r\n    _unequip(gear) {\r\n        this.statBlock.RemoveBonuses(gear.GetBonus(this.statBlock));\r\n        gear.isEquiped = false;\r\n    }\r\n    _equip(gear) {\r\n        this.statBlock.AddBonuses(gear.GetBonus(this.statBlock));\r\n        gear.isEquiped = true;\r\n    }\r\n\r\n    _equipWeapon(gear) {\r\n        if (this.weapon !== undefined) {\r\n            this._unequip(this.weapon);\r\n        }\r\n        this._equip(gear);\r\n        this.weapon = gear;\r\n        this.statBlock.CopyWeaponStats(gear);\r\n        this._onStatsChanged();\r\n    }\r\n    _equipArmor(gear) {\r\n        if (this.armor !== undefined) {\r\n            this._unequip(this.armor);\r\n        }\r\n        this._equip(gear);\r\n        this.armor = gear;\r\n        this._onStatsChanged();\r\n    }\r\n    _equipOffensiveTrinket(gear) {\r\n        if (this.offensiveTrinket !== undefined) {\r\n            this._unequip(this.offensiveTrinket);\r\n        }\r\n        this._equip(gear);\r\n        this.offensiveTrinket = gear;\r\n        this._onStatsChanged();\r\n    }\r\n    _equipDefensiveTrinket(gear) {\r\n        if (this.defensiveTrinket !== undefined) {\r\n            this._unequip(this.defensiveTrinket);\r\n        }\r\n        this._equip(gear);\r\n        this.defensiveTrinket = gear;\r\n        this._onStatsChanged();\r\n    }\r\n\r\n    Equip(gear) {\r\n        switch (gear.equipType) {\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON:\r\n                this._equipWeapon(gear);\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_ARMOR:\r\n                this._equipArmor(gear);\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE:\r\n                this._equipOffensiveTrinket(gear);\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE:\r\n                this._equipDefensiveTrinket(gear);\r\n                break;\r\n        }\r\n        if (this.weapon !== undefined) {\r\n            this.statBlock.SetDamageFromScaling(this.weapon.GetDamageFromAttributes(this.statBlock));\r\n        }\r\n    }\r\n    Unequip(gear) {\r\n        this._unequip(gear);\r\n        switch (gear.equipType) {\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_WEAPON:\r\n                this.weapon = undefined;\r\n                this.statBlock.SetDamageFromScaling(0);\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_ARMOR:\r\n                this.armor = undefined;\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_OFFENSIVE:\r\n                this.offensiveTrinket = undefined;\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].EQUIP_DEFENSIVE:\r\n                this.defensiveTrinket = undefined;\r\n                break;\r\n        }\r\n        if (this.weapon !== undefined) {\r\n            this.statBlock.SetDamageFromScaling(this.weapon.GetDamageFromAttributes(this.statBlock));\r\n        }\r\n    }\r\n\r\n    EnhanceEquipment(gear) {\r\n        if (gear.isEquiped) {\r\n            this.Unequip(gear);\r\n            gear.Enhance();\r\n            this.Equip(gear);\r\n            this._onStatsChanged();\r\n        }\r\n    }\r\n    UpgradeEquipment(gear) {\r\n        if (gear.isEquiped) {\r\n            this.Unequip(gear);\r\n            gear.LevelUp();\r\n            this.Equip(gear);\r\n            this._onStatsChanged();\r\n        }\r\n    }\r\n\r\n    AddLand(amount) {\r\n        this.maxLand += amount;\r\n        this._onResourcesChanged();\r\n    }\r\n    SpendLand(amount) {\r\n        this.usedLand += amount;\r\n        this._onResourcesChanged();\r\n    }\r\n    HaveEnoughLand(amount) {\r\n        return this.usedLand + amount <= this.maxLand;\r\n    }\r\n\r\n    _updateStatCosts() {\r\n        for (var i = 0; i < this.statCosts.length; i++) {\r\n            this.statCosts[i] = this._baseIncCost(i) * (this.statLevels[i] + 1) +\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_GLOBAL_INC_COST * this.statsPurchased;\r\n        }\r\n    }\r\n\r\n    _baseIncCost(idx) {\r\n        switch (idx) {\r\n            case 0:\r\n                return _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST - _RebirthManager__WEBPACK_IMPORTED_MODULE_4__[\"RebirthManager\"].getInstance().perks['str2'].level;\r\n            case 1:\r\n                return _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST - _RebirthManager__WEBPACK_IMPORTED_MODULE_4__[\"RebirthManager\"].getInstance().perks['dex2'].level;\r\n            case 2:\r\n                return _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST - _RebirthManager__WEBPACK_IMPORTED_MODULE_4__[\"RebirthManager\"].getInstance().perks['sta2'].level;\r\n            case 3:\r\n                return _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST - _RebirthManager__WEBPACK_IMPORTED_MODULE_4__[\"RebirthManager\"].getInstance().perks['arc2'].level;\r\n            case 4:\r\n                return _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST - _RebirthManager__WEBPACK_IMPORTED_MODULE_4__[\"RebirthManager\"].getInstance().perks['def2'].level;\r\n            case 5:\r\n                return _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_INC_COST - _RebirthManager__WEBPACK_IMPORTED_MODULE_4__[\"RebirthManager\"].getInstance().perks['off2'].level;\r\n        }\r\n    }\r\n\r\n    GetStatCost(idx, buyAmount) {\r\n        var cost = this._baseIncCost(idx) + _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].STAT_GLOBAL_INC_COST;\r\n        var t = this.statCosts[idx];\r\n        return (buyAmount * (t + t + ((buyAmount - 1) * cost))) / 2;\r\n    }\r\n\r\n    BuyStat(amount, statIdx) {\r\n        var cost = this.GetStatCost(statIdx, amount);\r\n        if (this.shade >= cost) {\r\n            this.shade -= cost;\r\n            this.statLevels[statIdx] += amount;\r\n            this.statsPurchased += amount;\r\n\r\n            _ProgressManager__WEBPACK_IMPORTED_MODULE_3__[\"ProgressManager\"].getInstance().TrackAttributeSpend(cost);\r\n\r\n            this._updateStatCosts();\r\n\r\n            this.statBlock.AddStat(amount, statIdx);\r\n            if (this.weapon !== undefined) {\r\n                this.statBlock.SetDamageFromScaling(this.weapon.GetDamageFromAttributes(this.statBlock));\r\n            }\r\n            this._onStatsChanged();\r\n            this._onResourcesChanged();\r\n        }\r\n    }\r\n    AddAllStats(amount) {\r\n        for (var i = 0; i < 6; i++) {\r\n            this.statBlock.AddStat(amount, i);\r\n        }\r\n        this._onStatsChanged();\r\n    }\r\n    AddMasteryToEquippedItems(amount) {\r\n        if (this.weapon !== undefined) {\r\n            this._unequip(this.weapon);\r\n            this.weapon.AddMastery(amount);\r\n            this._equip(this.weapon);\r\n        }\r\n        if (this.armor !== undefined) {\r\n            this._unequip(this.armor);\r\n            this.armor.AddMastery(amount);\r\n            this._equip(this.armor);\r\n        }\r\n        if (this.offensiveTrinket !== undefined) {\r\n            this._unequip(this.offensiveTrinket);\r\n            this.offensiveTrinket.AddMastery(amount);\r\n            this._equip(this.offensiveTrinket);\r\n        }\r\n        if (this.defensiveTrinket !== undefined) {\r\n            this._unequip(this.defensiveTrinket);\r\n            this.defensiveTrinket.AddMastery(amount);\r\n            this._equip(this.defensiveTrinket);\r\n        }\r\n        if (this.weapon !== undefined) {\r\n            this.statBlock.SetDamageFromScaling(this.weapon.GetDamageFromAttributes(this.statBlock));\r\n        }\r\n    }\r\n\r\n    AddResources(xp = 0, materials = 0, gold = 0, resources = [0, 0, 0, 0, 0, 0]) {\r\n        this.shade += xp;\r\n        this.materials += materials;\r\n        this.gold += gold;\r\n        this.gold = Math.min(_TownManager__WEBPACK_IMPORTED_MODULE_5__[\"TownManager\"].getInstance().goldCap, this.gold);\r\n        for (var i = 0; i < resources.length; i++) {\r\n            this.resources[i] += resources[i];\r\n        }\r\n        _ProgressManager__WEBPACK_IMPORTED_MODULE_3__[\"ProgressManager\"].getInstance().TrackResources(xp, materials, resources);\r\n        this._onResourcesChanged();\r\n    }\r\n\r\n    CanSpendResources(xp = 0, materials = 0, gold = 0, resources = [0, 0, 0, 0, 0, 0]) {\r\n        for (var i = 0; i < 6; i++) {\r\n            if (this.resources[i] < resources[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        if (this.shade < xp || this.materials < materials || this.gold < gold) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    SpendResources(xp = 0, materials = 0, gold = 0, resources = [0, 0, 0, 0, 0, 0]) {\r\n        this.shade -= xp;\r\n        this.materials -= materials;\r\n        this.gold -= gold;\r\n        for (var i = 0; i < resources.length; i++) {\r\n            this.resources[i] -= resources[i];\r\n        }\r\n        this._onResourcesChanged();\r\n    }\r\n    SpendMotes(amount) {\r\n        this.motes -= amount;\r\n    }\r\n    AddMotesFromDungeon(amount) {\r\n        this.motesFromDungeons += amount;\r\n    }\r\n    MotesFromStats() { return Math.floor(this.statsPurchased / 5); }\r\n    MotesFromDungeons() { return this.motesFromDungeons; }\r\n\r\n    EquipAfterLoading() {\r\n        var gear = _EquipmentManager__WEBPACK_IMPORTED_MODULE_2__[\"EquipmentManager\"].getInstance();\r\n        for (const prop in gear.weapons) {\r\n            if (gear.weapons[prop].isEquiped) {\r\n                this.Equip(gear.weapons[prop]);\r\n            }\r\n        }\r\n        for (const prop in gear.armors) {\r\n            if (gear.armors[prop].isEquiped) {\r\n                this.Equip(gear.armors[prop]);\r\n            }\r\n        }\r\n        for (const prop in gear.offTrinkets) {\r\n            if (gear.offTrinkets[prop].isEquiped) {\r\n                this.Equip(gear.offTrinkets[prop]);\r\n            }\r\n        }\r\n        for (const prop in gear.defTrinkets) {\r\n            if (gear.defTrinkets[prop].isEquiped) {\r\n                this.Equip(gear.defTrinkets[prop]);\r\n            }\r\n        }\r\n    }\r\n\r\n    save() {\r\n        var saveObj = {};\r\n        saveObj['stat'] = this.statBlock.save();\r\n        saveObj['res'] = this.resources;\r\n        saveObj['mat'] = this.materials;\r\n        saveObj['xp'] = this.shade;\r\n        saveObj['mote'] = this.motes;\r\n        saveObj['ml'] = this.maxLand;\r\n        saveObj['ul'] = this.usedLand;\r\n        saveObj['gold'] = this.gold;\r\n        saveObj['sp'] = this.statsPurchased;\r\n        saveObj['sl'] = this.statLevels;\r\n        saveObj['sc'] = this.statCosts;\r\n        saveObj['md'] = this.motesFromDungeons;\r\n        return saveObj;\r\n    }\r\n\r\n    load(saveObj) {\r\n        this._unequip(this.weapon);\r\n        this._unequip(this.armor);\r\n        this._unequip(this.defensiveTrinket);\r\n        this._unequip(this.offensiveTrinket);\r\n        this.weapon = undefined;\r\n        this.armor = undefined;\r\n        this.defensiveTrinket = undefined;\r\n        this.offensiveTrinket = undefined;\r\n        this.statBlock.load(saveObj['stat']);\r\n        this.resources = saveObj['res'];\r\n        this.materials = saveObj['mat'];\r\n        this.shade = saveObj['xp'];\r\n        this.motes = saveObj['mote'];\r\n        this.maxLand = saveObj['ml'];\r\n        this.usedLand = saveObj['ul'];\r\n        this.gold = saveObj['gold'];\r\n        this.statsPurchased = saveObj['sp'];\r\n        this.statLevels = saveObj['sl'];\r\n        this.statCosts = saveObj['sc'];\r\n        this.motesFromDungeons = saveObj['md'];\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/managers/PlayerManager.js?");

/***/ }),

/***/ "./src/data/managers/ProgressManager.js":
/*!**********************************************!*\
  !*** ./src/data/managers/ProgressManager.js ***!
  \**********************************************/
/*! exports provided: ProgressManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProgressManager\", function() { return ProgressManager; });\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _WorldTime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../WorldTime */ \"./src/data/WorldTime.js\");\n/* harmony import */ var _EquipmentManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EquipmentManager */ \"./src/data/managers/EquipmentManager.js\");\n/* harmony import */ var _WorldManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./WorldManager */ \"./src/data/managers/WorldManager.js\");\n\r\n\r\n\r\n\r\n\r\nclass ProgressManager {\r\n    constructor() {\r\n        if (!ProgressManager.instance) {\r\n            this.time = new _WorldTime__WEBPACK_IMPORTED_MODULE_1__[\"WorldTime\"]();\r\n\r\n            this.permanentUnlocks = {\r\n                forest5: false,\r\n                forest15: false,\r\n                plains5: false,\r\n                plains15: false,\r\n                mountain5: false,\r\n                mountain15: false,\r\n                swamp5: false,\r\n                swamp15: false,\r\n                hills5: false,\r\n                hills15: false,\r\n                lake5: false,\r\n                lake15: false,\r\n                rebirth1: false,\r\n                dungeonForest: false,\r\n                dungeonPlains: false,\r\n                dungeonLake: false,\r\n                dungeonHills: false,\r\n                dungeonSwamp: false,\r\n                dungeonMountain: false,\r\n                forestF1: false,\r\n                forestF3: false,\r\n                forestF5: false,\r\n                plainsF1: false,\r\n                plainsF3: false,\r\n                plainsF5: false,\r\n                lakeF1: false,\r\n                lakeF3: false,\r\n                lakeF5: false,\r\n                hillsF1: false,\r\n                hillsF3: false,\r\n                hillsF5: false,\r\n                swampF1: false,\r\n                swampF3: false,\r\n                swampF5: false,\r\n                mountainF1: false,\r\n                mountainF3: false,\r\n                mountainF5: false,\r\n            }\r\n\r\n            this.currentRunStart = 0;\r\n            this.currentlyRebirthing = false;\r\n            this.maxDepthReached = [0, 0, 0, 0, 0, 0];\r\n\r\n            this.current = {\r\n                shade: 0,\r\n                mats: 0,\r\n                res: [0, 0, 0, 0, 0, 0],\r\n                kills: 0,\r\n                xpOnStats: 0,\r\n                xpOnGear: 0,\r\n                matsOnGear: 0\r\n            };\r\n            this.totals = {\r\n                shade: 0,\r\n                mats: 0,\r\n                res: [0, 0, 0, 0, 0, 0],\r\n                kills: 0,\r\n                xpOnStats: 0,\r\n                xpOnGear: 0,\r\n                matsOnGear: 0,\r\n                rebirths: 0,\r\n                motes: 0\r\n            }\r\n\r\n            this.onGearUnlocked = [];\r\n            this.onDungeonUnlocked = [];\r\n\r\n            ProgressManager.instance = this;\r\n        }\r\n\r\n        return ProgressManager.instance;\r\n    }\r\n\r\n    static getInstance() {\r\n        if (!ProgressManager.instance) {\r\n            return new ProgressManager();\r\n        }\r\n        return ProgressManager.instance;\r\n    }\r\n\r\n    _onDungeonUnlocked(name) {\r\n        for (var i = 0; i < this.onDungeonUnlocked.length; i++) {\r\n            this.onDungeonUnlocked[i](name);\r\n        }\r\n    }\r\n\r\n    _onGearUnlocked(gearList) {\r\n        for (var i = 0; i < this.onGearUnlocked.length; i++) {\r\n            this.onGearUnlocked[i](gearList);\r\n        }\r\n    }\r\n\r\n    TrackResources(xp = 0, mats = 0, res = [0, 0, 0, 0, 0, 0]) {\r\n        this.current.shade += xp;\r\n        this.current.mats += mats;\r\n        for (var i = 0; i < res.length; i++) {\r\n            this.current.res[i] += res[i];\r\n        }\r\n    }\r\n    TrackKills(amount) {\r\n        this.current.kills += amount;\r\n    }\r\n    TrackAttributeSpend(xp) {\r\n        this.current.xpOnStats += xp;\r\n    }\r\n    TrackGearSpend(xp, mats) {\r\n        this.current.xpOnGear += xp;\r\n        this.current.matsOnGear += mats;\r\n    }\r\n    TrackMotes(amount) {\r\n        this.totals.motes += amount;\r\n    }\r\n\r\n    Rebirth() {\r\n        this.currentRunStart = this.time.time;\r\n        this.currentlyRebirthing = false;\r\n        this.permanentUnlocks.rebirth1 = true;\r\n\r\n        this.totals.shade += this.current.shade;\r\n        this.totals.mats += this.current.mats;\r\n        this.totals.kills += this.current.kills;\r\n        this.totals.xpOnStats += this.current.xpOnStats;\r\n        this.totals.xpOnGear += this.current.xpOnGear;\r\n        this.totals.matsOnGear += this.current.matsOnGear;\r\n        for (var i = 0; i < 6; i++) {\r\n            this.totals.res[i] += this.current.res[i];\r\n        }\r\n        this.totals.rebirths += 1;\r\n        this.current = {\r\n            shade: 0,\r\n            mats: 0,\r\n            res: [0, 0, 0, 0, 0, 0],\r\n            kills: 0,\r\n            xpOnStats: 0,\r\n            xpOnGear: 0,\r\n            matsOnGear: 0\r\n        };\r\n    }\r\n\r\n    ShouldShowRebirth() {\r\n        return this.time.timeSince(this.currentRunStart).time >= _Statics__WEBPACK_IMPORTED_MODULE_0__[\"Statics\"].TIME_PER_MONTH * 6;\r\n    }\r\n\r\n    OnGearUnlockedHandler(callback) {\r\n        this.onGearUnlocked.push(callback);\r\n    }\r\n    OnDungeonUnlockedHandler(callback) {\r\n        this.onDungeonUnlocked.push(callback);\r\n    }\r\n\r\n    HookEvents() {\r\n        _WorldManager__WEBPACK_IMPORTED_MODULE_3__[\"WorldManager\"].getInstance().OnLandChangedHandler((area) => { this.TrackLandProgress(area); });\r\n    }\r\n\r\n    CurrentRunTime() {\r\n        return this.time.timeSince(this.currentRunStart);\r\n    }\r\n\r\n    TrackDungeonProgress(dungeon, floor) {\r\n        var gear = _EquipmentManager__WEBPACK_IMPORTED_MODULE_2__[\"EquipmentManager\"].getInstance();\r\n        switch (dungeon) {\r\n            case 0:\r\n                if (this.permanentUnlocks.forestF1 === false && floor >= 1) {\r\n                    this.permanentUnlocks.forestF1 = true;\r\n                    gear.armors['hide'].unlocked = true;\r\n                    this._onGearUnlocked([gear.armors['hide']]);\r\n                } else if (this.permanentUnlocks.forestF3 === false && floor >= 3) {\r\n                    this.permanentUnlocks.forestF3 = true;\r\n                    gear.defTrinkets['branch'].unlocked = true;\r\n                    this._onGearUnlocked([gear.defTrinkets['branch']]);\r\n                } else if (this.permanentUnlocks.forestF5 === false && floor >= 5) {\r\n                    this.permanentUnlocks.forestF5 = true;\r\n                    gear.offTrinkets['wolfmask'].unlocked = true;\r\n                    this._onGearUnlocked([gear.offTrinkets['wolfmask']]);\r\n                }\r\n                break;\r\n            case 1:\r\n                if (this.permanentUnlocks.plainsF1 === false && floor >= 1) {\r\n                    this.permanentUnlocks.plainsF1 = true;\r\n                    gear.defTrinkets['shield2'].unlocked = true;\r\n                    this._onGearUnlocked([gear.defTrinkets['shield2']]);\r\n                } else if (this.permanentUnlocks.plainsF3 === false && floor >= 3) {\r\n                    this.permanentUnlocks.plainsF3 = true;\r\n                    gear.offTrinkets['battery'].unlocked = true;\r\n                    this._onGearUnlocked([gear.offTrinkets['battery']]);\r\n                } else if (this.permanentUnlocks.plainsF5 === false && floor >= 5) {\r\n                    this.permanentUnlocks.plainsF5 = true;\r\n                    gear.defTrinkets['booster'].unlocked = true;\r\n                    this._onGearUnlocked([gear.defTrinkets['booster']]);\r\n                }\r\n                break;\r\n            case 2:\r\n                if (this.permanentUnlocks.lakeF1 === false && floor >= 1) {\r\n                    this.permanentUnlocks.lakeF1 = true;\r\n                    gear.offTrinkets['ice'].unlocked = true;\r\n                    this._onGearUnlocked([gear.offTrinkets['ice']]);\r\n                } else if (this.permanentUnlocks.lakeF3 === false && floor >= 3) {\r\n                    this.permanentUnlocks.lakeF3 = true;\r\n                    gear.defTrinkets['shield3'].unlocked = true;\r\n                    this._onGearUnlocked([gear.defTrinkets['shield3']]);\r\n                } else if (this.permanentUnlocks.lakeF5 === false && floor >= 5) {\r\n                    this.permanentUnlocks.lakeF5 = true;\r\n                    gear.offTrinkets['chime'].unlocked = true;\r\n                    this._onGearUnlocked([gear.offTrinkets['chime']]);\r\n                }\r\n                break;\r\n            case 3:\r\n                if (this.permanentUnlocks.hillsF1 === false && floor >= 1) {\r\n                    this.permanentUnlocks.hillsF1 = true;\r\n                    gear.armors['tunic'].unlocked = true;\r\n                    this._onGearUnlocked([gear.armors['tunic']]);\r\n                } else if (this.permanentUnlocks.hillsF3 === false && floor >= 3) {\r\n                    this.permanentUnlocks.hillsF3 = true;\r\n                    gear.offTrinkets['wire'].unlocked = true;\r\n                    this._onGearUnlocked([gear.offTrinkets['wire']]);\r\n                } else if (this.permanentUnlocks.hillsF5 === false && floor >= 5) {\r\n                    this.permanentUnlocks.hillsF5 = true;\r\n                    gear.defTrinkets['ring'].unlocked = true;\r\n                    this._onGearUnlocked([gear.defTrinkets['ring']]);\r\n                }\r\n                break;\r\n            case 4:\r\n                if (this.permanentUnlocks.swampF1 === false && floor >= 1) {\r\n                    this.permanentUnlocks.swampF1 = true;\r\n                    gear.offTrinkets['orb'].unlocked = true;\r\n                    this._onGearUnlocked([gear.offTrinkets['orb']]);\r\n                } else if (this.permanentUnlocks.swampF3 === false && floor >= 3) {\r\n                    this.permanentUnlocks.swampF3 = true;\r\n                    gear.defTrinkets['antidote'].unlocked = true;\r\n                    this._onGearUnlocked([gear.defTrinkets['antidote']]);\r\n                } else if (this.permanentUnlocks.swampF5 === false && floor >= 5) {\r\n                    this.permanentUnlocks.swampF5 = true;\r\n                    gear.armors['bramble'].unlocked = true;\r\n                    this._onGearUnlocked([gear.armors['bramble']]);\r\n                }\r\n                break;\r\n            case 5:\r\n                if (this.permanentUnlocks.mountainF1 === false && floor >= 1) {\r\n                    this.permanentUnlocks.mountainF1 = true;\r\n                    gear.armors['halfplate'].unlocked = true;\r\n                    this._onGearUnlocked([gear.armors['halfplate']]);\r\n                } else if (this.permanentUnlocks.mountainF3 === false && floor >= 3) {\r\n                    this.permanentUnlocks.mountainF3 = true;\r\n                    gear.defTrinkets['heart'].unlocked = true;\r\n                    this._onGearUnlocked([gear.defTrinkets['heart']]);\r\n                } else if (this.permanentUnlocks.mountainF5 === false && floor >= 5) {\r\n                    this.permanentUnlocks.mountainF5 = true;\r\n                    gear.offTrinkets['dragonbone'].unlocked = true;\r\n                    this._onGearUnlocked([gear.offTrinkets['dragonbone']]);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    TrackLandProgress(area) {\r\n        var level = _WorldManager__WEBPACK_IMPORTED_MODULE_3__[\"WorldManager\"].getInstance().exploreLevel[area];\r\n        var gear = _EquipmentManager__WEBPACK_IMPORTED_MODULE_2__[\"EquipmentManager\"].getInstance();\r\n\r\n        this.maxDepthReached[area] = Math.max(this.maxDepthReached[area], level);\r\n        switch (area) {\r\n            case 0:\r\n                if (this.permanentUnlocks.forest5 === false && level >= 5) {\r\n                    this.permanentUnlocks.forest5 = true;\r\n                    gear.weapons['axe'].unlocked = true;\r\n                    this._onGearUnlocked([gear.weapons['axe']]);\r\n                } else if (this.permanentUnlocks.dungeonForest === false && level >= 15) {\r\n                    this.permanentUnlocks.dungeonForest = true;\r\n                    this._onDungeonUnlocked(\"Forest Dungeon\");\r\n                }\r\n                break;\r\n            case 1:\r\n                if (this.permanentUnlocks.plains5 === false && area === 1 && level >= 5) {\r\n                    this.permanentUnlocks.plains5 = true;\r\n                    gear.offTrinkets['boots'].unlocked = true;\r\n                    this._onGearUnlocked([gear.offTrinkets['boots']]);\r\n                } else if (this.permanentUnlocks.plains15 === false && area === 1 && level >= 15) {\r\n                    this.permanentUnlocks.plains15 = true;\r\n                    gear.weapons['sword2'].unlocked = true;\r\n                    this._onGearUnlocked([gear.weapons['sword2']]);\r\n                } else if (this.permanentUnlocks.dungeonPlains === false && level >= 20) {\r\n                    this.permanentUnlocks.dungeonPlains = true;\r\n                    this._onDungeonUnlocked(\"Plains Dungeon\");\r\n                }\r\n                break;\r\n            case 2:\r\n                if (this.permanentUnlocks.mountain5 === false && area === 2 && level >= 5) {\r\n                    this.permanentUnlocks.mountain5 = true;\r\n                    gear.defTrinkets['bracers'].unlocked = true;\r\n                    gear.armors['chain'].unlocked = true;\r\n                    this._onGearUnlocked([gear.defTrinkets['bracers'], gear.armors['chain']]);\r\n                } else if (this.permanentUnlocks.mountain15 === false && area === 2 && level >= 15) {\r\n                    this.permanentUnlocks.mountain15 = true;\r\n                    gear.weapons['axe2'].unlocked = true;\r\n                    this._onGearUnlocked([gear.weapons['axe2']]);\r\n                } else if (this.permanentUnlocks.dungeonMountain === false && level >= 40) {\r\n                    this.permanentUnlocks.dungeonMountain = true;\r\n                    this._onDungeonUnlocked(\"Mountain Dungeon\");\r\n                }\r\n                break;\r\n            case 3:\r\n                if (this.permanentUnlocks.swamp5 === false && area === 3 && level >= 5) {\r\n                    this.permanentUnlocks.swamp5 = true;\r\n                    gear.weapons['dagger'].unlocked = true;\r\n                    gear.armors['cloth'].unlocked = true;\r\n                    this._onGearUnlocked([gear.weapons['dagger'], gear.armors['cloth']]);\r\n                } else if (this.permanentUnlocks.swamp15 === false && area === 3 && level >= 15) {\r\n                    this.permanentUnlocks.swamp15 = true;\r\n                    gear.weapons['dagger2'].unlocked = true;\r\n                    this._onGearUnlocked([gear.weapons['dagger2']]);\r\n                } else if (this.permanentUnlocks.dungeonSwamp === false && level >= 35) {\r\n                    this.permanentUnlocks.dungeonSwamp = true;\r\n                    this._onDungeonUnlocked(\"Swamp Dungeon\");\r\n                }\r\n                break;\r\n            case 4:\r\n                if (this.permanentUnlocks.hills5 === false && area === 4 && level >= 5) {\r\n                    this.permanentUnlocks.hills5 = true;\r\n                    gear.weapons['hammer'].unlocked = true;\r\n                    gear.defTrinkets['stone'].unlocked = true;\r\n                    this._onGearUnlocked([gear.weapons['hammer'], gear.defTrinkets['stone']]);\r\n                } else if (this.permanentUnlocks.hills15 === false && area === 4 && level >= 15) {\r\n                    this.permanentUnlocks.hills15 = true;\r\n                    gear.weapons['hammer2'].unlocked = true;\r\n                    this._onGearUnlocked([gear.weapons['hammer2']]);\r\n                } else if (this.permanentUnlocks.dungeonHills === false && level >= 30) {\r\n                    this.permanentUnlocks.dungeonHills = true;\r\n                    this._onDungeonUnlocked(\"Hills Dungeon\");\r\n                }\r\n                break;\r\n            case 5:\r\n                if (this.permanentUnlocks.lake5 === false && area === 5 && level >= 5) {\r\n                    this.permanentUnlocks.lake5 = true;\r\n                    gear.offTrinkets['quartz'].unlocked = true;\r\n                    this._onGearUnlocked([gear.offTrinkets['quartz']]);\r\n                } else if (this.permanentUnlocks.lake15 === false && area === 5 && level >= 15) {\r\n                    this.permanentUnlocks.lake15 = true;\r\n                    gear.weapons['staff'].unlocked = true;\r\n                    this._onGearUnlocked([gear.weapons['staff']]);\r\n                } else if (this.permanentUnlocks.dungeonLake === false && level >= 25) {\r\n                    this.permanentUnlocks.dungeonLake = true;\r\n                    this._onDungeonUnlocked(\"Lake Dungeon\");\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    save() {\r\n        var saveObj = {};\r\n        saveObj['pun'] = this.permanentUnlocks;\r\n        saveObj['crs'] = this.currentRunStart;\r\n        saveObj['time'] = this.time.save();\r\n        saveObj['mdr'] = this.maxDepthReached;\r\n        saveObj['cur'] = this.current;\r\n        saveObj['tot'] = this.totals;\r\n        return saveObj;\r\n    }\r\n    load(saveObj) {\r\n        for (const prop in saveObj['pun']) {\r\n            if (prop in this.permanentUnlocks) {\r\n                this.permanentUnlocks[prop] = saveObj['pun'][prop];\r\n            }\r\n        }\r\n        this.currentRunStart = saveObj['crs'];\r\n        this.time.load(saveObj['time']);\r\n        this.maxDepthReached = saveObj['mdr'];\r\n        for (const prop in saveObj['cur']) {\r\n            if (prop in this.current) {\r\n                this.current[prop] = saveObj['cur'][prop];\r\n            }\r\n        }\r\n        for (const prop in saveObj['tot']) {\r\n            if (prop in this.totals) {\r\n                this.totals[prop] = saveObj['tot'][prop];\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/managers/ProgressManager.js?");

/***/ }),

/***/ "./src/data/managers/RebirthManager.js":
/*!*********************************************!*\
  !*** ./src/data/managers/RebirthManager.js ***!
  \*********************************************/
/*! exports provided: RebirthManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RebirthManager\", function() { return RebirthManager; });\n/* harmony import */ var _Perk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Perk */ \"./src/data/Perk.js\");\n\r\n\r\nclass RebirthManager {\r\n    constructor() {\r\n        if (!RebirthManager.instance) {\r\n\r\n            this.perks = {};\r\n\r\n            this.perks['str1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Strength I\", 'str1', 25, 10, { sprite: 'icons', tile: 176 }, [], [0, 0]);\r\n            this.perks['str2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Strength II\", 'str2', 5, 25, { sprite: 'icons', tile: 192 }, [['str1', 5]], [0, 1]);\r\n            this.perks['str3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Strength III\", 'str3', 25, 100, { sprite: 'icons', tile: 208 }, [['str2', 1]], [0, 2]);\r\n            this.perks['str4'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Strength IV\", 'str4', 100, 1000, { sprite: 'icons', tile: 224 }, [['str3', 10]], [0, 3]);\r\n            this.perks['str5'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Strength V\", 'str5', 100, 2500, { sprite: 'icons', tile: 240 }, [['str4', 10]], [0, 4]);\r\n\r\n            this.perks['dex1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Dexterity I\", 'dex1', 25, 10, { sprite: 'icons', tile: 177 }, [], [1, 0]);\r\n            this.perks['dex2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Dexterity II\", 'dex2', 5, 25, { sprite: 'icons', tile: 193 }, [['dex1', 5]], [1, 1]);\r\n            this.perks['dex3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Dexterity III\", 'dex3', 25, 100, { sprite: 'icons', tile: 209 }, [['dex2', 1]], [1, 2]);\r\n            this.perks['dex4'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Dexterity IV\", 'dex4', 100, 1000, { sprite: 'icons', tile: 225 }, [['dex3', 10]], [1, 3]);\r\n            this.perks['dex5'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Dexterity V\", 'dex5', 100, 2500, { sprite: 'icons', tile: 241 }, [['dex4', 10]], [1, 4]);\r\n\r\n            this.perks['sta1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Stamina I\", 'sta1', 25, 10, { sprite: 'icons', tile: 178 }, [], [2, 0]);\r\n            this.perks['sta2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Stamina II\", 'sta2', 5, 25, { sprite: 'icons', tile: 194 }, [['sta1', 5]], [2, 1]);\r\n            this.perks['sta3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Stamina III\", 'sta3', 25, 100, { sprite: 'icons', tile: 210 }, [['sta2', 1]], [2, 2]);\r\n            this.perks['sta4'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Stamina IV\", 'sta4', 100, 1000, { sprite: 'icons', tile: 226 }, [['sta3', 10]], [2, 3]);\r\n            this.perks['sta5'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Stamina V\", 'sta5', 100, 2500, { sprite: 'icons', tile: 242 }, [['sta4', 10]], [2, 4]);\r\n\r\n            this.perks['arc1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Arcane I\", 'arc1', 25, 10, { sprite: 'icons', tile: 179 }, [], [3, 0]);\r\n            this.perks['arc2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Arcane II\", 'arc2', 5, 25, { sprite: 'icons', tile: 195 }, [['arc1', 5]], [3, 1]);\r\n            this.perks['arc3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Arcane III\", 'arc3', 25, 100, { sprite: 'icons', tile: 211 }, [['arc2', 1]], [3, 2]);\r\n            this.perks['arc4'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Arcane IV\", 'arc4', 100, 1000, { sprite: 'icons', tile: 227 }, [['arc3', 10]], [3, 3]);\r\n            this.perks['arc5'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Arcane V\", 'arc5', 100, 2500, { sprite: 'icons', tile: 243 }, [['arc4', 10]], [3, 4]);\r\n\r\n            this.perks['def1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Defense I\", 'def1', 25, 10, { sprite: 'icons', tile: 180 }, [], [4, 0]);\r\n            this.perks['def2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Defense II\", 'def2', 5, 25, { sprite: 'icons', tile: 196 }, [['def1', 5]], [4, 1]);\r\n            this.perks['def3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Defense III\", 'def3', 25, 100, { sprite: 'icons', tile: 212 }, [['def2', 1]], [4, 2]);\r\n            this.perks['def4'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Defense IV\", 'def4', 100, 1000, { sprite: 'icons', tile: 228 }, [['def3', 10]], [4, 3]);\r\n            this.perks['def5'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Defense V\", 'def5', 100, 2500, { sprite: 'icons', tile: 244 }, [['def4', 10]], [4, 4]);\r\n\r\n            this.perks['off1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Offense I\", 'off1', 25, 10, { sprite: 'icons', tile: 181 }, [], [5, 0]);\r\n            this.perks['off2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Offense II\", 'off2', 5, 25, { sprite: 'icons', tile: 197 }, [['off1', 5]], [5, 1]);\r\n            this.perks['off3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Offense III\", 'off3', 25, 100, { sprite: 'icons', tile: 213 }, [['off2', 1]], [5, 2]);\r\n            this.perks['off4'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Offense IV\", 'off4', 100, 1000, { sprite: 'icons', tile: 229 }, [['off3', 19]], [5, 3]);\r\n            this.perks['off5'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Offense V\", 'off5', 100, 2500, { sprite: 'icons', tile: 245 }, [['off4', 10]], [5, 4]);\r\n\r\n            this.perks['shade1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Shade I\", 'shade1', 50, 10, { sprite: 'icons', tile: 183 }, [], [7, 0]);\r\n            this.perks['shade2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Shade II\", 'shade2', 50, 250, { sprite: 'icons', tile: 199 }, [['shade1', 10]], [7, 1]);\r\n            this.perks['shade3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Shade III\", 'shade3', 50, 1000, { sprite: 'icons', tile: 199 }, [['shade2', 10]], [7, 2]);\r\n            this.perks['drops1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Drop Rate I\", 'drops1', 50, 10, { sprite: 'icons', tile: 182 }, [], [8, 0]);\r\n            this.perks['drops2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Drop Rate II\", 'drops2', 50, 250, { sprite: 'icons', tile: 198 }, [['drops1', 10]], [8, 1]);\r\n            this.perks['drops3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Drop Rate III\", 'drops3', 50, 1000, { sprite: 'icons', tile: 198 }, [['drops2', 10]], [8, 2]);\r\n\r\n            this.perks['prod1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Production I\", 'prod1', 10, 5, { sprite: 'icons', tile: 232 }, [], [8, 4]);\r\n            this.perks['prod2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Production II\", 'prod2', 5, 25, { sprite: 'icons', tile: 248 }, [['prod1', 5]], [8, 5]);\r\n            this.perks['econ1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Economy I\", 'econ1', 10, 5, { sprite: 'icons', tile: 231 }, [], [9, 4]);\r\n            this.perks['econ2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Economy II\", 'econ2', 5, 25, { sprite: 'icons', tile: 247 }, [['econ1', 5]], [9, 5]);\r\n\r\n            this.perks['armor1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Magic Armor\", 'armor1', 5, 400, { sprite: 'icons', tile: 214 }, [], [7, 8]);\r\n            this.perks['crit1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Deadly Weapons\", 'crit1', 30, 250, { sprite: 'icons', tile: 215 }, [], [8, 8]);\r\n            this.perks['start1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Head Start I\", 'start1', 5, 100, { sprite: 'icons', tile: 191 }, [], [7, 4]);\r\n            this.perks['start2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Head Start II\", 'start2', 5, 2000, { sprite: 'icons', tile: 207 }, [['start1', 5]], [7, 5]);\r\n\r\n            this.perks['enhance1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Enhancement I\", 'enhance1', 10, 15, { sprite: 'icons', tile: 184 }, [], [7, 7]);\r\n            this.perks['enhance2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Enhancement II\", 'enhance2', 10, 100, { sprite: 'icons', tile: 200 }, [['enhance1', 5]], [8, 7]);\r\n            this.perks['enhance3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Enhancement III\", 'enhance3', 10, 500, { sprite: 'icons', tile: 216 }, [['enhance2', 5]], [9, 7]);\r\n\r\n            this.perks['explore1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Explore I\", 'explore1', 10, 20, { sprite: 'icons', tile: 218 }, [], [9, 0]);\r\n            this.perks['explore2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Explore II\", 'explore2', 50, 50, { sprite: 'icons', tile: 234 }, [['explore1', 5]], [9, 1]);\r\n            this.perks['explore3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Explore III\", 'explore3', 50, 500, { sprite: 'icons', tile: 234 }, [['explore2', 10]], [9, 2]);\r\n\r\n            this.perks['power1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Arcane Power\", 'power1', 5, 500, { sprite: 'icons', tile: 217 }, [], [2.5, 6]);\r\n            this.perks['poison1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Poison I\", 'poison1', 20, 1000, { sprite: 'icons', tile: 186 }, [['power1', 5]], [0, 7]);\r\n            this.perks['poison2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Poison II\", 'poison2', 20, 2500, { sprite: 'icons', tile: 202 }, [['poison1', 5]], [0, 8]);\r\n\r\n            this.perks['fire1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Fire I\", 'fire1', 20, 1000, { sprite: 'icons', tile: 187 }, [['power1', 5]], [1, 7]);\r\n            this.perks['fire2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Fire II\", 'fire2', 20, 2500, { sprite: 'icons', tile: 203 }, [['fire1', 5]], [1, 8]);\r\n\r\n            this.perks['magic1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Magic I\", 'magic1', 20, 1000, { sprite: 'icons', tile: 185 }, [['power1', 5]], [2, 7]);\r\n            this.perks['magic2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Magic II\", 'magic2', 20, 2500, { sprite: 'icons', tile: 201 }, [['magic1', 5]], [2, 8]);\r\n\r\n            this.perks['frost1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Frost I\", 'frost1', 20, 1000, { sprite: 'icons', tile: 188 }, [['power1', 5]], [3, 7]);\r\n            this.perks['frost2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Frost II\", 'frost2', 20, 2500, { sprite: 'icons', tile: 204 }, [['frost1', 5]], [3, 8]);\r\n\r\n            this.perks['light1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Lightning I\", 'light1', 20, 1000, { sprite: 'icons', tile: 189 }, [['power1', 5]], [4, 7]);\r\n            this.perks['light2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Lightning II\", 'light2', 20, 2500, { sprite: 'icons', tile: 205 }, [['light1', 5]], [4, 8]);\r\n\r\n            this.perks['curse1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Curse I\", 'curse1', 20, 1000, { sprite: 'icons', tile: 190 }, [['power1', 5]], [5, 7]);\r\n            this.perks['curse2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Curse II\", 'curse2', 20, 2500, { sprite: 'icons', tile: 206 }, [['curse1', 5]], [5, 8]);\r\n\r\n            this.perks['town1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Town\", 'town1', 15, 10, { sprite: 'icons', tile: 230 }, [], [11, 0]);\r\n            this.perks['market1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Market I\", 'market1', 10, 30, { sprite: 'icons', tile: 219 }, [['town1', 1]], [12, 0]);\r\n            this.perks['market2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Market II\", 'market2', 10, 250, { sprite: 'icons', tile: 235 }, [['market1', 5]], [12, 1]);\r\n            this.perks['market3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Market III\", 'market3', 10, 2000, { sprite: 'icons', tile: 251 }, [['market2', 5]], [12, 2]);\r\n            this.perks['bank1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Bank I\", 'bank1', 10, 30, { sprite: 'icons', tile: 220 }, [['town1', 1]], [13, 0]);\r\n            this.perks['bank2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Bank II\", 'bank2', 10, 500, { sprite: 'icons', tile: 236 }, [['bank1', 5]], [13, 1]);\r\n            this.perks['bank3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Bank III\", 'bank3', 10, 2000, { sprite: 'icons', tile: 252 }, [['bank2', 5]], [13, 2]);\r\n            this.perks['hall1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Town Hall I\", 'hall1', 10, 30, { sprite: 'icons', tile: 221 }, [['town1', 1]], [14, 0]);\r\n            this.perks['hall2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Town Hall II\", 'hall2', 10, 500, { sprite: 'icons', tile: 237 }, [['hall1', 5]], [14, 1]);\r\n            this.perks['hall3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Town Hall III\", 'hall3', 10, 2000, { sprite: 'icons', tile: 253 }, [['hall2', 5]], [14, 2]);\r\n            this.perks['ward1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Residential Ward I\", 'ward1', 5, 50, { sprite: 'icons', tile: 222 }, [['town1', 1]], [15, 0]);\r\n            this.perks['ward2'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Residential Ward II\", 'ward2', 10, 1000, { sprite: 'icons', tile: 238 }, [['ward1', 5]], [15, 1]);\r\n            this.perks['ward3'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Residential Ward III\", 'ward3', 10, 2000, { sprite: 'icons', tile: 254 }, [['ward2', 5]], [15, 2]);\r\n            this.perks['forge1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Forge\", 'forge1', 5, 1500, { sprite: 'icons', tile: 239 }, [['town1', 15]], [11, 1]);\r\n            this.perks['guild1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Guilds\", 'guild1', 5, 1500, { sprite: 'icons', tile: 223 }, [['town1', 15]], [11, 2]);\r\n            this.perks['slums1'] = new _Perk__WEBPACK_IMPORTED_MODULE_0__[\"Perk\"](\"Slums\", 'slums1', 5, 350, { sprite: 'icons', tile: 255 }, [['town1', 15]], [11, 3]);\r\n\r\n\r\n            RebirthManager.instance = this;\r\n        }\r\n\r\n        return RebirthManager.instance;\r\n    }\r\n\r\n    static getInstance() {\r\n        if (!RebirthManager.instance) {\r\n            return new RebirthManager();\r\n        }\r\n        return RebirthManager.instance;\r\n    }\r\n\r\n    HasUnlockedPerk(perk) {\r\n        for (var i = 0; i < perk.requirements.length; i++) {\r\n            if (this.perks[perk.requirements[i][0]].level < perk.requirements[i][1]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    GetRequirementsText(perk) {\r\n        var str = \"\";\r\n        for (var i = 0; i < perk.requirements.length; i++) {\r\n            if (this.perks[perk.requirements[i][0]].level < perk.requirements[i][1]) {\r\n                str += (str.length !== 0 ? ', ' : '') + this.perks[perk.requirements[i][0]].name +\r\n                    \" Lv\" + perk.requirements[i][1];\r\n            }\r\n        }\r\n        return \"Requires: \" + str;\r\n    }\r\n\r\n    save() {\r\n        var saveObj = {};\r\n        saveObj['perks'] = {}\r\n        for (const prop in this.perks) {\r\n            saveObj['perks'][prop] = this.perks[prop].save();\r\n        }\r\n        return saveObj;\r\n    }\r\n    load(saveObj) {\r\n        for (const prop in saveObj['perks']) {\r\n            if (prop in this.perks) {\r\n                this.perks[prop].load(saveObj['perks'][prop]);\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/managers/RebirthManager.js?");

/***/ }),

/***/ "./src/data/managers/TownManager.js":
/*!******************************************!*\
  !*** ./src/data/managers/TownManager.js ***!
  \******************************************/
/*! exports provided: TownManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TownManager\", function() { return TownManager; });\n/* harmony import */ var _Building__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Building */ \"./src/data/Building.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _PlayerManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _RebirthManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n\r\n\r\n\r\n\r\n\r\nclass TownManager {\r\n    constructor() {\r\n        if (!TownManager.instance) {\r\n\r\n            this.population = 10;\r\n            this.econMulti = 1;\r\n            this.prodMulti = 1;\r\n            this.goldIncome = 0;\r\n            this.matsIncome = 0;\r\n            this.resIncome = [0, 0, 0, 0, 0, 0];\r\n            this.forgeCosts = 1;\r\n            this.buildGoldCosts = 1;\r\n            this.exploreSpeed = 1;\r\n            this.goldDrop = 0;\r\n            this.goldDropPer = 0;\r\n            this.dropMulti = 1;\r\n            this.shadeDrop = 0;\r\n            this.rareResourceProd = 1;\r\n            this.goldCap = 250;\r\n            this.goldCapFromIncome = 0;\r\n            this.goldFromDungeons = 0;\r\n            this.matsFromDungeons = 0;\r\n            this.shadeFromDungeons = 0;\r\n            this.resFromDungeons = 0;\r\n            this.dungeonBonus = 1;\r\n            this.totalBuildings = 0;\r\n            this.buildings = {};\r\n\r\n            this.buildings['town'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Town\", [0, 0, 0, 0, 0, 0, 100, 0], 1, 1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_TOWN, 'town', undefined, { sprite: \"icons\", tile: 48 }, true, [3.5, 0]);\r\n            this.buildings['market'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Market\", [3, 1, 0, 1, 0, 1, 150, 25], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'market', undefined, { sprite: \"icons\", tile: 49 }, true, [0.5, 1]);\r\n            this.buildings['bank'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Bank\", [2, 0, 2, 0, 0, 2, 200, 50], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_BANK, 'bank', undefined, { sprite: \"icons\", tile: 50 }, true, [2.5, 1]);\r\n            this.buildings['hall'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Town Hall\", [0, 4, 0, 0, 2, 0, 150, 25], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_HALL, 'hall', undefined, { sprite: \"icons\", tile: 51 }, true, [4.5, 1]);\r\n            this.buildings['ward'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Residential Ward\", [4, 0, 0, 0, 3, 0, 200, 25], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_RESIDENT, 'ward', undefined, { sprite: \"icons\", tile: 52 }, true, [6.5, 1]);\r\n\r\n            // MARKET BUILDINGS\r\n            this.buildings['warehouse'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Warehouse\", [0, 0, 5, 2, 0, 0, 300, 50], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'warehouse', 'market', { sprite: \"icons\", tile: 53 }, true, [0, 2]);\r\n            this.buildings['roads'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Roads\", [0, 0, 0, 0, 3, 0, 200, 125], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'roads', 'market', { sprite: \"icons\", tile: 54 }, true, [1, 2]);\r\n            this.buildings['mill'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Lumber Mill\", [0, 3, 3, 0, 0, 0, 150, 50], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'mill', 'market', { sprite: \"icons\", tile: 55 }, false, [0, 3]);\r\n            this.buildings['lodge'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Hunters Lodge\", [2, 0, 0, 2, 2, 0, 150, 50], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'lodge', 'market', { sprite: \"icons\", tile: 56 }, false, [0, 4]);\r\n            this.buildings['mine'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Mine\", [2, 0, 0, 0, 2, 2, 150, 50], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'mine', 'market', { sprite: \"icons\", tile: 57 }, false, [0, 5]);\r\n            this.buildings['loom'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Loom\", [3, 3, 0, 0, 0, 0, 150, 50], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'loom', 'market', { sprite: \"icons\", tile: 58 }, false, [1, 3]);\r\n            this.buildings['quarry'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Quarry\", [2, 2, 0, 2, 0, 0, 150, 50], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'quarry', 'market', { sprite: \"icons\", tile: 59 }, false, [1, 4]);\r\n            this.buildings['gem'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Gem Sifter\", [0, 0, 3, 0, 3, 0, 150, 50], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'gem', 'market', { sprite: \"icons\", tile: 60 }, false, [1, 5]);\r\n\r\n            // BANK BUILDINGS\r\n            this.buildings['vault'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Vault\", [0, 0, 2, 0, 0, 5, 300, 60], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'vault', 'bank', { sprite: \"icons\", tile: 61 }, true, [2, 2]);\r\n            this.buildings['depot'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Trade Depot\", [5, 2, 0, 2, 0, 0, 400, 100], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'depot', 'bank', { sprite: \"icons\", tile: 62 }, true, [2, 3]);\r\n            this.buildings['union'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Unions\", [0, 3, 3, 0, 0, 0, 250, 75], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'union', 'bank', { sprite: \"icons\", tile: 63 }, true, [3, 2]);\r\n            this.buildings['guild'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Guilds\", [0, 0, 0, 0, 5, 5, 500, 50], 1, 10,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'guild', 'bank', { sprite: \"icons\", tile: 64 }, true, [3, 3]);\r\n\r\n            // TOWN HALL BUILDINGS\r\n            this.buildings['tower'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Watch Tower\", [5, 2, 0, 0, 0, 0, 150, 75], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'tower', 'hall', { sprite: \"icons\", tile: 65 }, true, [4, 2]);\r\n            this.buildings['forge'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Forge\", [0, 0, 8, 0, 2, 0, 200, 125], 1, 10,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'forge', 'hall', { sprite: \"icons\", tile: 66 }, true, [4, 3]);\r\n            this.buildings['notice'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Notice Board\", [3, 0, 0, 5, 0, 0, 150, 50], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'notice', 'hall', { sprite: \"icons\", tile: 67 }, true, [5, 2]);\r\n            this.buildings['scout'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Scout Quarters\", [0, 0, 0, 0, 5, 3, 150, 75], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'scout', 'hall', { sprite: \"icons\", tile: 68 }, true, [5, 3]);\r\n\r\n            // RESIDENTIAL WARD BUILDINGS\r\n            this.buildings['slums'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Slums\", [5, 0, 0, 5, 0, 0, 400, 10], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'slums', 'ward', { sprite: \"icons\", tile: 69 }, false, [6, 2]);\r\n            this.buildings['tavern'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Tavern\", [5, 5, 0, 5, 0, 0, 300, 200], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'tavern', 'ward', { sprite: \"icons\", tile: 70 }, true, [6, 3]);\r\n            this.buildings['monument'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Monument\", [0, 0, 0, 0, 10, 5, 500, 150], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'monument', 'ward', { sprite: \"icons\", tile: 71 }, true, [7, 2]);\r\n            this.buildings['mansion'] = new _Building__WEBPACK_IMPORTED_MODULE_0__[\"Building\"](\"Mansion\", [5, 0, 0, 0, 3, 3, 200, 75], 1, -1,\r\n                _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].BLD_MARKET, 'mansion', 'ward', { sprite: \"icons\", tile: 72 }, true, [7, 3]);\r\n\r\n            this.onBuildingUpgraded = [];\r\n\r\n            this._calculateVariables();\r\n\r\n            TownManager.instance = this;\r\n        }\r\n\r\n        return TownManager.instance;\r\n    }\r\n\r\n    static getInstance() {\r\n        if (!TownManager.instance) {\r\n            return new TownManager();\r\n        }\r\n        return TownManager.instance;\r\n    }\r\n\r\n    Rebirth() {\r\n        for (const prop in this.buildings) {\r\n            this.buildings[prop].Rebirth();\r\n        }\r\n        this.goldCapFromIncome = 0;\r\n        this.totalBuildings = 0;\r\n        this.goldFromDungeons = 0;\r\n        this.matsFromDungeons = 0;\r\n        this.shadeFromDungeons = 0;\r\n        this.resFromDungeons = 0;\r\n        this.dungeonBonus = 1;\r\n        this._calculateVariables();\r\n    }\r\n\r\n    MotesFromMonuments() { return this.buildings['monument'].level * 8; }\r\n\r\n    _onBuildingUpgraded() {\r\n        for (var i = 0; i < this.onBuildingUpgraded.length; i++) {\r\n            this.onBuildingUpgraded[i]();\r\n        }\r\n    }\r\n\r\n    OnBuildingUpgradedHandler(callback) {\r\n        this.onBuildingUpgraded.push(callback);\r\n    }\r\n\r\n    CanBuild(buildId) {\r\n        if (buildId !== 'town' && this.buildings['town'].level !== 1) {\r\n            return false;\r\n        }\r\n\r\n        if (this.buildings[buildId].maxLevel !== -1 && this.buildings[buildId].level >= this.buildings[buildId].maxLevel) {\r\n            return false;\r\n        }\r\n\r\n        if (_PlayerManager__WEBPACK_IMPORTED_MODULE_2__[\"PlayerManager\"].getInstance().HaveEnoughLand(this.buildings[buildId].landCost) === false) {\r\n            return false;\r\n        }\r\n\r\n        if (this.buildings[buildId].parent !== undefined) {\r\n            if (this.buildings[buildId].level >= this.buildings[this.buildings[buildId].parent].level) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        var costMutli = this.GetBuildingCostMulti()\r\n        var cost = this.buildings[buildId].GetCosts(costMutli[0], costMutli[1], costMutli[2]);\r\n        if (_PlayerManager__WEBPACK_IMPORTED_MODULE_2__[\"PlayerManager\"].getInstance().CanSpendResources(0, cost[6], cost[7],\r\n            [cost[0], cost[1], cost[2], cost[3], cost[4], cost[5]]) === false) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    GetBuildingCosts(buildId) {\r\n        var costMulti = this.GetBuildingCostMulti();\r\n        return this.buildings[buildId].GetCosts(costMulti[0], costMulti[1], costMulti[2]);\r\n    }\r\n\r\n    UpgradeBuilding(bld) {\r\n        this.totalBuildings += 1;\r\n        bld.LevelUp();\r\n        this._calculateVariables();\r\n        this._onBuildingUpgraded();\r\n    }\r\n\r\n    _calculateVariables() {\r\n        var perks = _RebirthManager__WEBPACK_IMPORTED_MODULE_3__[\"RebirthManager\"].getInstance().perks;\r\n        var townBase = 10 + perks['town1'].level;\r\n        var marketBase = 0.75 + perks['market1'].level * 0.15;\r\n        var bankBase = 0.1 + perks['bank1'].level * 0.02;\r\n        var hallBase = 2.5 + perks['hall1'].level * 0.25;\r\n        var wardBase = 5 + perks['ward1'].level;\r\n        var econBase = (1 + perks['ward2'].level * 0.05) * (1 + perks['econ1'].level * 0.02);\r\n        var prodBase = (1 + perks['ward2'].level * 0.05) * (1 + perks['prod1'].level * 0.02);\r\n        var slumsBase = 10 + perks['slums1'].level * 2;\r\n        var perkProdMulti = 1 + perks['market3'].level * 0.01 * (this.buildings['warehouse'].level +\r\n            this.buildings['roads'].level + this.buildings['mill'].level + this.buildings['lodge'].level +\r\n            this.buildings['mine'].level + this.buildings['loom'].level + this.buildings['quarry'].level +\r\n            this.buildings['gem'].level);\r\n        var perkGoldCap = perks['bank3'].level * 10 * (this.buildings['guild'].level +\r\n            this.buildings['vault'].level + this.buildings['union'].level + this.buildings['depot'].level);\r\n        var perkExploreMulti = 1 + perks['hall3'].level * 0.01 * (this.buildings['tower'].level +\r\n            this.buildings['notice'].level + this.buildings['forge'].level + this.buildings['scout'].level);\r\n        var perkEconMulti = 1 + perks['ward3'].level * 0.01 * (this.buildings['slums'].level +\r\n            this.buildings['tavern'].level + this.buildings['mansion'].level + this.buildings['monument'].level);\r\n        this.buildings['forge'].maxLevel = 10 + perks['forge1'].level * 3;\r\n        this.buildings['guild'].maxLevel = 10 + perks['guild1'].level * 3;\r\n        this.resIncome = [\r\n            this.buildings['town'].level > 0 ? 0.1 : 0,\r\n            this.buildings['town'].level > 0 ? 0.1 : 0,\r\n            this.buildings['town'].level > 0 ? 0.1 : 0,\r\n            this.buildings['town'].level > 0 ? 0.1 : 0,\r\n            this.buildings['town'].level > 0 ? 0.1 : 0,\r\n            this.buildings['town'].level > 0 ? 0.1 : 0\r\n        ];\r\n\r\n        this.population = (this.buildings['town'].level * townBase) +\r\n            (this.buildings['ward'].level * wardBase) +\r\n            (this.buildings['slums'].level * slumsBase) +\r\n            (this.buildings['mansion'].level * 3) +\r\n            (this.buildings['tavern'].level * 1)\r\n        this.goldIncome = this.population * (this.buildings['town'].level * 0.5 +\r\n            this.buildings['bank'].level * bankBase -\r\n            this.buildings['union'].level * 0.1) +\r\n            (this.buildings['roads'].level * 1.5 + this.buildings['roads'].level * this.totalBuildings * 0.03) +\r\n            (this.buildings['mansion'].level * 1.5) +\r\n            (perks['econ2'].level * 1);\r\n        this.matsIncome = this.population * this.buildings['market'].level * marketBase;\r\n        this.rareResourceProd = Math.pow(0.9, this.buildings['slums'].level) *\r\n            (1 + perks['market2'].level * 0.03) * (1 + perks['prod2'].level * 0.03);\r\n        this.resIncome[0] += this.population * this.buildings['mill'].level * 0.01;\r\n        this.resIncome[1] += this.population * this.buildings['lodge'].level * 0.01;\r\n        this.resIncome[2] += this.population * this.buildings['mine'].level * 0.01;\r\n        this.resIncome[3] += this.population * this.buildings['loom'].level * 0.01;\r\n        this.resIncome[4] += this.population * this.buildings['quarry'].level * 0.01;\r\n        this.resIncome[5] += this.population * this.buildings['gem'].level * 0.01;\r\n        this.econMulti = econBase * (1 + this.buildings['depot'].level * 0.15) *\r\n            (1 + this.buildings['tavern'].level * 0.001 * this.population) *\r\n            Math.pow(0.9, this.buildings['slums'].level) * this.dungeonBonus * perkEconMulti;\r\n        this.prodMulti = prodBase * (1 + this.buildings['warehouse'].level * 0.1) *\r\n            (1 + this.buildings['tavern'].level * 0.001 * this.population) *\r\n            (1 + this.buildings['union'].level * 0.1) * this.dungeonBonus * perkProdMulti;\r\n        this.forgeCosts = Math.pow(0.95, this.buildings['forge'].level);\r\n        this.buildGoldCosts = Math.pow(0.95, this.buildings['guild'].level);\r\n        this.exploreSpeed = (1 + this.buildings['tower'].level * 0.2) * perkExploreMulti;\r\n        this.goldDrop = this.buildings['notice'].level * 0.5 * this.econMulti;\r\n        this.goldDropPer = this.buildings['notice'].level * 0.025;\r\n        this.dropMulti = 1 + this.buildings['scout'].level * 0.1;\r\n        this.shadeDrop = this.buildings['hall'].level * hallBase;\r\n        this.goldCap = (250 + this.buildings['vault'].level * 250 +\r\n            this.population * 10 + this.goldCapFromIncome + perks['econ2'].level * 50 +\r\n            (this.goldFromDungeons * _Statics__WEBPACK_IMPORTED_MODULE_1__[\"Statics\"].DUNGEON_GOLD_CAP) + perkGoldCap) * this.econMulti;\r\n    }\r\n\r\n    IncreaseGoldCap(amount) {\r\n        this.goldCapFromIncome += amount;\r\n        this._calculateVariables();\r\n    }\r\n    AddDungeonMats(amount) {\r\n        this.matsFromDungeons += amount;\r\n        this._onBuildingUpgraded();\r\n    }\r\n    AddDungeonShade(amount) {\r\n        this.shadeFromDungeons += amount;\r\n        this._onBuildingUpgraded();\r\n    }\r\n    AddDungeonGold(amount) {\r\n        this.goldFromDungeons += amount;\r\n        this._onBuildingUpgraded();\r\n    }\r\n    AddDungeonResources(amount) {\r\n        this.resFromDungeons += amount;\r\n        this._onBuildingUpgraded();\r\n    }\r\n    AddDungeonBonus(amount) {\r\n        this.dungeonBonus += amount;\r\n        this._calculateVariables();\r\n    }\r\n\r\n    GetIncome() {\r\n        return (this.goldIncome + this.goldFromDungeons) * this.econMulti;\r\n    }\r\n    GetMaterialIncome() {\r\n        return (this.matsIncome + this.matsFromDungeons) * this.prodMulti;\r\n    }\r\n    GetResourceIncome() {\r\n        var ret = [0, 0, 0, 0, 0, 0];\r\n        for (var i = 0; i < ret.length; i++) {\r\n            ret[i] = (this.resIncome[i] + this.resFromDungeons) * this.prodMulti * this.rareResourceProd;\r\n        }\r\n        return ret;\r\n    }\r\n    GetShadeIncome() {\r\n        return this.shadeFromDungeons;\r\n    }\r\n    GetBuildingCostMulti() {\r\n        var costMulti = 1 + (this.totalBuildings - this.buildings['guild'].level) * 0.05;\r\n        return [costMulti, costMulti, costMulti * this.buildGoldCosts];\r\n    }\r\n\r\n    save() {\r\n        var saveObj = {};\r\n        saveObj['bld'] = {}\r\n        for (const prop in this.buildings) {\r\n            saveObj['bld'][prop] = this.buildings[prop].save();\r\n        }\r\n        saveObj['tb'] = this.totalBuildings;\r\n        saveObj['gd'] = this.goldFromDungeons;\r\n        saveObj['md'] = this.matsFromDungeons;\r\n        saveObj['sd'] = this.shadeFromDungeons;\r\n        saveObj['rd'] = this.resFromDungeons;\r\n        saveObj['db'] = this.dungeonBonus;\r\n        return saveObj;\r\n    }\r\n    load(saveObj) {\r\n        for (const prop in saveObj['bld']) {\r\n            if (prop in this.buildings) {\r\n                this.buildings[prop].load(saveObj['bld'][prop]);\r\n            }\r\n        }\r\n        this.totalBuildings = saveObj['tb'];\r\n        this.goldFromDungeons = saveObj['gd'];\r\n        this.matsFromDungeons = saveObj['md'];\r\n        this.shadeFromDungeons = saveObj['sd'];\r\n        this.resFromDungeons = saveObj['rd'];\r\n        this.dungeonBonus = saveObj['db'];\r\n        this._calculateVariables();\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/managers/TownManager.js?");

/***/ }),

/***/ "./src/data/managers/WorldManager.js":
/*!*******************************************!*\
  !*** ./src/data/managers/WorldManager.js ***!
  \*******************************************/
/*! exports provided: WorldManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WorldManager\", function() { return WorldManager; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _Dungeon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Dungeon */ \"./src/data/Dungeon.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _MonsterManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MonsterManager */ \"./src/data/managers/MonsterManager.js\");\n/* harmony import */ var _PlayerManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _ProgressManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n/* harmony import */ var _RebirthManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _TownManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TownManager */ \"./src/data/managers/TownManager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass WorldManager {\r\n    constructor() {\r\n        if (!WorldManager.instance) {\r\n            this.totalLandExplored = 0;\r\n            this.exploreLevel = [0, 0, 0, 0, 0, 0];\r\n            this.exploreXp = [0, 0, 0, 0, 0, 0];\r\n            this.exploreXpToNext = [_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE,\r\n            _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE];\r\n            this.activeRegion = -1;\r\n            this.exploreMode = _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_PATROL;\r\n\r\n            this.invasionTimer = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].INVASION_TIMER_MIN, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].INVASION_TIMER_MAX);\r\n            this.invasionTimerMax = 0;\r\n            this.invasionActive = false;\r\n            this.invasionRegion = 0;\r\n\r\n            this.patrolMonsters = ['goblin', 'brigand', 'gnoll', 'skeleton', 'slime', 'wolf', 'witch', 'knight', 'kobold'];\r\n            this.patrolMonsters = ['goblin'];\r\n            this.regionMonsters =\r\n                [\r\n                    // FOREST\r\n                    ['goblin', 'witch', 'wolf', 'cinderswarm', 'livingtree', 'pixie'],\r\n                    // PLAINS\r\n                    ['goblin', 'brigand', 'wolf', 'dustdevil', 'knight'],\r\n                    // MOUNTAIN\r\n                    ['goblin', 'yeti', 'wolf', 'wyrmling', 'kobold'],\r\n                    // SWAMP\r\n                    ['goblin', 'frogbeast', 'frogwitch', 'zombie', 'skeleton', 'slime'],\r\n                    // HILLS\r\n                    ['goblin', 'brigand', 'wolf', 'gnoll', 'wyrmling'],\r\n                    // LAKE\r\n                    ['pixie', 'sharkman', 'wolf', 'skeleton', 'slime'],\r\n                ];\r\n\r\n            this.dungeonRewards = [];\r\n            for (var i = 0; i < 8; i++) {\r\n                this.dungeonRewards.push(i);\r\n            }\r\n\r\n            this.dungeons = [];\r\n            this.dungeons.push(new _Dungeon__WEBPACK_IMPORTED_MODULE_1__[\"Dungeon\"](\"Forest Dungeon\", 15,\r\n                ['goblin', 'witch', 'wolf', 'cinderswarm', 'livingtree', 'pixie', 'dryad', 'dryad']));\r\n            this.dungeons.push(new _Dungeon__WEBPACK_IMPORTED_MODULE_1__[\"Dungeon\"](\"Plains Dungeon\", 20,\r\n                ['goblin', 'brigand', 'wolf', 'dustdevil', 'knight', 'darkpaladin', 'darkpaladin']));\r\n            this.dungeons.push(new _Dungeon__WEBPACK_IMPORTED_MODULE_1__[\"Dungeon\"](\"Lake Dungeon\", 25,\r\n                ['pixie', 'sharkman', 'wolf', 'skeleton', 'slime', 'crabman', 'crabman']));\r\n            this.dungeons.push(new _Dungeon__WEBPACK_IMPORTED_MODULE_1__[\"Dungeon\"](\"Hills Dungeon\", 30,\r\n                ['goblin', 'brigand', 'wolf', 'gnoll', 'wyrmling', 'vargund', 'vargund']));\r\n            this.dungeons.push(new _Dungeon__WEBPACK_IMPORTED_MODULE_1__[\"Dungeon\"](\"Swamp Dungeon\", 35,\r\n                ['goblin', 'frogbeast', 'frogwitch', 'zombie', 'skeleton', 'slime', 'lich', 'lich']));\r\n            this.dungeons.push(new _Dungeon__WEBPACK_IMPORTED_MODULE_1__[\"Dungeon\"](\"Mountain Dungeon\", 40,\r\n                ['goblin', 'yeti', 'wolf', 'wyrmling', 'kobold', 'dragon', 'dragon']));\r\n\r\n            this.activeDungeon = 0;\r\n            this.earnedRewards = {\r\n                allStats: 0,\r\n                mats: 0,\r\n                shade: 0,\r\n                gold: 0,\r\n                goldCap: 0,\r\n                allRes: 0,\r\n                mastery: 0,\r\n                econProd: 0,\r\n                motes: 0\r\n            };\r\n\r\n            this.onRegionChanged = [];\r\n            this.onLandChanged = [];\r\n            this.onInvasionStart = [];\r\n            this.onInvasionEnd = [];\r\n            this.onDungeonCompleted = [];\r\n\r\n            WorldManager.instance = this;\r\n        }\r\n\r\n        return WorldManager.instance;\r\n    }\r\n\r\n    static getInstance() {\r\n        if (!WorldManager.instance) {\r\n            return new WorldManager();\r\n        }\r\n        return WorldManager.instance;\r\n    }\r\n\r\n    Rebirth() {\r\n        this.totalLandExplored = 0;\r\n        this.exploreLevel = [0, 0, 0, 0, 0, 0];\r\n        this.exploreXp = [0, 0, 0, 0, 0, 0];\r\n        this.exploreXpToNext = [_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE,\r\n        _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_BASE];\r\n        this.activeRegion = -1;\r\n\r\n        this.invasionTimer = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].INVASION_TIMER_MIN, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].INVASION_TIMER_MAX);\r\n        this.invasionTimerMax = 0;\r\n        this.invasionActive = false;\r\n        this.invasionRegion = 0;\r\n\r\n        for (var i = 0; i < this.dungeons.length; i++) {\r\n            this.dungeons[i].ResetDungeon();\r\n        }\r\n        this.dungeonRewards = [];\r\n        for (var i = 0; i < 8; i++) {\r\n            this.dungeonRewards.push(i);\r\n        }\r\n        this.earnedRewards = {\r\n            allStats: 0,\r\n            mats: 0,\r\n            shade: 0,\r\n            gold: 0,\r\n            goldCap: 0,\r\n            allRes: 0,\r\n            mastery: 0,\r\n            econProd: 0,\r\n            motes: 0\r\n        };\r\n    }\r\n\r\n    _onRegionChanged() {\r\n        for (var i = 0; i < this.onRegionChanged.length; i++) {\r\n            this.onRegionChanged[i]();\r\n        }\r\n    }\r\n    _onLandChanged(regionId) {\r\n        for (var i = 0; i < this.onLandChanged.length; i++) {\r\n            this.onLandChanged[i](regionId);\r\n        }\r\n    }\r\n    _onInvasionStart() {\r\n        for (var i = 0; i < this.onInvasionStart.length; i++) {\r\n            this.onInvasionStart[i](this.invasionRegion);\r\n        }\r\n    }\r\n    _onInvasionEnd() {\r\n        for (var i = 0; i < this.onInvasionEnd.length; i++) {\r\n            this.onInvasionEnd[i](this.invasionRegion);\r\n        }\r\n    }\r\n    _onDungeonCompleted() {\r\n        for (var i = 0; i < this.onDungeonCompleted.length; i++) {\r\n            this.onDungeonCompleted[i]();\r\n        }\r\n    }\r\n\r\n    OnRegionChangedHandler(callback) {\r\n        this.onRegionChanged.push(callback);\r\n    }\r\n    OnLandChangedHandler(callback) {\r\n        this.onLandChanged.push(callback);\r\n    }\r\n    OnInvasionStartHandler(callback) {\r\n        this.onInvasionStart.push(callback);\r\n    }\r\n    OnInvasionEndHandler(callback) {\r\n        this.onInvasionEnd.push(callback);\r\n    }\r\n    OnDungeonCompletedHandler(callback) {\r\n        this.onDungeonCompleted.push(callback);\r\n    }\r\n\r\n    MonsterLevelAtRegion(idx) {\r\n        if (idx === -1) {\r\n            return Math.max(1, Math.floor(this.totalLandExplored / 6));\r\n        }\r\n        return Math.max(this.exploreLevel[idx] + 1, Math.floor(this.totalLandExplored / 6));\r\n    }\r\n\r\n    _getExploreMonsters() {\r\n        var ret = [];\r\n        var level = this.MonsterLevelAtRegion(this.activeRegion);\r\n        var count = 1 + (level >= 10 ? 1 : 0) + (level >= 30 ? 1 : 0);\r\n        if (this.invasionActive === true && this.activeRegion === this.invasionRegion) {\r\n            level = this.MonsterLevelAtRegion(-1) + 1;\r\n            count += 1;\r\n        }\r\n        if (this.activeRegion === -1) {\r\n            for (var i = 0; i < count; i++) {\r\n                var idx = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(0, this.patrolMonsters.length);\r\n                ret.push(_MonsterManager__WEBPACK_IMPORTED_MODULE_3__[\"MonsterManager\"].getInstance().GetMonsterAtLevel(this.patrolMonsters[idx],\r\n                    Math.max(1, level - count + 1)));\r\n            }\r\n        } else {\r\n            for (var i = 0; i < count; i++) {\r\n                var idx = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(0, this.regionMonsters[this.activeRegion].length);\r\n                ret.push(_MonsterManager__WEBPACK_IMPORTED_MODULE_3__[\"MonsterManager\"].getInstance().GetMonsterAtLevel(this.regionMonsters[this.activeRegion][idx],\r\n                    Math.max(1, level - count + 1)));\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n\r\n    GetMonsters() {\r\n        switch (this.exploreMode) {\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_PATROL:\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_REGION:\r\n                return this._getExploreMonsters();\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_DUNGEON:\r\n                return this.dungeons[this.activeDungeon].GetMonsters();\r\n        }\r\n        return [];\r\n    }\r\n\r\n    ExploreDungeon(idx) {\r\n        this.activeDungeon = idx;\r\n        this.exploreMode = _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_DUNGEON;\r\n        this.dungeons[this.activeDungeon].ResetFloor();\r\n        this._onRegionChanged();\r\n    }\r\n    TrackBattle() {\r\n        if (this.exploreMode === _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_DUNGEON) {\r\n            this.dungeons[this.activeDungeon].TrackBattle();\r\n        }\r\n    }\r\n\r\n    SetActiveRegion(region) {\r\n        this.activeRegion = region;\r\n        if (region !== -1) {\r\n            this.exploreXp[this.activeRegion] = 0;\r\n            this.exploreMode = _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_REGION;\r\n        } else {\r\n            this.exploreMode = _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_PATROL;\r\n        }\r\n        // When switching regions you lose all progress for that current depth\r\n        if (this.invasionActive === true) {\r\n            this.invasionTimer = 0;\r\n        }\r\n        this._onRegionChanged();\r\n    }\r\n\r\n    _addRegionXp(amount) {\r\n        if (this.exploreLevel[this.activeRegion] < _ProgressManager__WEBPACK_IMPORTED_MODULE_5__[\"ProgressManager\"].getInstance().maxDepthReached[this.activeRegion]) {\r\n            amount = amount * (1 + _RebirthManager__WEBPACK_IMPORTED_MODULE_6__[\"RebirthManager\"].getInstance().perks['explore1'].level * 0.2);\r\n        }\r\n        if (this.invasionActive === true && this.invasionRegion === this.activeRegion) {\r\n            this.invasionTimer += amount;\r\n            if (this.invasionTimer >= this.invasionTimerMax) {\r\n                this.invasionActive = false;\r\n                this.invasionTimer = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].INVASION_TIMER_MIN, _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].INVASION_TIMER_MAX);\r\n                this._onInvasionEnd();\r\n            }\r\n            return;\r\n        }\r\n        if (this.activeRegion >= 0 && this.activeRegion < this.exploreLevel.length) {\r\n            this.exploreXp[this.activeRegion] += amount;\r\n            if (this.exploreXp[this.activeRegion] > this.exploreXpToNext[this.activeRegion]) {\r\n                this.exploreXp[this.activeRegion] -= this.exploreXpToNext[this.activeRegion];\r\n                this.exploreXpToNext[this.activeRegion] = this.exploreXpToNext[this.activeRegion] * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].REGION_XP_INC;\r\n                this.exploreLevel[this.activeRegion] += 1;\r\n                this.totalLandExplored += 1;\r\n                this._onLandChanged(this.activeRegion);\r\n            }\r\n        }\r\n    }\r\n    _addDungeonXp(amount) {\r\n        this.dungeons[this.activeDungeon].exploreXp += amount;\r\n        if (this.dungeons[this.activeDungeon].exploreXp >= this.dungeons[this.activeDungeon].exploreXpNext) {\r\n            var reward = this.dungeonRewards[_utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(0, this.dungeonRewards.length)];\r\n            this.dungeonRewards = this.dungeonRewards.filter(x => x != reward);\r\n            var amount = 0;\r\n            switch (reward) {\r\n                case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DREWARD_STATS:\r\n                    amount = this.dungeons[this.activeDungeon].RewardPower() / _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DUNGEON_STAT_COST;\r\n                    this.earnedRewards.allStats += amount;\r\n                    _PlayerManager__WEBPACK_IMPORTED_MODULE_4__[\"PlayerManager\"].getInstance().AddAllStats(amount);\r\n                    break;\r\n                case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DREWARD_MATS:\r\n                    amount = this.dungeons[this.activeDungeon].RewardPower() / _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DUNGEON_MATS_COST;\r\n                    this.earnedRewards.mats += amount;\r\n                    _TownManager__WEBPACK_IMPORTED_MODULE_7__[\"TownManager\"].getInstance().AddDungeonMats(amount);\r\n                    break;\r\n                case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DREWARD_XP:\r\n                    amount = this.dungeons[this.activeDungeon].RewardPower() / _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DUNGEON_XP_COST;\r\n                    this.earnedRewards.shade += amount;\r\n                    _TownManager__WEBPACK_IMPORTED_MODULE_7__[\"TownManager\"].getInstance().AddDungeonShade(amount);\r\n                    break;\r\n                case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DREWARD_GOLD:\r\n                    amount = this.dungeons[this.activeDungeon].RewardPower() / _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DUNGEON_GOLD_COST;\r\n                    this.earnedRewards.gold += amount;\r\n                    this.earnedRewards.goldCap += amount * _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DUNGEON_GOLD_CAP;\r\n                    _TownManager__WEBPACK_IMPORTED_MODULE_7__[\"TownManager\"].getInstance().AddDungeonGold(amount);\r\n                    break;\r\n                case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DREWARD_RES:\r\n                    amount = this.dungeons[this.activeDungeon].RewardPower() / _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DUNGEON_ALL_RES_COST;\r\n                    this.earnedRewards.allRes += amount;\r\n                    _TownManager__WEBPACK_IMPORTED_MODULE_7__[\"TownManager\"].getInstance().AddDungeonResources(amount);\r\n                    break;\r\n                case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DREWARD_MASTERY:\r\n                    amount = this.dungeons[this.activeDungeon].RewardPower() / _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DUNGEON_MASTERY_COST;\r\n                    this.earnedRewards.mastery += amount;\r\n                    _PlayerManager__WEBPACK_IMPORTED_MODULE_4__[\"PlayerManager\"].getInstance().AddMasteryToEquippedItems(amount);\r\n                    break;\r\n                case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DREWARD_ECON:\r\n                    amount = 0.03 + this.dungeons[this.activeDungeon].RewardPower() / _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DUNGEON_ECON_COST;\r\n                    this.earnedRewards.econProd += amount;\r\n                    _TownManager__WEBPACK_IMPORTED_MODULE_7__[\"TownManager\"].getInstance().AddDungeonBonus(amount);\r\n                    break;\r\n                case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DREWARD_MOTES:\r\n                    amount = this.dungeons[this.activeDungeon].RewardPower() / _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].DUNGEON_MOTES_COST;\r\n                    this.earnedRewards.motes += amount;\r\n                    _PlayerManager__WEBPACK_IMPORTED_MODULE_4__[\"PlayerManager\"].getInstance().AddMotesFromDungeon(amount);\r\n                    break;\r\n            }\r\n            this.dungeons[this.activeDungeon].TrackReward(reward, amount);\r\n            this.dungeons[this.activeDungeon].AdvanceFloor();\r\n\r\n            if (this.dungeonRewards.length <= 2) {\r\n                this.dungeonRewards = [];\r\n                for (var i = 0; i < 8; i++) {\r\n                    this.dungeonRewards.push(i);\r\n                }\r\n            }\r\n            _ProgressManager__WEBPACK_IMPORTED_MODULE_5__[\"ProgressManager\"].getInstance().TrackDungeonProgress(this.activeDungeon, this.dungeons[this.activeDungeon].floor);\r\n            this.SetActiveRegion(-1);\r\n            this._onDungeonCompleted();\r\n        }\r\n    }\r\n\r\n    AddExploreXp(amount) {\r\n        switch (this.exploreMode) {\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_REGION:\r\n                this._addRegionXp(amount);\r\n                return;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_DUNGEON:\r\n                this._addDungeonXp(amount);\r\n        }\r\n    }\r\n    GetExplorePercent() {\r\n        switch (this.exploreMode) {\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_PATROL:\r\n                return 1;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_REGION:\r\n                if (this.invasionActive === true && this.invasionRegion === this.activeRegion) {\r\n                    return this.invasionTimer / this.invasionTimerMax;\r\n                }\r\n                return this.exploreXp[this.activeRegion] / this.exploreXpToNext[this.activeRegion];\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_DUNGEON:\r\n                return this.dungeons[this.activeDungeon].exploreXp / this.dungeons[this.activeDungeon].exploreXpNext;\r\n        }\r\n    }\r\n    GetExploreColor() {\r\n        switch (this.exploreMode) {\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_PATROL:\r\n                return Phaser.Display.Color.GetColor(64, 128, 64);\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_REGION:\r\n                if (this.invasionActive === true && this.invasionRegion === this.activeRegion) {\r\n                    return Phaser.Display.Color.GetColor(148, 0, 148);\r\n                }\r\n                return Phaser.Display.Color.GetColor(0, 148, 148);\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_DUNGEON:\r\n                return Phaser.Display.Color.GetColor(200, 48, 48);\r\n        }\r\n    }\r\n    GetExploreText() {\r\n        switch (this.exploreMode) {\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_PATROL:\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_REGION:\r\n                if (this.invasionActive === true && this.invasionRegion === this.activeRegion) {\r\n                    return \"Fighting Invasion...\";\r\n                }\r\n                switch (this.activeRegion) {\r\n                    case -1:\r\n                        return \"Patrolling...\";\r\n                    case 0:\r\n                        return \"Exploring Forest...\";\r\n                    case 1:\r\n                        return \"Exploring Plains...\";\r\n                    case 2:\r\n                        return \"Exploring Mountains...\";\r\n                    case 3:\r\n                        return \"Exploring Swamp...\";\r\n                    case 4:\r\n                        return \"Exploring Hills...\";\r\n                    case 5:\r\n                        return \"Exploring Lake...\";\r\n                }\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_DUNGEON:\r\n                return \"Exploring \" + this.dungeons[this.activeDungeon].name + \" F\" +\r\n                    (this.dungeons[this.activeDungeon].floor + 1) + \"...\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    // On player death their current progress through a tile is reset\r\n    ResetExploreXp() {\r\n        switch (this.exploreMode) {\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_REGION:\r\n                if (this.invasionActive === true && this.activeRegion === this.invasionRegion) {\r\n                    this.invasionTimer = 0;\r\n                }\r\n                if (this.activeRegion >= 0 && this.activeRegion < this.exploreLevel.length) {\r\n                    this.exploreXp[this.activeRegion] = 0;\r\n                }\r\n                break;\r\n            case _Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].EXP_MODE_DUNGEON:\r\n                this.dungeons[this.activeDungeon].exploreXp = 0;\r\n                break;\r\n        }\r\n    }\r\n\r\n    MotesFromLand() {\r\n        return this.totalLandExplored;\r\n    }\r\n\r\n    ProgressPointsFromDungeons() {\r\n        var ret = 0;\r\n        for (var i = 0; i < this.dungeons.length; i++) {\r\n            ret += this.dungeons[i].floor;\r\n        }\r\n        return ret * 2;\r\n    }\r\n\r\n    ProgressPoints() {\r\n        var max = this.exploreLevel[0];\r\n        for (var i = 1; i < this.exploreLevel.length; i++) {\r\n            max = this.exploreLevel[i] > max ? this.exploreLevel[i] : max;\r\n        }\r\n        max += _TownManager__WEBPACK_IMPORTED_MODULE_7__[\"TownManager\"].getInstance().buildings['monument'].level;\r\n        max += this.ProgressPointsFromDungeons();\r\n        return max;\r\n    }\r\n\r\n    ProgressBonus() {\r\n        var max = this.exploreLevel[0];\r\n        for (var i = 1; i < this.exploreLevel.length; i++) {\r\n            max = this.exploreLevel[i] > max ? this.exploreLevel[i] : max;\r\n        }\r\n        max += _TownManager__WEBPACK_IMPORTED_MODULE_7__[\"TownManager\"].getInstance().buildings['monument'].level;\r\n        max += this.ProgressPointsFromDungeons();\r\n        return Math.pow(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].MOTE_MAX_DEPTH_BONUS, max);\r\n    }\r\n\r\n    GetTooltip(region) {\r\n        var str = \"\";\r\n        switch (region) {\r\n            case 0:\r\n                str = \"A thick, ancient forest where even the trees move. Each depth you reach gives you 1 wood.\";\r\n                break;\r\n            case 1:\r\n                str = \"Sprawling plains home to beasts and bandits. Each depth you reach gives you 1 leather.\";\r\n                break;\r\n            case 2:\r\n                str = \"The tall mountain peaks filled with precious metals, but also said to be home to dragons. Each depth you reach gives you 1 metal.\";\r\n                break;\r\n            case 3:\r\n                str = \"Murky swamps covered in a thick fog where not even the dead stay dead. Each depth you reach gives you 1 fiber.\";\r\n                break;\r\n            case 4:\r\n                str = \"Rocky, rolling hills home to goblins, gnolls, and all manor of beasts. Each depth you reach gives you 1 stone.\";\r\n                break;\r\n            case 5:\r\n                str = \"A wetlands filled with rivers and lakes. Fishing here is as dangerous as any dungeon. Each depth you reach gives you 1 crystal.\";\r\n                break;\r\n            case -1:\r\n                return \"Patrolling the outskirts of the town, who knows what kind of monsters you'll find here.\\n\\n\" +\r\n                    \"Monster Level: \" + this.MonsterLevelAtRegion(region);\r\n        }\r\n        if (this.invasionActive === true && this.invasionRegion === region) {\r\n            str += '\\n\\nThe mist covers this area, enraging the monsters. They must be culled before progressing.';\r\n        }\r\n\r\n        str += \"\\n\\n\" + \"Depth Reached: \" + this.exploreLevel[region] + \"\\n\" +\r\n            \"Monster Level: \" + this.MonsterLevelAtRegion(region);\r\n        return str;\r\n    }\r\n\r\n    Update(time) {\r\n        if (this.invasionActive === false) {\r\n            this.invasionTimer -= time;\r\n            if (this.invasionTimer <= 0) {\r\n                this.invasionRegion = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(0, 6);\r\n                if (this.invasionRegion === this.activeRegion) {\r\n                    this.invasionRegion = (this.invasionRegion + 1) % 6;\r\n                }\r\n                this.invasionActive = true;\r\n                this.invasionTimer = 0;\r\n                this.invasionTimerMax = Math.max(_Statics__WEBPACK_IMPORTED_MODULE_2__[\"Statics\"].INVASION_MIN_EXPLORE, this.exploreXpToNext[this.invasionRegion] / 2);\r\n                this._onInvasionStart();\r\n            }\r\n        }\r\n    }\r\n\r\n    save() {\r\n        var saveObj = {};\r\n        saveObj['tle'] = this.totalLandExplored;\r\n        saveObj['el'] = this.exploreLevel;\r\n        saveObj['exp'] = this.exploreXp;\r\n        saveObj['expn'] = this.exploreXpToNext;\r\n        saveObj['it'] = this.invasionTimer;\r\n        saveObj['itm'] = this.invasionTimerMax;\r\n        saveObj['ia'] = this.invasionActive;\r\n        saveObj['ir'] = this.invasionRegion;\r\n        saveObj['er'] = this.earnedRewards;\r\n        saveObj['dr'] = this.dungeonRewards;\r\n        saveObj['dun'] = [];\r\n        for (var i = 0; i < this.dungeons.length; i++) {\r\n            saveObj['dun'].push(this.dungeons[i].save());\r\n        }\r\n        return saveObj;\r\n    }\r\n    load(saveObj) {\r\n        this.totalLandExplored = saveObj['tle'];\r\n        this.exploreLevel = saveObj['el'];\r\n        this.exploreXp = saveObj['exp'];\r\n        this.exploreXpToNext = saveObj['expn'];\r\n        this.invasionTimer = saveObj['it'];\r\n        this.invasionTimerMax = saveObj['itm'];\r\n        this.invasionActive = saveObj['ia'];\r\n        this.invasionRegion = saveObj['ir'];\r\n        for (const prop in saveObj['er']) {\r\n            if (prop in this.earnedRewards) {\r\n                this.earnedRewards[prop] = saveObj['er'][prop];\r\n            }\r\n        }\r\n        this.dungeonRewards = saveObj['dr'];\r\n        for (var i = 0; i < saveObj['dun'].length; i++) {\r\n            this.dungeons[i].load(saveObj['dun'][i]);\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/managers/WorldManager.js?");

/***/ }),

/***/ "./src/data/resources/Strings.js":
/*!***************************************!*\
  !*** ./src/data/resources/Strings.js ***!
  \***************************************/
/*! exports provided: Strings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Strings\", function() { return Strings; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _managers_TownManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _Statics__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _TraitEnum__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TraitEnum */ \"./src/data/TraitEnum.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass Strings {\r\n\r\n    static RegionNames(regionId) {\r\n        switch (regionId) {\r\n            case -1:\r\n                return \"Town\";\r\n            case 0:\r\n                return \"Forest\";\r\n            case 1:\r\n                return \"Plains\";\r\n            case 2:\r\n                return \"Mountains\";\r\n            case 3:\r\n                return \"Swamp\";\r\n            case 4:\r\n                return \"Hills\";\r\n            case 5:\r\n                return \"Lake\";\r\n        }\r\n        return \"Town\";\r\n    }\r\n\r\n    static DungeonRewardTitles(reward) {\r\n        switch (reward) {\r\n            case 0:\r\n                return \"All Attributes\";\r\n            case 1:\r\n                return \"Materials\";\r\n            case 2:\r\n                return \"Shade\";\r\n            case 3:\r\n                return \"Gold and Gold Cap\";\r\n            case 4:\r\n                return \"Rare Resources\";\r\n            case 5:\r\n                return \"Gear Mastery\";\r\n            case 6:\r\n                return \"Economy & Production\";\r\n            case 7:\r\n                return \"Motes of Darkness\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    static DungeonRewardDescription(reward, amount) {\r\n        var town = _managers_TownManager__WEBPACK_IMPORTED_MODULE_2__[\"TownManager\"].getInstance();\r\n        switch (reward) {\r\n            case 0:\r\n                return \"Increases all attributes by \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(amount);\r\n            case 1:\r\n                return \"Gain \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(amount * town.prodMulti) + \" materials/day.\";\r\n            case 2:\r\n                return \"Gain \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(amount) + \" shade/day.\";\r\n            case 3:\r\n                return \"Gain \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(amount * town.econMulti, true) + \" g/day and increase gold cap by \" +\r\n                    _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(amount * _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].DUNGEON_GOLD_CAP * town.econMulti) + \".\";\r\n            case 4:\r\n                return \"Gain \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(amount * town.prodMulti, true) + \" to all rare resources per day.\";\r\n            case 5:\r\n                return \"Gain \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(amount) + \" Mastery for all equipped gear.\";\r\n            case 6:\r\n                return \"Increases the Town's economy and production by \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(amount * 100, true) + \"%.\";\r\n            case 7:\r\n                return \"Gain \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(amount) + \" Motes of Darkness on rebirth.\";\r\n        }\r\n        return \"\";\r\n\r\n    }\r\n\r\n    static TraitDescription(trait, creature) {\r\n        switch (trait) {\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].BLOCK:\r\n                return \"Has a 40% chance to block \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.Armor() * 0.4) + \" physical damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].REGENERATION:\r\n                return \"Restores \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.MaxHealth() * 0.04, true) + \" health each second.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].POISONED_BLADE:\r\n                return \"The first attack in combat deals \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.MaxDamage()) + \" poison damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FRENZY:\r\n                return \"After making a critical attack their attack bar is set to 30%.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].UNDEAD:\r\n                return \"Takes 25% damage reduced physical damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].LIFESTEAL:\r\n                return \"Heals for \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.Regen() * 0.5, true) + \" every attack.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].LIGHTNING_RESIST:\r\n                return \"Takes 40% reduced lightning damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].MAGIC_RESIST:\r\n                return \"Takes 40% reduced magic damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].SWARM:\r\n                return \"Has its damage reduced by up to 40% based on remaining health.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].MALEDICT:\r\n                return \"Deals poison damage equal to 50% of the opponents curse level with its attacks. Caps at \" +\r\n                    _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.MaxDamage() * 2) + \" damage per attack.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FORTITUDE:\r\n                return \"Takes 50% reduced burn and poison damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FIRE_BREATH:\r\n                return \"Every 3rd attack this creature breathes fire, adding \" +\r\n                    _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.MaxDamage()) + \" fire damage to its attack.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].CURSE_AURA:\r\n                return \"Inflicts \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.Arcane() * 0.5) + \" curse every second.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].THORNS:\r\n                return \"Deals \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.Armor()) + \" physical damage to the attacker \" +\r\n                    \"every time they are attacked.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].ENCHANTMENT:\r\n                return \"Adds a 150ms delay to their opponents attack bar with each attack.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].SHIELD_BASH:\r\n                return \"Attacks with their shield every other attack, adding \" +\r\n                    _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.Armor()) + \" physical damage to the attack.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].POISONED:\r\n                return \"Is taking \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.poisonValue) + \" poison damage over time.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].BURNED:\r\n                return \"Is burned for \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.burnValue) + \". All healing reduces burn \" +\r\n                    \"before restoring health.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].ARMOR_BREAK:\r\n                return \"Armor is reduced by \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.armorBreak) + \".\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].CURSED:\r\n                return \"Crit Power and Crit Resistance is reduced by \" +\r\n                    _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.curseValue) + \".\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FIRE_POWDER:\r\n                return \"The first attack in combat deals \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.MaxDamage() * 0.8) + \" fire damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].CHARGED:\r\n                return \"The first two attacks in combat deals \" +\r\n                    _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.MaxDamage() * 0.5) + \" lightning damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].POISON_RESIST:\r\n                return \"Takes 40% reduced poison damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FIRE_RESIST:\r\n                return \"Takes 40% reduced fire damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FROST_RESIST:\r\n                return \"Takes 40% reduced frost damage.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].CURSE_RESIST:\r\n                return \"Takes 40% reduced curse.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].LIVING_WOOD:\r\n                return \"Armor increases by up to 100% based on missing health.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].SIPHON:\r\n                return \"Heals for 100% of curse inflicted.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].CARAPICE:\r\n                return \"Attacks that deal more than 10% of its max health are reduced by 50%.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].BLOODLUST:\r\n                return \"When below 50% health attack cooldown is halfed.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].HEAVY:\r\n                return \"Attacks are 0.25s slower.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].HEAVY_HEART:\r\n                return \"Enemies start combat with their attack bar 50% full. Gotta give them a chance, right?\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].PHYLACTERY:\r\n                return \"Takes 40% reduced physical damage and restores \" +\r\n                    _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.MaxHealth() * 0.03, true) + \" health each second.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].SLUMBERING_DRAGON:\r\n                return \"Is immune to fire. Every time they are attacked they fill 20% of their attack bar.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FIRST_STRIKE:\r\n                return \"Starts combat with the attack bar 75% full.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].MIASMA:\r\n                return \"Inflicts \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.Arcane() * 0.45) + \" poison every second.\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FROST_SHELL:\r\n                return \"Deals \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(creature.Warding()) + \" frost damage to the attacker \" +\r\n                    \"every time they are attacked.\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    static TraitTitle(trait) {\r\n        switch (trait) {\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].BLOCK:\r\n                return \"Block\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].REGENERATION:\r\n                return \"Regeneration\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].POISONED_BLADE:\r\n                return \"Poisoned Blade\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FRENZY:\r\n                return \"Frenzy\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].UNDEAD:\r\n                return \"Undead\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].LIFESTEAL:\r\n                return \"Lifesteal\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].LIGHTNING_RESIST:\r\n                return \"Lightning Resist\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].MAGIC_RESIST:\r\n                return \"Magic Resist\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].SWARM:\r\n                return \"Swarm\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].MALEDICT:\r\n                return \"Maledict\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FORTITUDE:\r\n                return \"Fortitude\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FIRE_BREATH:\r\n                return \"Fire Breath\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].CURSE_AURA:\r\n                return \"Curse Aura\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].THORNS:\r\n                return \"Thorns\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].ENCHANTMENT:\r\n                return \"Enchantment\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].SHIELD_BASH:\r\n                return \"Shield Bash\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].POISONED:\r\n                return \"Poisoned\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].BURNED:\r\n                return \"Burned\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].ARMOR_BREAK:\r\n                return \"Armor Break\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].CURSED:\r\n                return \"Cursed\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FIRE_POWDER:\r\n                return \"Fire Powder\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].CHARGED:\r\n                return \"Charged\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].POISON_RESIST:\r\n                return \"Poison Resist\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FIRE_RESIST:\r\n                return \"Fire Resist\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FROST_RESIST:\r\n                return \"Frost Resist\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].CURSE_RESIST:\r\n                return \"Curse Resist\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].LIVING_WOOD:\r\n                return \"Living Wood\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].SIPHON:\r\n                return \"Siphon\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].CARAPICE:\r\n                return \"Carapice\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].BLOODLUST:\r\n                return \"Bloodlust\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].HEAVY:\r\n                return \"Heavy\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].HEAVY_HEART:\r\n                return \"Heavy Heart\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].PHYLACTERY:\r\n                return \"Phylactery\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].SLUMBERING_DRAGON:\r\n                return \"Slumbering Dragon\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FIRST_STRIKE:\r\n                return \"First Strike\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].MIASMA:\r\n                return \"Miasma\";\r\n            case _TraitEnum__WEBPACK_IMPORTED_MODULE_4__[\"TraitEnum\"].FROST_SHELL:\r\n                return \"Frost Shell\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    static StatDescription(stat) {\r\n        switch (stat) {\r\n            case \"str\":\r\n                return \"Each point of Strength increases your max damage by \" + _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].MAXDMG_PER_STRENGTH + \".\";\r\n            case \"dex\":\r\n                return \"Each point of Dexterity increases your hit and \" +\r\n                    \"evasion by \" + _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].EVA_PER_DEXTERITY + \".\";\r\n            case \"sta\":\r\n                return \"Each point of Stamina increases your max health by \" + _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].HEALTH_PER_STAMINA + \" and \" +\r\n                    \"regen by \" + _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].REGEN_PER_STAMINA + \".\";\r\n            case \"arc\":\r\n                var eleBonus = _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].ELEMENTAL_PER_ARCANE + _managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__[\"RebirthManager\"].getInstance().perks['power1'].level * 0.01;\r\n                return \"Each point of Arcane increases your Warding by \" + _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].WARD_PER_ARCANE + \" and \" +\r\n                    \"increases elemental damage on weapons by \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(eleBonus, true) + \".\";\r\n            case \"def\":\r\n                return \"Each point of Defense increases your crit resistance by \" + _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].RES_PER_DEFENSE + \" and \" +\r\n                    \"evasion by \" + _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].EVA_PER_DEFENSE + \".\";\r\n            case \"off\":\r\n                return \"Each point of Offense increases your crit power by \" + _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].CRIT_PER_OFFENSE + \" and \" +\r\n                    \"hit by \" + _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].HIT_PER_OFFENSE + \".\";\r\n            case \"health\":\r\n                return \"How much damage you can take before you die.\";\r\n            case \"armor\":\r\n                return \"Reduces physical damage taken by this amount.\";\r\n            case \"damage\":\r\n                return \"How much physical damage you deal with each attack.\"\r\n            case \"speed\":\r\n                return \"How many seconds it takes to fill your attack bar, not taking into account hit and evasion.\"\r\n            case \"hit\":\r\n                return \"Hit increases your attack speed relative to your opponents evasion.\";\r\n            case \"eva\":\r\n                return \"Evasion decreases your opponents attack speed relative to their hit.\";\r\n            case \"regen\":\r\n                return \"How much health you regenerate per second. Regen is reduced by 80% while in combat.\";\r\n            case \"ward\":\r\n                var armReduction = _Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].ARMOR_WARD_REDUCTION * 100 - _managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__[\"RebirthManager\"].getInstance().perks['armor1'].level;\r\n                return \"Reduces elemental damage take by this amount. Ward is reduced by \" +\r\n                    _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(armReduction) + \"% of your Armor.\";\r\n            case \"critpower\":\r\n                return \"Increases how much damage you deal with critical attacks.\";\r\n            case \"critres\":\r\n                return \"Decreases damage taken by critical attacks.\";\r\n            case \"crit\":\r\n                return \"The chance an attack is a critical hit. Critical hits deal 25% more damage, increased by Crit Power.\";\r\n            case \"magic\":\r\n                return \"Magic can critically strike.\";\r\n            case \"poison\":\r\n                return \"Poison damage is inflicted over time, dealing 35% of the remaining poison each tick.\";\r\n            case \"fire\":\r\n                return \"Targets are burned for 50% of fire damage taken. Regen applies to burn first before restoring health.\";\r\n            case \"frost\":\r\n                return \"Reduces the armor of the target by 25% of the frost damage dealt. Lasts until the end of combat.\";\r\n            case \"lightning\":\r\n                return \"Lightning damage reduces the targets attack bar by 2 times the % health damage inflicted.\";\r\n            case \"curse\":\r\n                return \"Curse deals no damage, instead reducing the targets Crit Power and Resistance by the amount. \" +\r\n                    \"Lasts until the end of combat.\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    static ResourceDescription(res) {\r\n        switch (res) {\r\n            case \"shade\":\r\n                return \"A strange substance left by all monsters. Used to increase your stats and empower your equipment.\";\r\n            case \"mats\":\r\n                return \"Generic crafting materials used in everything from buildings to gear.\";\r\n            case \"wood\":\r\n                return \"A rare resource that can be found in the forest.\";\r\n            case \"leather\":\r\n                return \"A rare resource that can be found in the plains.\";\r\n            case \"metal\":\r\n                return \"A rare resource that can be found in the mountains.\";\r\n            case \"fiber\":\r\n                return \"A rare resource that can be found in the swamp.\";\r\n            case \"stone\":\r\n                return \"A rare resource that can be found in the hills.\";\r\n            case \"crystal\":\r\n                return \"A rare resource that can be found in the lake.\";\r\n            case \"gold\":\r\n                return \"Earned through taxes in the town, used for upgrading buildings. Your gold cap is based on your \" +\r\n                    \"population, economy, and can be improved with some buildings.\";\r\n            case \"land\":\r\n                return \"How much workable land is under your control. Each building requires land to build.\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    static EquipmentText(stat, value) {\r\n        switch (stat) {\r\n            case 'str':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Strength\";\r\n            case 'dex':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Dexterity\";\r\n            case 'sta':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Stamina\";\r\n            case 'arc':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Arcane\";\r\n            case 'def':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Defense\";\r\n            case 'off':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Offense\";\r\n            case 'health':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Hit Points\";\r\n            case 'armor':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value, true) + \" Armor\";\r\n            case 'damage':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Damage\";\r\n            case 'hit':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Hit\";\r\n            case 'eva':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Evasion\";\r\n            case 'critPow':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Crit Power\";\r\n            case 'critRes':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Crit Resistance\";\r\n            case 'regen':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value, true) + \"/s Regen\";\r\n            case 'ward':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value, true) + \" Ward\";\r\n            case 'poison':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Poison Damage\";\r\n            case 'fire':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Fire Damage\";\r\n            case 'magic':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Magic Damage\";\r\n            case 'frost':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Frost Damage\";\r\n            case 'lightning':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Lightning Damage\";\r\n            case 'curse':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value) + \" Curse\";\r\n            case 'crit':\r\n                return \"+\" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(value * 100, true) + \"% Crit Chance\";\r\n            case 'trait':\r\n                return Strings.TraitTitle(value);\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    static BuildingDescriptions(bld, town) {\r\n        var perks = _managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__[\"RebirthManager\"].getInstance().perks;\r\n        switch (bld.buildingId) {\r\n            case \"town\":\r\n                return \"Put together the barest minimum of a town. The town produces 0.1/day of each rare resource and \" +\r\n                    \"can hold \" + (10 + perks['town1'].level) + \" villagers, with each villager producing \" +\r\n                    _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.5 * town.econMulti, true) + \"g/day.\";\r\n            case \"market\":\r\n                var marketBase = 0.75 + perks['market1'].level * 0.15;\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(marketBase * town.prodMulti * town.population * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(marketBase * town.prodMulti * town.population * (bld.level + 1), true);\r\n                return \"A market space to put your new villagers to work. Villagers produce \" +\r\n                    a + \"->\" + b + \" materials/day.\";\r\n            case \"bank\":\r\n                var bankBase = 0.1 + perks['bank1'].level * 0.02;\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(bankBase * town.econMulti * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(bankBase * town.econMulti * (bld.level + 1), true);\r\n                return \"You'll need to put your taxes somewhere. Increases gold from villagers by \" +\r\n                    a + \"->\" + b + \"g/day.\";\r\n            case \"hall\":\r\n                var base = 2.5 + perks['hall1'].level * 0.25;\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(base * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(base * (bld.level + 1), true);\r\n                return \"You decide you need a nice building to run this town from. Increases the base shade earned from \" +\r\n                    \"monsters by \" + a + \"->\" + b + \".\";\r\n            case \"ward\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString((5 + perks['ward1'].level) * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString((5 + perks['ward1'].level) * (bld.level + 1), true);\r\n                return \"If you set aside some space for houses you can fit more villagers. Adds housing for \" +\r\n                    a + \"->\" + b + \" villagers.\";\r\n            case \"warehouse\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 * (bld.level + 1), true);\r\n                return \"With a place to store goods your villagers are more efficient. Increases production by \" +\r\n                    a + \"%->\" + b + \"%.\";\r\n            case \"roads\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString((bld.level * 1.5 + 0.03 * town.totalBuildings * bld.level) * town.econMulti, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(((bld.level + 1) * 1.5 + 0.03 * town.totalBuildings * (bld.level + 1)) * town.econMulti, true);\r\n                return \"It turns out the villagers will pay more if they don't have to walk through the swamp to get \" +\r\n                    \"to work. Increases gold income by \" + a + \"->\" + b + \"g/day, based on number of buildings.\";\r\n            case \"mill\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * bld.level * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * (bld.level + 1) * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                return \"A place where villagers produce wood. Produces \" + a + \"->\" + b + \" wood/day.\";\r\n            case \"lodge\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * bld.level * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * (bld.level + 1) * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                return \"A place where villagers produce leather. Produces \" + a + \"->\" + b + \" leather/day.\";\r\n            case \"mine\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * bld.level * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * (bld.level + 1) * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                return \"A place where villagers produce metal. Produces \" + a + \"->\" + b + \" metal/day.\";\r\n            case \"loom\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * bld.level * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * (bld.level + 1) * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                return \"A place where villagers produce fiber. Produces \" + a + \"->\" + b + \" fiber/day.\";\r\n            case \"quarry\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * bld.level * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * (bld.level + 1) * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                return \"A place where villagers produce stone. Produces \" + a + \"->\" + b + \" stone/day.\";\r\n            case \"gem\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * bld.level * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.2 + 0.01 * (bld.level + 1) * town.population * town.prodMulti * town.rareResourceProd, true);\r\n                return \"A place where villagers produce crystal. Produces \" + a + \"->\" + b + \" crystal/day.\";\r\n            case \"vault\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(250 * bld.level * town.econMulti, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(250 * (bld.level + 1) * town.econMulti, true);\r\n                return \"Build another cellar under the bank to store your vast wealth. Increases your gold cap by \" +\r\n                    a + \"->\" + b + \".\";\r\n            case \"depot\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(15 * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(15 * (bld.level + 1), true);\r\n                return \"A central place for your villagers to engage in commerce, which you take a cut from! \" +\r\n                    \"Increases economy by \" + a + \"%->\" + b + \"%.\";\r\n            case \"union\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.1 * bld.level * town.econMulti, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.1 * (bld.level + 1) * town.econMulti, true);\r\n                var c = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 * bld.level, true);\r\n                var d = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 * (bld.level + 1), true);\r\n                return \"Some of the villagers have noticed your extreme wealth. In exchange for higher pay they'll work harder. \" +\r\n                    \"Reduces gold from villagers by \" + a + \"->\" + b + \"g/day, but \" +\r\n                    \"increase production by \" + c + \"%->\" + d + \"%.\";\r\n            case \"guild\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString((1 - Math.pow(0.95, bld.level)) * 100, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString((1 - Math.pow(0.95, (bld.level + 1))) * 100, true);\r\n                return \"Creating a guild allows you to offset some of the building costs through membership fees! Decreases \" +\r\n                    \"building gold costs by \" + a + \"%->\" + b + \"%. This building does not increase price inflation.\";\r\n            case \"tower\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(20 * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(20 * (bld.level + 1), true);\r\n                return \"With this tower you can plan your routes and stop travelling in circles. \" +\r\n                    \"Increases explore speed by \" + a + \"%->\" + b + \"%.\";\r\n            case \"forge\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString((1 - Math.pow(0.95, bld.level)) * 100, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString((1 - Math.pow(0.95, (bld.level + 1))) * 100, true);\r\n                return \"With a working forge you won't ruin so many materials enhancing items. \" +\r\n                    \"Decreases Enhance/Upgrade costs by \" + a + \"%->\" + b + \"%. Doesn't effect rare resources.\";\r\n            case \"notice\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.5 * bld.level * town.econMulti, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.5 * (bld.level + 1) * town.econMulti, true);\r\n                var c = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * bld.level, true);\r\n                var d = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * (bld.level + 1), true);\r\n                return \"Mostly filled with villagers complaining about taxes and monsters eating their crops. \" +\r\n                    \"Earn gold from killing monsters equal to \" + a + \"g->\" + b + \"g, plus \" +\r\n                    c + \"%->\" + d + \"% of materials dropped.\";\r\n            case \"scout\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 * (bld.level + 1), true);\r\n                return \"These scouts are really good at finding materials that you missed. \" +\r\n                    \"Increases materials dropped by \" + a + \"%->\" + b + \"%.\";\r\n            case \"slums\":\r\n                var base = 10 + perks['slums1'].level * 2;\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(base * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(base * (bld.level + 1), true);\r\n                var c = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString((1 - Math.pow(0.90, bld.level)) * 100, true);\r\n                var d = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString((1 - Math.pow(0.90, (bld.level + 1))) * 100, true);\r\n                return \"Quickly throw together some buildings made of things you found in your pockets. \" +\r\n                    \"Adds housing for \" + a + \"->\" + b + \" villagers, but decreases \" +\r\n                    \"economy and rare resource production by \" + c + \"%->\" + d + \"%.\";\r\n            case \"tavern\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.1 * bld.level * town.population, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.1 * (bld.level + 1) * town.population, true);\r\n                var c = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(bld.level, true);\r\n                var d = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(bld.level + 1, true);\r\n                return \"Helps your villagers relax while spending money, increasing both production and the economy. \" +\r\n                    \"Increases economy and production by \" + a + \"%->\" + b +\r\n                    \"%, based on villagers. Also houses a barkeep, increasing population by \" + c + \"->\" + d + \".\";\r\n            case \"monument\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(8 * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(8 * (bld.level + 1), true);\r\n                var c = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(bld.level, true);\r\n                var d = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(bld.level + 1, true);\r\n                return \"A statue in your image, surely to last for generations. \" +\r\n                    \"Increases the base Motes of Darkness earned on rebirth by \" + a + \"->\" + b + \" and increases \" +\r\n                    \"Progress points by \" + c + \"->\" + d + \".\";\r\n            case \"mansion\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * bld.level, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * (bld.level + 1), true);\r\n                var c = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1.5 * bld.level * town.econMulti, true);\r\n                var d = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1.5 * (bld.level + 1) * town.econMulti, true);\r\n                return \"A really big house used mostly as a tax scheme. \" +\r\n                    \"Adds housing for \" + a + \"->\" + b + \" villagers and increases gold by \" +\r\n                    c + \"->\" + d + \"g/day\";\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    static PerkDescriptions(perk) {\r\n        var lvl = perk.level;\r\n        var lvlB = perk.level + 1;\r\n        switch (perk.id) {\r\n            case \"str1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your starting Strength by \" + a + \"->\" + b + \".\";\r\n            case \"str2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvlB);\r\n                return \"Strength points increase in cost by \" + a + \"->\" + b + \" shade per level.\";\r\n            case \"str3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your Strength by \" + a + \"%->\" + b + \"%.\";\r\n            case \"str4\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Strength by \" + a + \"%->\" + b + \"%.\";\r\n            case \"str5\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Strength by \" + a + \"%->\" + b + \"%.\";\r\n            case \"dex1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your starting Dexterity by \" + a + \"->\" + b + \".\";\r\n            case \"dex2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvlB);\r\n                return \"Dexterity points increase in cost by \" + a + \"->\" + b + \" shade per level.\";\r\n            case \"dex3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your Dexterity by \" + a + \"%->\" + b + \"%.\";\r\n            case \"dex4\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Dexterity by \" + a + \"%->\" + b + \"%.\";\r\n            case \"dex5\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Dexterity by \" + a + \"%->\" + b + \"%.\";\r\n            case \"sta1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your starting Stamina by \" + a + \"->\" + b + \".\";\r\n            case \"sta2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvlB);\r\n                return \"Stamina points increase in cost by \" + a + \"->\" + b + \" shade per level.\";\r\n            case \"sta3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your Stamina by \" + a + \"%->\" + b + \"%.\";\r\n            case \"sta4\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Stamina by \" + a + \"%->\" + b + \"%.\";\r\n            case \"sta5\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Stamina by \" + a + \"%->\" + b + \"%.\";\r\n            case \"arc1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your starting Arcane by \" + a + \"->\" + b + \".\";\r\n            case \"arc2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvlB);\r\n                return \"Arcane points increase in cost by \" + a + \"->\" + b + \" shade per level.\";\r\n            case \"arc3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your Arcane by \" + a + \"%->\" + b + \"%.\";\r\n            case \"arc4\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Arcane by \" + a + \"%->\" + b + \"%.\";\r\n            case \"arc5\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Arcane by \" + a + \"%->\" + b + \"%.\";\r\n            case \"def1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your starting Defense by \" + a + \"->\" + b + \".\";\r\n            case \"def2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvlB);\r\n                return \"Defense points increase in cost by \" + a + \"->\" + b + \" shade per level.\";\r\n            case \"def3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your Defense by \" + a + \"%->\" + b + \"%.\";\r\n            case \"def4\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Defense by \" + a + \"%->\" + b + \"%.\";\r\n            case \"def5\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Defense by \" + a + \"%->\" + b + \"%.\";\r\n            case \"off1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your starting Offense by \" + a + \"->\" + b + \".\";\r\n            case \"off2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(25 - lvlB);\r\n                return \"Offense points increase in cost by \" + a + \"->\" + b + \" shade per level.\";\r\n            case \"off3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases your Offense by \" + a + \"%->\" + b + \"%.\";\r\n            case \"off4\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Offense by \" + a + \"%->\" + b + \"%.\";\r\n            case \"off5\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Increases your Offense by \" + a + \"%->\" + b + \"%.\";\r\n            case \"shade1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvlB);\r\n                return \"Increases shade earned by \" + a + \"%->\" + b + \"%.\";\r\n            case \"shade2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvlB);\r\n                return \"Increases shade earned by \" + a + \"%->\" + b + \"%.\";\r\n            case \"shade3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvlB);\r\n                return \"Increases shade earned by \" + a + \"%->\" + b + \"%.\";\r\n            case \"drops1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvlB);\r\n                return \"Increases materials from enemies by \" + a + \"%->\" + b + \"%.\";\r\n            case \"drops2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvlB);\r\n                return \"Increases materials from enemies by \" + a + \"%->\" + b + \"%.\";\r\n            case \"drops3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvlB);\r\n                return \"Increases materials from enemies by \" + a + \"%->\" + b + \"%.\";\r\n            case \"prod1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases material and rare resource production by \" + a + \"%->\" + b + \"%.\";\r\n            case \"prod2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvlB);\r\n                return \"Increases rare resource production by \" + a + \"%->\" + b + \"%.\";\r\n            case \"econ1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2 * lvlB);\r\n                return \"Increases town economy by \" + a + \"%->\" + b + \"%.\";\r\n            case \"econ2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvlB);\r\n                var c = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(50 * lvl);\r\n                var d = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(50 * lvlB);\r\n                return \"The Town gives \" + a + \"->\" + b + \"g/day and \" + c + \"->\" + d + \" Gold Cap.\";\r\n            case \"armor1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.25 - lvl * 0.01, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.25 - lvlB * 0.01, true);\r\n                return \"Armor reduces Ward by \" + a + \"->\" + b + \" per point.\";\r\n            case \"crit1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.5 * lvl, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.5 * lvlB, true);\r\n                return \"Adds \" + a + \"%->\" + b + \"% critical chance to all weapons.\";\r\n            case \"start1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Start your run with 100 materials and \" + a + \"->\" + b + \" of each rare resource.\";\r\n            case \"start2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Start with \" + a + \"->\" + b + \" land.\";\r\n            case \"enhance1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(150 + 5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(150 + 5 * lvlB);\r\n                return \"Quality improves your equipment's stats by up to \" + a + \"%->\" + b + \"% at 100% quality.\";\r\n            case \"enhance2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 + 0.5 * lvl, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 + 0.5 * lvlB, true);\r\n                return \"Enhancing equipment increases it's quality by \" + a + \"%->\" + b + \"%.\";\r\n            case \"enhance3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(lvlB);\r\n                return \"Upgrading your equipment leaves you at \" + a + \"%->\" + b + \"% quality.\";\r\n            case \"explore1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(20 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(20 * lvlB);\r\n                return \"Increases your explore speed by \" + a + \"%->\" + b + \"% when exploring depths you have \" +\r\n                    \"previously reached.\";\r\n            case \"explore2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 * lvlB);\r\n                return \"Increases your explore speed by \" + a + \"%->\" + b + \"%.\";\r\n            case \"explore3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvlB);\r\n                return \"Increases your explore speed by \" + a + \"%->\" + b + \"%.\";\r\n            case \"power1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(_Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].ELEMENTAL_PER_ARCANE + lvl * 0.01, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(_Statics__WEBPACK_IMPORTED_MODULE_3__[\"Statics\"].ELEMENTAL_PER_ARCANE + lvlB * 0.01, true);\r\n                return \"Arcane increases your weapon's Elemental Damage by \" + a + \"->\" + b + \" per point.\";\r\n            case \"poison1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvlB);\r\n                return \"Increases Poison damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"poison2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvlB);\r\n                return \"Increases Poison damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"fire1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvlB);\r\n                return \"Increases Fire damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"fire2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvlB);\r\n                return \"Increases Fire damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"magic1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvlB);\r\n                return \"Increases Magic damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"magic2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvlB);\r\n                return \"Increases Magic damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"frost1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvlB);\r\n                return \"Increases Frost damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"frost2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvlB);\r\n                return \"Increases Frost damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"light1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvlB);\r\n                return \"Increases Lightning damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"light2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvlB);\r\n                return \"Increases Lightning damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"curse1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 * lvlB);\r\n                return \"Increases Curse damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"curse2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvlB);\r\n                return \"Increases Curse damage by \" + a + \"%->\" + b + \"%.\";\r\n            case \"town1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 + lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 + lvlB);\r\n                return \"Your starting town can hold \" + a + \"->\" + b + \" villagers.\";\r\n            case \"market1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.75 + 0.15 * lvl, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.75 + 0.15 * lvlB, true);\r\n                return \"Markets produce \" + a + \"->\" + b + \" materials per villager.\";\r\n            case \"market2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(3 * lvlB);\r\n                return \"Increases rare resource production by \" + a + \"%->\" + b + \"%.\";\r\n            case \"market3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvlB);\r\n                return \"Each building under the Market increases production by \" + a + \"%->\" + b + \"%.\";\r\n            case \"bank1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.1 + 0.02 * lvl, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.1 + 0.02 * lvlB, true);\r\n                return \"Banks produce \" + a + \"->\" + b + \" gold per villager.\";\r\n            case \"bank2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.25 * lvl, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(0.25 * lvlB, true);\r\n                return \"Income increases your gold cap by \" + a + \"%->\" + b + \"% of the income earned.\";\r\n            case \"bank3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 * lvlB);\r\n                return \"Each building under the Bank increases gold cap by \" + a + \"->\" + b + \".\";\r\n            case \"hall1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2.5 + 0.25 * lvl, true);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(2.5 + 0.25 * lvlB, true);\r\n                return \"Town Halls increase base shade drops from enemies by \" + a + \"->\" + b + \".\";\r\n            case \"hall2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 + lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 + lvlB);\r\n                return \"Reaching the next depth in a region gives \" + a + \"->\" + b + \" rare resources.\";\r\n            case \"hall3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvlB);\r\n                return \"Each building under the Town Hall increases explore speed by \" + a + \"%->\" + b + \"%.\";\r\n            case \"ward1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 + lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(5 + lvlB);\r\n                return \"Residential Wards house \" + a + \"->\" + b + \" villagers.\";\r\n            case \"ward2\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(100 + 5 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(100 + 5 * lvlB);\r\n                return \"Towns start at \" + a + \"%->\" + b + \"% economy and production.\";\r\n            case \"ward3\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(1 * lvlB);\r\n                return \"Each building under the Residential Ward increases economy by \" + a + \"%->\" + b + \"%.\";\r\n            case \"forge1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 + 3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 + 3 * lvlB);\r\n                return \"Forge has a max level of \" + a + \"->\" + b + \".\";\r\n            case \"guild1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 + 3 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 + 3 * lvlB);\r\n                return \"Guilds has a max level of \" + a + \"->\" + b + \".\";\r\n            case \"slums1\":\r\n                var a = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 + 2 * lvl);\r\n                var b = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(10 + 2 * lvlB);\r\n                return \"Slums add \" + a + \"->\" + b + \" population.\";\r\n        }\r\n        return \"\";\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/data/resources/Strings.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! phaser */ \"phaser\");\n/* harmony import */ var phaser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(phaser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _scenes_GameScene__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./scenes/GameScene */ \"./src/scenes/GameScene.js\");\n\r\n\r\n\r\nvar gameScene = new _scenes_GameScene__WEBPACK_IMPORTED_MODULE_1__[\"GameScene\"]([200, 200], \"DarkWorld\");\r\n\r\nvar config = {\r\n    type: Phaser.AUTO,\r\n    parent: 'gameCanvas',\r\n    width: 1100,\r\n    height: 800,\r\n    pixelArt: true,\r\n    scale: {\r\n        autoCenter: Phaser.Scale.Center.CENTER_BOTH\r\n    },\r\n    scene: [gameScene]\r\n};\r\n\r\nvar game = new Phaser.Game(config);\r\n\n\n//# sourceURL=webpack:///./src/index.js?");

/***/ }),

/***/ "./src/scenes/GameScene.js":
/*!*********************************!*\
  !*** ./src/scenes/GameScene.js ***!
  \*********************************/
/*! exports provided: GameScene */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GameScene\", function() { return GameScene; });\n/* harmony import */ var lz_string__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lz-string */ \"./node_modules/lz-string/libs/lz-string.js\");\n/* harmony import */ var lz_string__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lz_string__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _ui_windows_StatsDoc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui/windows/StatsDoc */ \"./src/ui/windows/StatsDoc.js\");\n/* harmony import */ var _ui_windows_RegionWindow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui/windows/RegionWindow */ \"./src/ui/windows/RegionWindow.js\");\n/* harmony import */ var _ui_windows_StatsWindow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/windows/StatsWindow */ \"./src/ui/windows/StatsWindow.js\");\n/* harmony import */ var _ui_SceneUIBase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/SceneUIBase */ \"./src/ui/SceneUIBase.js\");\n/* harmony import */ var _ui_TextButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/TextButton */ \"./src/ui/TextButton.js\");\n/* harmony import */ var _ui_ImageButton__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/ImageButton */ \"./src/ui/ImageButton.js\");\n/* harmony import */ var _data_Statics__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../data/Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../data/managers/ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n/* harmony import */ var _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../data/managers/WorldManager */ \"./src/data/managers/WorldManager.js\");\n/* harmony import */ var _data_managers_MonsterManager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../data/managers/MonsterManager */ \"./src/data/managers/MonsterManager.js\");\n/* harmony import */ var _ui_windows_CombatWindow__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/windows/CombatWindow */ \"./src/ui/windows/CombatWindow.js\");\n/* harmony import */ var _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../data/managers/EquipmentManager */ \"./src/data/managers/EquipmentManager.js\");\n/* harmony import */ var _ui_tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/tooltips/TooltipOverlay */ \"./src/ui/tooltips/TooltipOverlay.js\");\n/* harmony import */ var _ui_windows_GearWindow__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/windows/GearWindow */ \"./src/ui/windows/GearWindow.js\");\n/* harmony import */ var _ui_windows_TownWindow__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/windows/TownWindow */ \"./src/ui/windows/TownWindow.js\");\n/* harmony import */ var _ui_popups_GearUnlockPopup__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../ui/popups/GearUnlockPopup */ \"./src/ui/popups/GearUnlockPopup.js\");\n/* harmony import */ var _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../data/managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _ui_windows_RebirthWindow__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ui/windows/RebirthWindow */ \"./src/ui/windows/RebirthWindow.js\");\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _ui_popups_RebirthPopup__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ui/popups/RebirthPopup */ \"./src/ui/popups/RebirthPopup.js\");\n/* harmony import */ var _ui_popups_TextPopup__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../ui/popups/TextPopup */ \"./src/ui/popups/TextPopup.js\");\n/* harmony import */ var _ui_windows_DungeonWindow__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../ui/windows/DungeonWindow */ \"./src/ui/windows/DungeonWindow.js\");\n// main scene for game window\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass GameScene extends _ui_SceneUIBase__WEBPACK_IMPORTED_MODULE_4__[\"SceneUIBase\"] {\r\n    constructor(position, name) {\r\n        super(position, name);\r\n\r\n        //initialize data\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__[\"PlayerManager\"].getInstance();\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance();\r\n        _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_10__[\"WorldManager\"].getInstance();\r\n        _data_managers_MonsterManager__WEBPACK_IMPORTED_MODULE_11__[\"MonsterManager\"].getInstance();\r\n        _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_13__[\"EquipmentManager\"].getInstance();\r\n        _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_18__[\"RebirthManager\"].getInstance();\r\n\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__[\"PlayerManager\"].getInstance().InitPlayer();\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().HookEvents();\r\n\r\n        //ui variables\r\n        this.statsDoc = new _ui_windows_StatsDoc__WEBPACK_IMPORTED_MODULE_1__[\"StatsDoc\"]([0, 0], [250, 800]);\r\n        this.combatWindow = new _ui_windows_CombatWindow__WEBPACK_IMPORTED_MODULE_12__[\"CombatWindow\"]([250, 580], [850, 220]);\r\n        this.regionWindow = new _ui_windows_RegionWindow__WEBPACK_IMPORTED_MODULE_2__[\"RegionWindow\"]([250, 30], [850, 550]);\r\n        this.statsWindow = new _ui_windows_StatsWindow__WEBPACK_IMPORTED_MODULE_3__[\"StatsWindow\"]([250, 30], [850, 550]);\r\n        this.gearWindow = new _ui_windows_GearWindow__WEBPACK_IMPORTED_MODULE_15__[\"GearWindow\"]([250, 30], [850, 550]);\r\n        this.townWindow = new _ui_windows_TownWindow__WEBPACK_IMPORTED_MODULE_16__[\"TownWindow\"]([250, 30], [850, 550]);\r\n        this.dungeonWindow = new _ui_windows_DungeonWindow__WEBPACK_IMPORTED_MODULE_24__[\"DungeonWindow\"]([250, 30], [850, 550]);\r\n        this.rebirthWindow = new _ui_windows_RebirthWindow__WEBPACK_IMPORTED_MODULE_19__[\"RebirthWindow\"]([0, 0], [1100, 800]);\r\n\r\n        this.activePopup = undefined;\r\n        //try loading save data if it exists\r\n        this.lastFrame = 0;\r\n        this.saveTimer = _data_Statics__WEBPACK_IMPORTED_MODULE_7__[\"Statics\"].AUTOSAVE_TIMER;\r\n        this.saveEnabled = true;\r\n        this.elements = [];\r\n        this.loadGame();\r\n    }\r\n\r\n    preload() {\r\n        this.load.bitmapFont(\"fontSmall\", \"./assets/font/anonpro16.png\", \"./assets/font/anonpro16.xml\");\r\n        this.load.bitmapFont(\"fontLarge\", \"./assets/font/anonpro20.png\", \"./assets/font/anonpro20.xml\");\r\n        this.load.spritesheet(\"icons\", \"./assets/icons/icons.png\", { frameWidth: 16, frameHeight: 16 });\r\n        this.load.spritesheet(\"icons2\", \"./assets/icons/icons2.png\", { frameWidth: 16, frameHeight: 16 });\r\n        this.load.spritesheet(\"map\", \"./assets/regionmap.png\", { frameWidth: 425, frameHeight: 275 });\r\n    }\r\n\r\n    create() {\r\n        _ui_tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_14__[\"TooltipOverlay\"].getInstance().Init(this);\r\n        this.statsDoc.create(this);\r\n        this.combatWindow.create(this);\r\n        this.regionWindow.create(this);\r\n        this.statsWindow.create(this);\r\n        this.gearWindow.create(this);\r\n        this.townWindow.create(this);\r\n        this.dungeonWindow.create(this);\r\n        this.rebirthWindow.create(this);\r\n\r\n        this.statsWindow.disable();\r\n        this.gearWindow.disable();\r\n        this.townWindow.disable();\r\n        this.dungeonWindow.disable();\r\n        this.rebirthWindow.disable();\r\n\r\n        this.statsButton = new _ui_TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](this, 250, 0, 120, 30, \"STATS\");\r\n        this.statsButton.onClickHandler(() => { this._switchView(0); });\r\n        this.mapButton = new _ui_TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](this, 370, 0, 120, 30, \"MAP\");\r\n        this.mapButton.onClickHandler(() => { this._switchView(1); });\r\n        this.gearButton = new _ui_TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](this, 490, 0, 120, 30, \"GEAR\");\r\n        this.gearButton.onClickHandler(() => { this._switchView(2); });\r\n        this.townButton = new _ui_TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](this, 610, 0, 120, 30, \"TOWN\");\r\n        this.townButton.onClickHandler(() => { this._switchView(3); });\r\n        this.dungeonButton = new _ui_TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](this, 730, 0, 120, 30, \"DUNGEON\");\r\n        this.dungeonButton.onClickHandler(() => { this._switchView(4); });\r\n        this.perkButton = new _ui_ImageButton__WEBPACK_IMPORTED_MODULE_6__[\"ImageButton\"](this, 1073, 3, 24, 24, { sprite: \"icons\", tile: 29 });\r\n        this.perkButton.onClickHandler(() => { this._openPerkWindow(); });\r\n        this.perkButton.setVisible(_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().permanentUnlocks.rebirth1);\r\n\r\n        this.saveLabel = this.add.bitmapText(125, 720, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_21__[\"Common\"].processText(\"Import/Export saves to clipboard\", 20), 16, 1).setOrigin(0.5, 0);\r\n        this.importBtn = new _ui_TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](this, 10, 760, 110, 30, \"Import\");\r\n        this.importBtn.onClickHandler(() => { this.copyFromClipboard(); });\r\n        this.exportBtn = new _ui_TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](this, 130, 760, 110, 30, \"Export\");\r\n        this.exportBtn.onClickHandler(() => { this.copyToClipboard(); });\r\n\r\n        this.elements = [this.statsButton, this.mapButton, this.gearButton, this.townButton, this.dungeonButton,\r\n        this.saveLabel, this.importBtn, this.exportBtn, this.perkButton];\r\n\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().OnGearUnlockedHandler((list) => { this._gearUnlocked(list); });\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().OnDungeonUnlockedHandler((name) => { this._dungeonUnlocked(name); });\r\n\r\n        this.rebirthWindow.OnCloseHandler(() => { this._closePerkWindow(); });\r\n        this.rebirthWindow.OnRebirthHandler(() => { this._rebirthEnd(); });\r\n    }\r\n\r\n    _gearUnlocked(gearList) {\r\n        this.ShowPopup(new _ui_popups_GearUnlockPopup__WEBPACK_IMPORTED_MODULE_17__[\"GearUnlockPopup\"](this, 275, 350, 800, 220, gearList));\r\n    }\r\n    _dungeonUnlocked(name) {\r\n        this.ShowPopup(new _ui_popups_TextPopup__WEBPACK_IMPORTED_MODULE_23__[\"TextPopup\"](this, 275, 350, 800, 220, \"Dungeon Found!\",\r\n            \"You have uncovered the \" + name + \" in the wilds. Dive into its depths, slay its monsters, and earn its rewards!\"));\r\n    }\r\n\r\n    _switchView(idx) {\r\n        this.statsWindow.disable();\r\n        this.regionWindow.disable();\r\n        this.gearWindow.disable();\r\n        this.townWindow.disable();\r\n        this.dungeonWindow.disable();\r\n\r\n        switch (idx) {\r\n            case 0:\r\n                this.statsWindow.enable();\r\n                break;\r\n            case 1:\r\n                this.regionWindow.enable();\r\n                break;\r\n            case 2:\r\n                this.gearWindow.enable();\r\n                break;\r\n            case 3:\r\n                this.townWindow.enable();\r\n                break;\r\n            case 4:\r\n                this.dungeonWindow.enable();\r\n                break;\r\n        }\r\n    }\r\n\r\n    _rebirthStart() {\r\n        this._closePopup();\r\n\r\n        var motesEarned = (_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__[\"PlayerManager\"].getInstance().MotesFromStats() +\r\n            _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_10__[\"WorldManager\"].getInstance().MotesFromLand() +\r\n            _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_13__[\"EquipmentManager\"].getInstance().MotesFromGear() +\r\n            _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_20__[\"TownManager\"].getInstance().MotesFromMonuments() +\r\n            _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__[\"PlayerManager\"].getInstance().MotesFromDungeons()) *\r\n            _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_10__[\"WorldManager\"].getInstance().ProgressBonus();\r\n\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__[\"PlayerManager\"].getInstance().motes += motesEarned;\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().TrackMotes(motesEarned);\r\n        this.saveEnabled = false;\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().currentlyRebirthing = true;\r\n\r\n        this.statsDoc.disable();\r\n        this.combatWindow.disable();\r\n        this.regionWindow.disable();\r\n        this.statsWindow.disable();\r\n        this.gearWindow.disable();\r\n        this.townWindow.disable();\r\n        this.dungeonWindow.disable();\r\n\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(false);\r\n        }\r\n        this.rebirthWindow.enable();\r\n    }\r\n\r\n    _rebirthEnd() {\r\n\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__[\"PlayerManager\"].getInstance().Rebirth();\r\n        _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_13__[\"EquipmentManager\"].getInstance().Rebirth();\r\n        _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_20__[\"TownManager\"].getInstance().Rebirth();\r\n        _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_10__[\"WorldManager\"].getInstance().Rebirth();\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().Rebirth();\r\n\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__[\"PlayerManager\"].getInstance().InitPlayer();\r\n\r\n        this.statsDoc.enable();\r\n        this.combatWindow.enable();\r\n        this.regionWindow.enable();\r\n        this.saveEnabled = true;\r\n\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(true);\r\n        }\r\n        this.rebirthWindow.disable();\r\n        this._refreshAll();\r\n    }\r\n    _openPerkWindow() {\r\n        this.statsDoc.disable();\r\n        this.combatWindow.disable();\r\n        this.regionWindow.disable();\r\n        this.statsWindow.disable();\r\n        this.gearWindow.disable();\r\n        this.townWindow.disable();\r\n        this.dungeonWindow.disable();\r\n\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(false);\r\n        }\r\n        this.rebirthWindow.enable();\r\n    }\r\n    _closePerkWindow() {\r\n        this.statsDoc.enable();\r\n        this.combatWindow.enable();\r\n        this.regionWindow.enable();\r\n\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(true);\r\n        }\r\n        this.rebirthWindow.disable();\r\n    }\r\n\r\n    _closePopup() {\r\n        this.activePopup.destroy();\r\n        this.activePopup = undefined;\r\n    }\r\n\r\n    ShowRebirthPopup() {\r\n        var popup = new _ui_popups_RebirthPopup__WEBPACK_IMPORTED_MODULE_22__[\"RebirthPopup\"](this, 350, 200, 650, 380);\r\n        popup.OnRebirthHandler(() => { this._rebirthStart(); });\r\n        this.ShowPopup(popup);\r\n    }\r\n\r\n    ShowPopup(popup) {\r\n        if (this.activePopup !== undefined) {\r\n            this.activePopup.destroy();\r\n        }\r\n        this.activePopup = popup;\r\n        this.activePopup.onCloseHandler(() => { this._closePopup(); });\r\n    }\r\n\r\n    _updateWorld() {\r\n        const worldTime = _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().time;\r\n        var fDelta = worldTime.frameDelta;\r\n        worldTime.update();\r\n\r\n        this.combatWindow.update(fDelta);\r\n        this.regionWindow.update(fDelta);\r\n        _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_10__[\"WorldManager\"].getInstance().Update(fDelta);\r\n    }\r\n\r\n    update(time, __delta) {\r\n        var lastFrameTime = time - this.lastFrame;\r\n        const worldTime = _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().time;\r\n\r\n        if (lastFrameTime > 5000) {\r\n            worldTime.addOfflineTime(lastFrameTime / 2);\r\n        }\r\n        worldTime.setFrameDelta(Math.min(500, lastFrameTime));\r\n        this.lastFrame = time;\r\n\r\n        this._updateWorld();\r\n\r\n        for (var i = 0; i < worldTime.fskip; i++) {\r\n            this._updateWorld();\r\n        }\r\n\r\n        this.statsDoc.update();\r\n        _ui_tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_14__[\"TooltipOverlay\"].getInstance().Update();\r\n\r\n        // regardless of time dialation we still only want to save every minute\r\n        this.saveTimer -= worldTime.delta;\r\n        if (this.saveTimer <= 0 && this.saveEnabled === true) {\r\n            this.saveTimer = _data_Statics__WEBPACK_IMPORTED_MODULE_7__[\"Statics\"].AUTOSAVE_TIMER;\r\n            this.save();\r\n        }\r\n    }\r\n\r\n    _refreshAll() {\r\n        this.statsDoc.Reload();\r\n        this.combatWindow.Reload();\r\n        this.regionWindow.Reload();\r\n        this.statsWindow.Reload();\r\n        this.gearWindow.Reload();\r\n        this.townWindow.Reload();\r\n        this.dungeonWindow.Reload();\r\n        this.rebirthWindow.Reload();\r\n        this.perkButton.setVisible(_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().permanentUnlocks.rebirth1);\r\n    }\r\n\r\n    copyToClipboard() {\r\n        this.save();\r\n        navigator.clipboard.writeText(lz_string__WEBPACK_IMPORTED_MODULE_0___default.a.compressToEncodedURIComponent(localStorage.getItem(\"darkworld2\"))).then(() => { },\r\n            () => {\r\n                prompt(\"This is your save string, make sure you copy it!\",\r\n                    lz_string__WEBPACK_IMPORTED_MODULE_0___default.a.compressToEncodedURIComponent(localStorage.getItem(\"darkworld2\")));\r\n            });\r\n    }\r\n\r\n    copyFromClipboard() {\r\n        var that = this;\r\n        if (navigator.clipboard.readText === undefined) {\r\n            var text = prompt(\"Paste your save string\", \"\");\r\n            if (text !== \"\") {\r\n                that.loadGame(text);\r\n                that._refreshAll();\r\n            }\r\n        } else {\r\n            navigator.clipboard.readText().then((text) => {\r\n                if (text !== \"\") {\r\n                    that.loadGame(text);\r\n                    that._refreshAll();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    save() {\r\n        var saveObj = {}\r\n        saveObj['pm'] = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__[\"PlayerManager\"].getInstance().save();\r\n        saveObj['em'] = _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_13__[\"EquipmentManager\"].getInstance().save();\r\n        saveObj['prog'] = _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().save();\r\n        saveObj['rm'] = _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_18__[\"RebirthManager\"].getInstance().save();\r\n        saveObj['tm'] = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_20__[\"TownManager\"].getInstance().save();\r\n        saveObj['wm'] = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_10__[\"WorldManager\"].getInstance().save();\r\n\r\n        saveObj['timeStamp'] = Date.now();\r\n\r\n        localStorage.setItem(\"darkworld2\", JSON.stringify(saveObj));\r\n    }\r\n\r\n    loadGame(saveStr = undefined) {\r\n        var saveObj = {};\r\n        if (saveStr !== undefined) {\r\n            saveObj = JSON.parse(lz_string__WEBPACK_IMPORTED_MODULE_0___default.a.decompressFromEncodedURIComponent(saveStr));\r\n        } else {\r\n            saveObj = JSON.parse(localStorage.getItem(\"darkworld2\"));\r\n        }\r\n        if (saveObj === null) {\r\n            return;\r\n        }\r\n\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__[\"PlayerManager\"].getInstance().load(saveObj['pm']);\r\n        _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_13__[\"EquipmentManager\"].getInstance().load(saveObj['em']);\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().load(saveObj['prog']);\r\n        _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_18__[\"RebirthManager\"].getInstance().load(saveObj['rm']);\r\n        _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_20__[\"TownManager\"].getInstance().load(saveObj['tm']);\r\n        _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_10__[\"WorldManager\"].getInstance().load(saveObj['wm']);\r\n\r\n        var timeOffline = Date.now() - saveObj['timeStamp'];\r\n        if (timeOffline > 5000) {\r\n            _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_9__[\"ProgressManager\"].getInstance().time.addOfflineTime(timeOffline / 2);\r\n        }\r\n\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_8__[\"PlayerManager\"].getInstance().EquipAfterLoading();\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/scenes/GameScene.js?");

/***/ }),

/***/ "./src/ui/FloatingDamageText.js":
/*!**************************************!*\
  !*** ./src/ui/FloatingDamageText.js ***!
  \**************************************/
/*! exports provided: FloatingDamageText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FloatingDamageText\", function() { return FloatingDamageText; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Common */ \"./src/utils/Common.js\");\n\r\n\r\nclass FloatingDamageText {\r\n    constructor(context, x, y, text, color, font, fontSize, moveDirection = 1) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.velocity = [moveDirection * _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(20, 80), -_utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].randint(60, 150)];\r\n        this.gravity = this.velocity[1] * -1.5;\r\n        this.duration = 1500;\r\n\r\n        this.textLabel = context.add.bitmapText(x, y, font, text, fontSize).setOrigin(0.5);\r\n        this.textLabel.setTint(color);\r\n    }\r\n\r\n    canDestroy() { return this.duration < 0; }\r\n\r\n    setPosition(x, y) {\r\n        this.textLabel.setPosition(x, y);\r\n    }\r\n\r\n    destroy() {\r\n        this.textLabel.destroy();\r\n    }\r\n\r\n    update(time) {\r\n        this.x += this.velocity[0] * time / 1000.0;\r\n        this.y += this.velocity[1] * time / 1000.0;\r\n\r\n        this.velocity[1] += this.gravity * time / 1000.0;\r\n        this.textLabel.setPosition(this.x, this.y);\r\n        this.duration -= time;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/FloatingDamageText.js?");

/***/ }),

/***/ "./src/ui/ImageButton.js":
/*!*******************************!*\
  !*** ./src/ui/ImageButton.js ***!
  \*******************************/
/*! exports provided: ImageButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImageButton\", function() { return ImageButton; });\nclass ImageButton {\r\n    constructor(sceneContext, x, y, width, height, texture, depth=0) {\r\n        this.backgroundRect = sceneContext.add.rectangle(x, y, width, height, 0x000000).setOrigin(0, 0).setDepth(depth);\r\n        this.backgroundRect.isStroked = true;\r\n        this.backgroundRect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        this.backgroundRect.lineWidth = 1;\r\n        this.img = sceneContext.add.image(x + width / 2, y + height / 2, texture.sprite, texture.tile).setOrigin(0.5).setDepth(depth);\r\n        this.img.displayWidth = width;\r\n        this.img.displayHeight = height;\r\n        this.enabled = true;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    setPosition(x, y) {\r\n        this.backgroundRect.setPosition(x, y);\r\n        this.img.setPosition(x + this.width / 2, y + this.height / 2);\r\n    }\r\n\r\n    setVisible(visible) {\r\n        this.backgroundRect.setVisible(visible);\r\n        this.img.setVisible(visible);\r\n    }\r\n\r\n    setEnable(enabled) {\r\n        this.enabled = enabled;\r\n    }\r\n\r\n    setTint(clr) {\r\n        this.img.setTint(clr);\r\n    }\r\n    clearTint() {\r\n        this.img.clearTint();\r\n    }\r\n\r\n    setBorderTint(clr) {\r\n        this.backgroundRect.strokeColor = clr;\r\n    }\r\n\r\n    removeBackground() {\r\n        this.backgroundRect.alpha = 0.01;\r\n    }\r\n\r\n    _onClick(callback) {\r\n        if (this.enabled === true) {\r\n            callback();\r\n        }\r\n    }\r\n    _onPointerUp(callback) {\r\n        if (this.enabled === true) {\r\n            callback();\r\n        }\r\n    }\r\n    _onPointerOut(callback) {\r\n        if (this.enabled === true) {\r\n            callback();\r\n        }\r\n    }\r\n    _onPointerOver(callback) {\r\n        if (this.enabled === true) {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    onClickHandler(callback) {\r\n        this.backgroundRect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerdown\", () => { this._onClick(callback) });\r\n        return this;\r\n    }\r\n    onPointerOutHandler(callback) {\r\n        this.backgroundRect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerout\", () => { this._onPointerOut(callback) });\r\n        return this;\r\n    }\r\n    onPointerUpHandler(callback) {\r\n        this.backgroundRect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerup\", () => { this._onPointerUp(callback) });\r\n        return this;\r\n    }\r\n    onPointerOverHandler(callback) {\r\n        this.backgroundRect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerover\", () => { this._onPointerOver(callback) });\r\n        return this;\r\n    }\r\n\r\n    destroy() {\r\n        this.backgroundRect.destroy();\r\n        this.img.destroy();\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/ImageButton.js?");

/***/ }),

/***/ "./src/ui/ProgressBar.js":
/*!*******************************!*\
  !*** ./src/ui/ProgressBar.js ***!
  \*******************************/
/*! exports provided: ProgressBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProgressBar\", function() { return ProgressBar; });\nclass ProgressBar {\r\n    constructor(sceneContext, x, y, width, height, barColor, barBackgroundColor, text) {\r\n        this.backgroundRect = sceneContext.add.rectangle(x, y, width, height, barBackgroundColor).setOrigin(0, 0);\r\n        this.fillRect = sceneContext.add.rectangle(x + 1, y + 1, width - 2, height - 2, barColor).setOrigin(0, 0);\r\n        this.fillRect2 = sceneContext.add.rectangle(x + 1, y + 1, width - 2, height - 2, Phaser.Display.Color.GetColor(100, 75, 200)).setOrigin(0, 0);\r\n        this.fillRect2.displayWidth = 0;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.progressText = sceneContext.add.bitmapText(x + width / 2, y + height / 2, \"fontSmall\", text).setOrigin(0.5, 0.5);\r\n    }\r\n\r\n    setPosition(x, y) {\r\n        this.backgroundRect.setPosition(x, y);\r\n        this.fillRect.setPosition(x + 1, y + 1);\r\n        this.fillRect2.setPosition(x + 1, y + 1);\r\n        this.progressText.setPosition(x + this.width / 2, y + this.height / 2);\r\n    }\r\n\r\n    setVisible(visible) {\r\n        this.backgroundRect.setVisible(visible);\r\n        this.fillRect.setVisible(visible);\r\n        this.fillRect2.setVisible(visible);\r\n        this.progressText.setVisible(visible);\r\n    }\r\n\r\n    setText(txt) {\r\n        this.progressText.setText(txt);\r\n    }\r\n    setTextColor(clr) {\r\n        this.progressText.setTint(clr);\r\n    }\r\n    setBarColor(clr) {\r\n        this.fillRect.setFillStyle(clr);\r\n    }\r\n\r\n    setFillPercent(percent, text = \"\") {\r\n        percent = Math.max(0, Math.min(1, percent));\r\n        this.fillRect.displayWidth = Math.floor(percent * (this.width - 2));\r\n        this.progressText.setText(text);\r\n    }\r\n\r\n    setSecondaryFillPercent(percent) {\r\n        percent = Math.max(0, Math.min(1, percent));\r\n        this.fillRect2.displayWidth = Math.floor(percent * (this.width - 2));\r\n    }\r\n\r\n    destroy() {\r\n        this.backgroundRect.destroy();\r\n        this.fillRect.destroy();\r\n        this.fillRect2.destroy();\r\n        this.progressText.destroy();\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/ProgressBar.js?");

/***/ }),

/***/ "./src/ui/SceneUIBase.js":
/*!*******************************!*\
  !*** ./src/ui/SceneUIBase.js ***!
  \*******************************/
/*! exports provided: SceneUIBase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SceneUIBase\", function() { return SceneUIBase; });\n\r\nclass SceneUIBase extends Phaser.Scene {\r\n\r\n    constructor(position = [0, 0], name = \"myScene\") {\r\n        super(name);\r\n        this.position = position;\r\n    }\r\n\r\n    relativeX(x = 0) {\r\n        return this.position[0] + x;\r\n    }\r\n    relativeY(y = 0) {\r\n        return this.position[1] + y;\r\n    }\r\n\r\n    enableScene() {\r\n\r\n    }\r\n\r\n    disableScene() {\r\n\r\n    }\r\n\r\n    registerEvent(name, callback) {\r\n        \r\n    }\r\n\r\n    preload() {\r\n    }\r\n\r\n\r\n    create() {\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/SceneUIBase.js?");

/***/ }),

/***/ "./src/ui/TextButton.js":
/*!******************************!*\
  !*** ./src/ui/TextButton.js ***!
  \******************************/
/*! exports provided: TextButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextButton\", function() { return TextButton; });\nclass TextButton {\r\n    constructor(sceneContext, x, y, width, height, text, depth=0) {\r\n        this.backgroundRect = sceneContext.add.rectangle(x, y, width, height, 0x000000).setOrigin(0, 0).setDepth(depth);\r\n        this.backgroundRect.isStroked = true;\r\n        this.backgroundRect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        this.backgroundRect.lineWidth = 1;\r\n        this.rawText = text;\r\n        this.text = sceneContext.add.bitmapText(x + width / 2, y + height / 2 -1, \"fontLarge\", text).setOrigin(0.5).setDepth(depth);\r\n        this.enabled = true;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.isNotifying = false;\r\n        this.textClr = 0xffffff;\r\n    }\r\n\r\n    setNotification() {\r\n        this.isNotifying = true;\r\n        this.text.setText(\"!\" + this.rawText + \"!\");\r\n        this.text.setTint(Phaser.Display.Color.GetColor(255, 255, 0));\r\n        return this;\r\n    }\r\n\r\n    setBorderTint(clr) {\r\n        this.backgroundRect.strokeColor = clr;\r\n    }\r\n\r\n    setPosition(x, y) {\r\n        this.backgroundRect.setPosition(x, y);\r\n        this.text.setPosition(x + this.width / 2, y + this.height / 2);\r\n        return this;\r\n    }\r\n\r\n    setVisible(visible) {\r\n        this.backgroundRect.setVisible(visible);\r\n        this.text.setVisible(visible);\r\n        this.text.setTint(visible === true ? this.textClr : 0x999999);\r\n        return this;\r\n    }\r\n\r\n    setEnable(enabled) {\r\n        this.enabled = enabled;\r\n        this.text.setTint(enabled === true ? this.textClr : 0x999999);\r\n        return this;\r\n    }\r\n\r\n    setText(text) {\r\n        this.text.setText(text);\r\n        return this;\r\n    }\r\n    setTextColor(clr) {\r\n        this.text.setTint(clr);\r\n        this.textClr = clr;\r\n        return this;\r\n    }\r\n\r\n    _onClick(callback) {\r\n        if (this.isNotifying === true) {\r\n            this.isNotifying = false;\r\n            this.text.setText(this.rawText);\r\n            this.text.setTint(this.textClr);\r\n        }\r\n        if (this.enabled === true) {\r\n            callback();\r\n        }\r\n    }\r\n    _onPointerUp(callback) {\r\n        if (this.enabled === true) {\r\n            callback();\r\n        }\r\n    }\r\n    _onPointerOut(callback) {\r\n        if (this.enabled === true) {\r\n            callback();\r\n        }\r\n    }\r\n    _onPointerOver(callback) {\r\n        if (this.enabled === true) {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    onClickHandler(callback) {\r\n        this.backgroundRect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerdown\", () => { this._onClick(callback) });\r\n        return this;\r\n    }\r\n    onPointerOutHandler(callback) {\r\n        this.backgroundRect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerout\", () => { this._onPointerOut(callback) });\r\n        return this;\r\n    }\r\n    onPointerUpHandler(callback) {\r\n        this.backgroundRect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerup\", () => { this._onPointerUp(callback) });\r\n        return this;\r\n    }\r\n    onPointerOverHandler(callback) {\r\n        this.backgroundRect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerover\", () => { this._onPointerOver(callback) });\r\n        return this;\r\n    }\r\n\r\n    destroy() {\r\n        this.backgroundRect.destroy();\r\n        this.text.destroy();\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/TextButton.js?");

/***/ }),

/***/ "./src/ui/displays/BuildingDisplay.js":
/*!********************************************!*\
  !*** ./src/ui/displays/BuildingDisplay.js ***!
  \********************************************/
/*! exports provided: BuildingDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BuildingDisplay\", function() { return BuildingDisplay; });\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _tooltips_BuildingTooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tooltips/BuildingTooltip */ \"./src/ui/tooltips/BuildingTooltip.js\");\n/* harmony import */ var _tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tooltips/TooltipOverlay */ \"./src/ui/tooltips/TooltipOverlay.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nclass BuildingDisplay {\r\n    constructor(ctx, x, y) {\r\n        this.ctx = ctx;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.elements = [];\r\n        this.rect = undefined;\r\n        this.building = undefined;\r\n        this.clickCallback = undefined;\r\n    }\r\n\r\n    onClickHandler(callback) {\r\n        this.clickCallback = callback;\r\n        return this;\r\n    }\r\n\r\n    InitWithBuilding(bld) {\r\n        this.building = bld;\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n        this.elements = [];\r\n\r\n        this.rect = this.ctx.add.rectangle(this.x, this.y, 48, 48, 0x000000).setOrigin(0, 0);\r\n        this.rect.isStroked = true;\r\n        this.rect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        this.rect.lineWidth = 1;\r\n        this.elements.push(this.rect);\r\n        var img = this.ctx.add.image(this.x + 24, this.y + 16, bld.texture.sprite, bld.texture.tile).setOrigin(0.5);\r\n        img.displayWidth = 32;\r\n        img.displayHeight = 32;\r\n        this.elements.push(img);\r\n\r\n        var txt = \"\";\r\n        if (bld.maxLevel === -1) {\r\n            txt = \"Lv\" + _utils_Common__WEBPACK_IMPORTED_MODULE_1__[\"Common\"].numberString(bld.level);\r\n        } else {\r\n            if (bld.level === bld.maxLevel) {\r\n                txt = \"MAX\";\r\n            } else {\r\n                txt = \"Lv\" + _utils_Common__WEBPACK_IMPORTED_MODULE_1__[\"Common\"].numberString(bld.level) + '/' + _utils_Common__WEBPACK_IMPORTED_MODULE_1__[\"Common\"].numberString(bld.maxLevel);\r\n            }\r\n        }\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.x + 24, this.y + 40, \"fontSmall\", txt, 14, 1).setOrigin(0.5));\r\n\r\n        if ((bld.parent !== undefined && _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_0__[\"TownManager\"].getInstance().buildings[bld.parent].level === 0) ||\r\n            (bld.buildingId !== 'town' && _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_0__[\"TownManager\"].getInstance().buildings['town'].level === 0)) {\r\n            var tmp = this.ctx.add.rectangle(this.x, this.y, 48, 48,\r\n                Phaser.Display.Color.GetColor(0, 0, 0)).setOrigin(0, 0);\r\n            tmp.alpha = 0.5;\r\n            this.elements.push(tmp);\r\n        }\r\n        if (_data_managers_TownManager__WEBPACK_IMPORTED_MODULE_0__[\"TownManager\"].getInstance().CanBuild(bld.buildingId) === false) {\r\n            this.rect.strokeColor = Phaser.Display.Color.GetColor(200, 0, 0);\r\n        }\r\n\r\n        this.rect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerdown\", () => { if (this.clickCallback !== undefined) { this.clickCallback(); } })\r\n            .on(\"pointerover\", () => { this._showTooltip(bld); });\r\n    }\r\n\r\n    _showTooltip(bld) {\r\n        var x = this.x + 48 + (this.x + 448 > 1090 ? -(448) : 0);\r\n        var y = this.y;\r\n        _tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_3__[\"TooltipOverlay\"].getInstance().SetTooltip(new _tooltips_BuildingTooltip__WEBPACK_IMPORTED_MODULE_2__[\"BuildingTooltip\"](bld, x, y),\r\n            [this.x, this.y, 48, 48]);\r\n    }\r\n\r\n    UpdateBorder() {\r\n        if (_data_managers_TownManager__WEBPACK_IMPORTED_MODULE_0__[\"TownManager\"].getInstance().CanBuild(this.building.buildingId)) {\r\n            this.rect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        } else {\r\n            this.rect.strokeColor = Phaser.Display.Color.GetColor(200, 0, 0);\r\n        }\r\n    }\r\n\r\n    setVisible(visible) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(visible);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/displays/BuildingDisplay.js?");

/***/ }),

/***/ "./src/ui/displays/CreatureDisplay.js":
/*!********************************************!*\
  !*** ./src/ui/displays/CreatureDisplay.js ***!
  \********************************************/
/*! exports provided: CreatureDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreatureDisplay\", function() { return CreatureDisplay; });\n/* harmony import */ var _data_resources_Strings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/resources/Strings */ \"./src/data/resources/Strings.js\");\n/* harmony import */ var _data_Trait__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/Trait */ \"./src/data/Trait.js\");\n/* harmony import */ var _tooltips_CreatureTooltip__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tooltips/CreatureTooltip */ \"./src/ui/tooltips/CreatureTooltip.js\");\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ProgressBar */ \"./src/ui/ProgressBar.js\");\n/* harmony import */ var _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tooltips/TooltipImage */ \"./src/ui/tooltips/TooltipImage.js\");\n/* harmony import */ var _tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../tooltips/TooltipOverlay */ \"./src/ui/tooltips/TooltipOverlay.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CreatureDisplay {\r\n    constructor(sceneContext, x, y) {\r\n\r\n        this.x = x;\r\n        this.y = y;\r\n        this.sceneContext = sceneContext;\r\n        this.creature = undefined;\r\n\r\n        this.image = sceneContext.add.image(x + 16, y + 22, \"icons\", 255).setOrigin(0);\r\n        this.image.displayWidth = 64;\r\n        this.image.displayHeight = 64;\r\n\r\n        this.image.setInteractive()\r\n            .on(\"pointerover\", () => { this._showTooltip(); });\r\n\r\n        this.healthBar = new _ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"ProgressBar\"](sceneContext, x, y + 92, 96, 8,\r\n            Phaser.Display.Color.GetColor(170, 0, 0), Phaser.Display.Color.GetColor(48, 48, 48));\r\n        this.attackBar = new _ProgressBar__WEBPACK_IMPORTED_MODULE_3__[\"ProgressBar\"](sceneContext, x, y + 102, 96, 8,\r\n            Phaser.Display.Color.GetColor(0, 140, 40), Phaser.Display.Color.GetColor(48, 48, 48));\r\n        this.elements = [this.image, this.healthBar, this.attackBar];\r\n        this.traitIcons = [];\r\n    }\r\n\r\n    _showTooltip() {\r\n        if (this.creature === undefined) {\r\n            return;\r\n        }\r\n        var x = this.x + 80 + (this.x + 300 > 1090 ? -284 : 0);\r\n        var y = this.y - 72;\r\n        _tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_5__[\"TooltipOverlay\"].getInstance().SetTooltip(new _tooltips_CreatureTooltip__WEBPACK_IMPORTED_MODULE_2__[\"CreatureTooltip\"](this.creature, x, y),\r\n            [this.x + 16, this.y + 22, 64, 64]);\r\n    }\r\n\r\n    _onTraitsChanged() {\r\n        for (var i = 0; i < this.traitIcons.length; i++) {\r\n            this.traitIcons[i].destroy();\r\n        }\r\n        this.traitIcons = [];\r\n\r\n        var t = 0;\r\n        for (var trait in this.creature.traits) {\r\n            this.traitIcons.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_4__[\"TooltipImage\"](this.sceneContext, this.x + t, this.y, 16, 16,\r\n                _data_Trait__WEBPACK_IMPORTED_MODULE_1__[\"Trait\"].GetTexture(this.creature.traits[trait].trait), _data_resources_Strings__WEBPACK_IMPORTED_MODULE_0__[\"Strings\"].TraitTitle(this.creature.traits[trait].trait),\r\n                _data_resources_Strings__WEBPACK_IMPORTED_MODULE_0__[\"Strings\"].TraitDescription(this.creature.traits[trait].trait, this.creature)));\r\n            t += 18;\r\n        }\r\n    }\r\n\r\n    _updateTraitText() {\r\n        var idx = 0;\r\n        for (var trait in this.creature.traits) {\r\n            this.traitIcons[idx].setTooltip(_data_resources_Strings__WEBPACK_IMPORTED_MODULE_0__[\"Strings\"].TraitDescription(this.creature.traits[trait].trait, this.creature));\r\n            idx++;\r\n        }\r\n    }\r\n\r\n    initWithCreature(creature) {\r\n        this.creature = creature;\r\n        this.healthBar.setFillPercent(creature.health / creature.MaxHealth());\r\n        this.attackBar.setFillPercent(creature.attackCooldown / creature.AttackSpeed());\r\n\r\n        this.image.setFrame(creature.texture.tile);\r\n\r\n        for (var i = 0; i < this.traitIcons.length; i++) {\r\n            this.traitIcons[i].destroy();\r\n        }\r\n        this.traitIcons = [];\r\n\r\n        var t = 0;\r\n        for (var trait in creature.traits) {\r\n            this.traitIcons.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_4__[\"TooltipImage\"](this.sceneContext, this.x + t, this.y, 16, 16,\r\n                _data_Trait__WEBPACK_IMPORTED_MODULE_1__[\"Trait\"].GetTexture(creature.traits[trait].trait), _data_resources_Strings__WEBPACK_IMPORTED_MODULE_0__[\"Strings\"].TraitTitle(creature.traits[trait].trait),\r\n                _data_resources_Strings__WEBPACK_IMPORTED_MODULE_0__[\"Strings\"].TraitDescription(creature.traits[trait].trait, creature)));\r\n            t += 18;\r\n        }\r\n\r\n        creature.OnHealthChangedHandler((x) => { this.setHealthBar(x); });\r\n        creature.OnAttackTimerChangedHandler((x) => { this.setAttackBar(x); });\r\n        creature.OnTraitsChangedHandler(() => { this._onTraitsChanged(); });\r\n    }\r\n\r\n    setVisible(visible) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(visible);\r\n        }\r\n        for (var i = 0; i < this.traitIcons.length; i++) {\r\n            this.traitIcons[i].setVisible(visible);\r\n        }\r\n    }\r\n\r\n    setHealthBar(healthPercent, text = \"\") {\r\n        this.healthBar.setFillPercent(healthPercent, text);\r\n    }\r\n\r\n    setAttackBar(attackPercent, text = \"\") {\r\n        this.attackBar.setFillPercent(attackPercent, text);\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n        for (var i = 0; i < this.traitIcons.length; i++) {\r\n            this.traitIcons[i].destroy();\r\n        }\r\n    }\r\n\r\n    update() {\r\n        this._updateTraitText();\r\n    }\r\n\r\n    getCenterX() { return this.x + 125; }\r\n    getCenterY() { return this.y + 85; }\r\n}\n\n//# sourceURL=webpack:///./src/ui/displays/CreatureDisplay.js?");

/***/ }),

/***/ "./src/ui/displays/DungeonDisplay.js":
/*!*******************************************!*\
  !*** ./src/ui/displays/DungeonDisplay.js ***!
  \*******************************************/
/*! exports provided: DungeonDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DungeonDisplay\", function() { return DungeonDisplay; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tooltips/TooltipImage */ \"./src/ui/tooltips/TooltipImage.js\");\n/* harmony import */ var _data_Trait__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/Trait */ \"./src/data/Trait.js\");\n/* harmony import */ var _data_resources_Strings__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../data/resources/Strings */ \"./src/data/resources/Strings.js\");\n/* harmony import */ var _TextButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TextButton */ \"./src/ui/TextButton.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nconst REWARD_TEXTURES = [\r\n    { sprite: \"icons\", tile: 0 },\r\n    { sprite: \"icons\", tile: 28 },\r\n    { sprite: \"icons\", tile: 29 },\r\n    { sprite: \"icons\", tile: 30 },\r\n    { sprite: \"icons\", tile: 24 },\r\n    { sprite: \"icons\", tile: 80 },\r\n    { sprite: \"icons\", tile: 38 },\r\n    { sprite: \"icons\", tile: 32 },\r\n]\r\n\r\nclass DungeonDisplay {\r\n    constructor(ctx, x, y) {\r\n        this.ctx = ctx;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.elements = [];\r\n        this.clickCallback = undefined;\r\n    }\r\n\r\n    setVisible(visible) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(visible);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n\r\n    onClickHandler(callback) {\r\n        this.clickCallback = callback;\r\n        return this;\r\n    }\r\n\r\n    InitWithDungeon(dungeon) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n        this.elements = [];\r\n\r\n        var rect = this.ctx.add.rectangle(this.x, this.y, 300, 125, 0x000000).setOrigin(0);\r\n        rect.isStroked = true;\r\n        rect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        rect.lineWidth = 1;\r\n        this.elements.push(rect);\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.x + 5, this.y + 5, \"fontLarge\", dungeon.Title(), 20, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.x + 5, this.y + 30, \"fontSmall\",\r\n            \"Reward Power: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(dungeon.RewardPower()), 16, 1));\r\n\r\n        var traits = dungeon.GetActiveTraits();\r\n        for (var i = 0; i < traits.length; i++) {\r\n            this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.x + 240 + i * 20, this.y + 5, 16, 16,\r\n                _data_Trait__WEBPACK_IMPORTED_MODULE_2__[\"Trait\"].GetTexture(traits[i]), _data_resources_Strings__WEBPACK_IMPORTED_MODULE_3__[\"Strings\"].TraitTitle(traits[i]), \" \"));\r\n        }\r\n        for (var i = traits.length; i < 3; i++) {\r\n            this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.x + 240 + i * 20, this.y + 5, 16, 16,\r\n                { sprite: 'icons', tile: 37 }, \"Unknown\", \"This trait is still a mystery. Explore deeper into the dungeon.\"));\r\n        }\r\n\r\n        for (var i = 0; i < dungeon.rewardsEarned.length; i++) {\r\n            var x = this.x + 10 + i * 28;\r\n            this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, x, this.y + 56, 24, 24,\r\n                REWARD_TEXTURES[dungeon.rewardsEarned[i][0]], _data_resources_Strings__WEBPACK_IMPORTED_MODULE_3__[\"Strings\"].DungeonRewardTitles(dungeon.rewardsEarned[i][0]),\r\n                _data_resources_Strings__WEBPACK_IMPORTED_MODULE_3__[\"Strings\"].DungeonRewardDescription(dungeon.rewardsEarned[i][0], dungeon.rewardsEarned[i][1])));\r\n        }\r\n\r\n        for (var i = dungeon.rewardsEarned.length; i < 10; i++) {\r\n            var x = this.x + 10 + i * 28;\r\n            var tmp = this.ctx.add.rectangle(x, this.y + 56, 24, 24,\r\n                Phaser.Display.Color.GetColor(0, 0, 0)).setOrigin(0, 0);\r\n            tmp.isStroked = true;\r\n            tmp.strokeColor = Phaser.Display.Color.GetColor(150, 150, 250);\r\n            tmp.lineWidth = 1;\r\n            this.elements.push(tmp);\r\n        }\r\n\r\n        var txt = this.ctx.add.bitmapText(this.x + 5, this.y + 95, \"fontSmall\",\r\n            \"Progress Points: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(dungeon.floor * 2), 16, 1);\r\n        txt.setTint(Phaser.Display.Color.GetColor(150, 150, 250));\r\n        this.elements.push(txt);\r\n\r\n        if (dungeon.floor < 10) {\r\n            var btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.x + 215, this.y + 90, 80, 30, \"Enter\");\r\n            btn.onClickHandler(() => {\r\n                if (this.clickCallback !== undefined) {\r\n                    this.clickCallback();\r\n                }\r\n            });\r\n            this.elements.push(btn);\r\n        } else {\r\n            this.elements.push(this.ctx.add.bitmapText(this.x + 295, this.y + 95, \"fontSmall\",\r\n                \"Dungeon Complete!\", 16, 1).setOrigin(1, 0));\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/displays/DungeonDisplay.js?");

/***/ }),

/***/ "./src/ui/displays/GearDisplay.js":
/*!****************************************!*\
  !*** ./src/ui/displays/GearDisplay.js ***!
  \****************************************/
/*! exports provided: GearDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearDisplay\", function() { return GearDisplay; });\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ProgressBar */ \"./src/ui/ProgressBar.js\");\n/* harmony import */ var _tooltips_Tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tooltips/Tooltip */ \"./src/ui/tooltips/Tooltip.js\");\n/* harmony import */ var _tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tooltips/TooltipOverlay */ \"./src/ui/tooltips/TooltipOverlay.js\");\n\r\n\r\n\r\n\r\nclass GearDisplay {\r\n    constructor(ctx, x, y) {\r\n        this.ctx = ctx;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.elements = [];\r\n        this.title = \"\";\r\n        this.tooltip = \"\";\r\n        this.clickCallback = undefined;\r\n    }\r\n\r\n    onClickHandler(callback) {\r\n        this.clickCallback = callback;\r\n        return this;\r\n    }\r\n\r\n    SetGear(gear) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n        this.elements = [];\r\n\r\n        var rect = this.ctx.add.rectangle(this.x, this.y, 48, 50, 0x000000).setOrigin(0, 0);\r\n        rect.isStroked = true;\r\n        rect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        rect.lineWidth = 1;\r\n        this.elements.push(rect);\r\n        var img = this.ctx.add.image(this.x + 24, this.y + 24, gear.texture.sprite, gear.texture.tile).setOrigin(0.5);\r\n        img.displayWidth = 48;\r\n        img.displayHeight = 48;\r\n        this.elements.push(img);\r\n        var enhanceMeter = new _ProgressBar__WEBPACK_IMPORTED_MODULE_0__[\"ProgressBar\"](this.ctx, this.x + 1, this.y + 44, 46, 4, Phaser.Display.Color.GetColor(200, 0, 200),\r\n            Phaser.Display.Color.GetColor(0, 0, 0), \"\");\r\n        enhanceMeter.setFillPercent(gear.enhancement / 100.0);\r\n        this.elements.push(enhanceMeter);\r\n\r\n        if (gear.isEquiped) {\r\n            this.elements.push(this.ctx.add.bitmapText(this.x + 46, this.y + 48, \"fontSmall\", \"E\", 16, 1).setOrigin(1));\r\n        }\r\n\r\n        rect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerdown\", () => { if (this.clickCallback !== undefined) { this.clickCallback(); } })\r\n            .on(\"pointerover\", () => { this._showTooltip(); })\r\n\r\n        this.title = gear.GetName();\r\n        this.tooltip = gear.GetTextDetails();\r\n    }\r\n\r\n    _showTooltip() {\r\n        if (this.tooltip == \"\") {\r\n            return;\r\n        }\r\n        var x = this.x + 48 + (this.x + 260 > 1090 ? -(260 + this.width) : 0);\r\n        var y = this.y;\r\n        _tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_2__[\"TooltipOverlay\"].getInstance().SetTooltip(new _tooltips_Tooltip__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"](this.title, this.tooltip, x, y, 260),\r\n            [this.x, this.y, 48, 58]);\r\n    }\r\n\r\n    setVisible(visible) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(visible);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/displays/GearDisplay.js?");

/***/ }),

/***/ "./src/ui/displays/PerkDisplay.js":
/*!****************************************!*\
  !*** ./src/ui/displays/PerkDisplay.js ***!
  \****************************************/
/*! exports provided: PerkDisplay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PerkDisplay\", function() { return PerkDisplay; });\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _tooltips_PerkTooltip__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../tooltips/PerkTooltip */ \"./src/ui/tooltips/PerkTooltip.js\");\n/* harmony import */ var _tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../tooltips/TooltipOverlay */ \"./src/ui/tooltips/TooltipOverlay.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass PerkDisplay {\r\n    constructor(ctx, x, y) {\r\n        this.ctx = ctx;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.elements = [];\r\n        this.clickCallback = undefined;\r\n    }\r\n\r\n    setVisible(visible) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(visible);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n\r\n    onClickHandler(callback) {\r\n        this.clickCallback = callback;\r\n        return this;\r\n    }\r\n\r\n    InitWithPerk(perk) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n        this.elements = [];\r\n        this.perk = perk;\r\n\r\n        this.rect = this.ctx.add.rectangle(this.x, this.y, 48, 48, 0x000000).setOrigin(0);\r\n        this.rect.isStroked = true;\r\n        this.rect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        this.rect.lineWidth = 1;\r\n        this.elements.push(this.rect);\r\n        var img = this.ctx.add.image(this.x + 24, this.y + 16, perk.texture.sprite, perk.texture.tile).setOrigin(0.5);\r\n        img.displayWidth = 32;\r\n        img.displayHeight = 32;\r\n        this.elements.push(img);\r\n\r\n        var txt = \"\";\r\n        if (perk.maxLevel === -1) {\r\n            txt = \"Lv\" + _utils_Common__WEBPACK_IMPORTED_MODULE_2__[\"Common\"].numberString(bld.level);\r\n        } else {\r\n            if (perk.level === perk.maxLevel) {\r\n                txt = \"MAX\";\r\n            } else {\r\n                txt = \"Lv\" + _utils_Common__WEBPACK_IMPORTED_MODULE_2__[\"Common\"].numberString(perk.level) + '/' + _utils_Common__WEBPACK_IMPORTED_MODULE_2__[\"Common\"].numberString(perk.maxLevel);\r\n            }\r\n        }\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.x + 24, this.y + 40, \"fontSmall\", txt, 14, 1).setOrigin(0.5));\r\n\r\n        if (_data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__[\"RebirthManager\"].getInstance().HasUnlockedPerk(perk) === false) {\r\n            var tmp = this.ctx.add.rectangle(this.x, this.y, 48, 48,\r\n                Phaser.Display.Color.GetColor(0, 0, 0)).setOrigin(0, 0);\r\n            tmp.alpha = 0.5;\r\n            this.elements.push(tmp);\r\n        }\r\n\r\n        this.rect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerdown\", () => { if (this.clickCallback !== undefined) { this.clickCallback(); } })\r\n            .on(\"pointerover\", () => { this._showTooltip(perk); });\r\n    }\r\n\r\n    UpdateBorder() {\r\n        if (_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance().motes >= this.perk.GetCost()) {\r\n            this.rect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        } else {\r\n            this.rect.strokeColor = Phaser.Display.Color.GetColor(200, 0, 0);\r\n        }\r\n    }\r\n\r\n    _showTooltip(perk) {\r\n        var x = this.x + 48 + (this.x + 448 > 1090 ? -(448) : 0);\r\n        var y = this.y;\r\n        _tooltips_TooltipOverlay__WEBPACK_IMPORTED_MODULE_4__[\"TooltipOverlay\"].getInstance().SetTooltip(new _tooltips_PerkTooltip__WEBPACK_IMPORTED_MODULE_3__[\"PerkTooltip\"](perk, x, y),\r\n            [this.x, this.y, 48, 48]);\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/displays/PerkDisplay.js?");

/***/ }),

/***/ "./src/ui/particles/Particle.js":
/*!**************************************!*\
  !*** ./src/ui/particles/Particle.js ***!
  \**************************************/
/*! exports provided: Particle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Particle\", function() { return Particle; });\n\r\nclass Particle {\r\n    constructor(ctx, x, y, w, h, texture, dx, dy, duration) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.dx = dx;\r\n        this.dy = dy;\r\n        this.duration = duration;\r\n\r\n        this.img = ctx.add.image(x, y, texture.sprite, texture.tile).setOrigin(0.5);\r\n        this.img.displayWidth = w;\r\n        this.img.displayHeight = h;\r\n        this.img.alpha = 0.5;\r\n    }\r\n\r\n    IsDead() { return this.duration < 0; }\r\n\r\n    update(time) {\r\n        this.duration -= time;\r\n        this.x += this.dx * (time / 1000.0);\r\n        this.y += this.dy * (time / 1000.0);\r\n        this.img.setPosition(this.x, this.y);\r\n        if (this.duration < 500) {\r\n            this.img.alpha = this.duration / 1000;\r\n        }\r\n    }\r\n\r\n    setVisible(visible) {\r\n        this.img.setVisible(visible);\r\n    }\r\n\r\n    destroy() {\r\n        this.img.destroy();\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/particles/Particle.js?");

/***/ }),

/***/ "./src/ui/popups/GearUnlockPopup.js":
/*!******************************************!*\
  !*** ./src/ui/popups/GearUnlockPopup.js ***!
  \******************************************/
/*! exports provided: GearUnlockPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearUnlockPopup\", function() { return GearUnlockPopup; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _TextButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TextButton */ \"./src/ui/TextButton.js\");\n/* harmony import */ var _PopupBase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PopupBase */ \"./src/ui/popups/PopupBase.js\");\n\r\n\r\n\r\n\r\n\r\nclass GearUnlockPopup extends _PopupBase__WEBPACK_IMPORTED_MODULE_2__[\"PopupBase\"] {\r\n    constructor(ctx, x, y, width, height, gearList) {\r\n        super(ctx, x, y, width, height);\r\n\r\n        this.elements.push(ctx.add.bitmapText(this.x + this.width / 2, this.y + 5, \"fontLarge\",\r\n            \"Equipment Unlocked!\", 20, 1).setOrigin(0.5, 0).setDepth(999));\r\n        var txt = \"You've found some new gear! Any equipment you find is permanently unlocked, lasting through rebirths.\";\r\n        txt = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].processText(txt, Math.floor(width / 10));\r\n        this.elements.push(ctx.add.bitmapText(this.x + this.width / 2, this.y + 40, \"fontSmall\",\r\n            txt, 16, 1).setOrigin(0.5, 0).setDepth(999));\r\n        var spacing = width / (gearList.length + 1);\r\n        for (var i = 0; i < gearList.length; i++) {\r\n            var img = this.ctx.add.image(this.x + spacing * (i + 1), this.y + 100,\r\n                gearList[i].texture.sprite, gearList[i].texture.tile).setOrigin(0.5).setDepth(999);\r\n            img.displayWidth = 48;\r\n            img.displayHeight = 48;\r\n            this.elements.push(img);\r\n            this.elements.push(ctx.add.bitmapText(this.x + spacing * (i + 1), this.y + 135, \"fontSmall\",\r\n                gearList[i].name, 16, 1).setOrigin(0.5, 0).setDepth(999));\r\n        }\r\n\r\n        this.closeBtn = new _TextButton__WEBPACK_IMPORTED_MODULE_1__[\"TextButton\"](ctx, this.x + width / 2 - 60, this.y + 180, 120, 30, \"Close\", 999);\r\n        this.elements.push(this.closeBtn);\r\n    }\r\n\r\n    onCloseHandler(callback) {\r\n        this.closeBtn.onClickHandler(callback);\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/popups/GearUnlockPopup.js?");

/***/ }),

/***/ "./src/ui/popups/PopupBase.js":
/*!************************************!*\
  !*** ./src/ui/popups/PopupBase.js ***!
  \************************************/
/*! exports provided: PopupBase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PopupBase\", function() { return PopupBase; });\n\r\n\r\nclass PopupBase {\r\n    constructor(ctx, x, y, width, height) {\r\n        this.ctx = ctx;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.elements = [];\r\n\r\n        var rect = ctx.add.rectangle(this.x, this.y, this.width, this.height,\r\n            Phaser.Display.Color.GetColor(16, 16, 32)).setOrigin(0).setDepth(999);\r\n            rect.strokeColor = Phaser.Display.Color.GetColor(200, 200, 200);\r\n        rect.isStroked = true;\r\n        rect.lineWidth = 1;\r\n        rect.setInteractive({ useHandCursor: false });\r\n        this.elements.push(rect);\r\n\r\n        this.onClose = undefined;\r\n    }\r\n\r\n    _onClose() {\r\n        if (this.onClose !== undefined) {\r\n            this.onClose();\r\n        }\r\n    }\r\n\r\n    onCloseHandler(callback) {\r\n        this.onClose = callback;\r\n    }\r\n\r\n    setVisible(visible) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(visible);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/popups/PopupBase.js?");

/***/ }),

/***/ "./src/ui/popups/RebirthPopup.js":
/*!***************************************!*\
  !*** ./src/ui/popups/RebirthPopup.js ***!
  \***************************************/
/*! exports provided: RebirthPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RebirthPopup\", function() { return RebirthPopup; });\n/* harmony import */ var _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/managers/EquipmentManager */ \"./src/data/managers/EquipmentManager.js\");\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../data/managers/WorldManager */ \"./src/data/managers/WorldManager.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _TextButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../TextButton */ \"./src/ui/TextButton.js\");\n/* harmony import */ var _PopupBase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PopupBase */ \"./src/ui/popups/PopupBase.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass RebirthPopup extends _PopupBase__WEBPACK_IMPORTED_MODULE_6__[\"PopupBase\"] {\r\n    constructor(ctx, x, y, width, height) {\r\n        super(ctx, x, y, width, height);\r\n\r\n        this.onRebirth = undefined;\r\n\r\n        this.elements.push(ctx.add.bitmapText(this.x + this.width / 2, this.y + 5, \"fontLarge\",\r\n            \"The Mysterious Wanderer\", 20, 1).setOrigin(0.5, 0).setDepth(999));\r\n\r\n        var img = this.ctx.add.image(this.x + this.width / 2, this.y + 30, \"icons\", 36).setOrigin(0.5, 0).setDepth(999);\r\n        img.displayWidth = 64;\r\n        img.displayHeight = 64;\r\n        this.elements.push(img);\r\n        var txt = \"You seem to be struggling to survive. Thankfully I've arrived. Take these and be reborn!\";\r\n        txt = _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].processText(txt, Math.floor(width / 10));\r\n        this.elements.push(ctx.add.bitmapText(this.x + this.width / 2, this.y + 110, \"fontSmall\",\r\n            txt, 16, 1).setOrigin(0.5, 0).setDepth(999));\r\n\r\n        var tmp = ctx.add.bitmapText(this.x + this.width / 2, this.y + 160, \"fontSmall\",\r\n            \"Motes of Darkness\", 16, 1).setOrigin(0.5, 0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 - 110, this.y + 180, \"fontSmall\",\r\n            \"From Attributes:\", 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 + 60, this.y + 180, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().MotesFromStats()), 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 - 110, this.y + 200, \"fontSmall\",\r\n            \"From Land:\", 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 + 60, this.y + 200, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(_data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_3__[\"WorldManager\"].getInstance().MotesFromLand()), 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 - 110, this.y + 220, \"fontSmall\",\r\n            \"From Monuments:\", 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 + 60, this.y + 220, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(_data_managers_TownManager__WEBPACK_IMPORTED_MODULE_2__[\"TownManager\"].getInstance().MotesFromMonuments()), 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 - 110, this.y + 240, \"fontSmall\",\r\n            \"From Gear:\", 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 + 60, this.y + 240, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(_data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_0__[\"EquipmentManager\"].getInstance().MotesFromGear()), 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 - 110, this.y + 260, \"fontSmall\",\r\n            \"From Dungeons:\", 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 + 60, this.y + 260, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().MotesFromDungeons()), 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 - 110, this.y + 280, \"fontSmall\",\r\n            \"Progress Points:\", 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 + 60, this.y + 280, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(_data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_3__[\"WorldManager\"].getInstance().ProgressPoints()) + \" (+\" +\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString((_data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_3__[\"WorldManager\"].getInstance().ProgressBonus() - 1) * 100, true) + \"%)\", 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 - 110, this.y + 300, \"fontSmall\",\r\n            \"Total:\", 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n        var total = (_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().MotesFromStats() +\r\n            _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_3__[\"WorldManager\"].getInstance().MotesFromLand() +\r\n            _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_0__[\"EquipmentManager\"].getInstance().MotesFromGear() +\r\n            _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_2__[\"TownManager\"].getInstance().MotesFromMonuments() +\r\n            _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().MotesFromDungeons()) *\r\n            _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_3__[\"WorldManager\"].getInstance().ProgressBonus();\r\n        tmp = ctx.add.bitmapText(this.x + this.width / 2 + 60, this.y + 300, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(total), 16, 1).setOrigin(0).setDepth(999);\r\n        tmp.setTint(Phaser.Display.Color.GetColor(0, 200, 200));\r\n        this.elements.push(tmp);\r\n\r\n        var btn = new _TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](ctx, this.x + this.width / 2 - 120, this.y + 340, 115, 30, \"REBIRTH\", 999);\r\n        btn.onClickHandler(() => {\r\n            this._onRebirth();\r\n        });\r\n        this.elements.push(btn);\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](ctx, this.x + this.width / 2 + 5, this.y + 340, 115, 30, \"CANCEL\", 999);\r\n        btn.onClickHandler(() => { this._onClose(); });\r\n        this.elements.push(btn);\r\n    }\r\n\r\n    OnRebirthHandler(callback) {\r\n        this.onRebirth = callback;\r\n    }\r\n\r\n    _onRebirth() {\r\n        if (this.onRebirth !== undefined) {\r\n            this.onRebirth();\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/popups/RebirthPopup.js?");

/***/ }),

/***/ "./src/ui/popups/TextPopup.js":
/*!************************************!*\
  !*** ./src/ui/popups/TextPopup.js ***!
  \************************************/
/*! exports provided: TextPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextPopup\", function() { return TextPopup; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _TextButton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TextButton */ \"./src/ui/TextButton.js\");\n/* harmony import */ var _PopupBase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PopupBase */ \"./src/ui/popups/PopupBase.js\");\n\r\n\r\n\r\n\r\n\r\nclass TextPopup extends _PopupBase__WEBPACK_IMPORTED_MODULE_2__[\"PopupBase\"] {\r\n    constructor(ctx, x, y, width, height, title, txt) {\r\n        super(ctx, x, y, width, height);\r\n\r\n        this.elements.push(ctx.add.bitmapText(this.x + this.width / 2, this.y + 5, \"fontLarge\",\r\n            title, 20, 1).setOrigin(0.5, 0).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + this.width / 2, this.y + 40, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].processText(txt, Math.floor(width / 10)), 16, 1).setOrigin(0.5, 0).setDepth(999));\r\n\r\n        this.closeBtn = new _TextButton__WEBPACK_IMPORTED_MODULE_1__[\"TextButton\"](ctx, this.x + width / 2 - 60, this.y + 180, 120, 30, \"Close\", 999);\r\n        this.elements.push(this.closeBtn);\r\n    }\r\n\r\n    onCloseHandler(callback) {\r\n        this.closeBtn.onClickHandler(callback);\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/popups/TextPopup.js?");

/***/ }),

/***/ "./src/ui/tooltips/BuildingTooltip.js":
/*!********************************************!*\
  !*** ./src/ui/tooltips/BuildingTooltip.js ***!
  \********************************************/
/*! exports provided: BuildingTooltip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BuildingTooltip\", function() { return BuildingTooltip; });\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _data_resources_Strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/resources/Strings */ \"./src/data/resources/Strings.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n\r\n\r\n\r\n\r\n\r\nconst RESOURCE_TEXTURES = [\r\n    { sprite: \"icons\", tile: 22 },\r\n    { sprite: \"icons\", tile: 23 },\r\n    { sprite: \"icons\", tile: 24 },\r\n    { sprite: \"icons\", tile: 25 },\r\n    { sprite: \"icons\", tile: 26 },\r\n    { sprite: \"icons\", tile: 27 },\r\n    { sprite: \"icons\", tile: 28 },\r\n    { sprite: \"icons\", tile: 30 },\r\n    { sprite: \"icons\", tile: 31 },\r\n];\r\n\r\nclass BuildingTooltip {\r\n    constructor(bld, x, y) {\r\n        this.elements = [];\r\n        this.bld = bld;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    create(ctx) {\r\n        var town = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_1__[\"TownManager\"].getInstance();\r\n        var player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance();\r\n        var title = this.bld.name;\r\n        var text = _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].processText(_data_resources_Strings__WEBPACK_IMPORTED_MODULE_2__[\"Strings\"].BuildingDescriptions(this.bld, town), 40);\r\n        var costMultis = town.GetBuildingCostMulti();\r\n        var costs = this.bld.GetCosts(costMultis[0], costMultis[1], costMultis[2]);\r\n        var playerRes = [0, 0, 0, 0, 0, 0, player.materials, player.gold, player.maxLand - player.usedLand];\r\n        for (var i = 0; i < 6; i++) {\r\n            playerRes[i] = player.resources[i];\r\n        }\r\n        var numCosts = this.bld.parent === undefined ? 0 : 1;\r\n        for (var i = 0; i < costs.length; i++) {\r\n            if (costs[i] > 0) {\r\n                numCosts++;\r\n            }\r\n        }\r\n\r\n        var textHeight = 30 + text.split('\\n').length * 18\r\n        if (this.bld.IsMaxed()) {\r\n            numCosts = 0;\r\n        }\r\n        var height = 10 + textHeight + Math.ceil(numCosts / 2) * 20;\r\n        var rect = ctx.add.rectangle(this.x, this.y, 400, height,\r\n            Phaser.Display.Color.GetColor(16, 16, 32)).setOrigin(0).setDepth(999);\r\n        rect.strokeColor = Phaser.Display.Color.GetColor(200, 200, 200);\r\n        rect.isStroked = true;\r\n        rect.lineWidth = 1;\r\n        this.elements.push(rect);\r\n\r\n        this.elements.push(ctx.add.bitmapText(this.x + 200, this.y + 10, \"fontLarge\",\r\n            title, 20, 1).setOrigin(0.5).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 200, this.y + 25,\r\n            \"fontSmall\", text, 16, 1).setOrigin(0.5, 0).setDepth(999));\r\n\r\n        // skip cost display for maxed buildings\r\n        if (this.bld.IsMaxed()) {\r\n            return;\r\n        }\r\n        var idx = 0;\r\n        for (var i = 0; i < costs.length; i++) {\r\n            if (costs[i] > 0) {\r\n                var x = this.x + 90 + (idx % 2) * 170;\r\n                var y = this.y + textHeight + Math.floor(idx / 2) * 20;\r\n                var img = ctx.add.image(x + 8, y + 8, RESOURCE_TEXTURES[i].sprite,\r\n                    RESOURCE_TEXTURES[i].tile).setOrigin(0.5).setDepth(999);\r\n                img.displayWidth = 16;\r\n                img.displayHeight = 16;\r\n                this.elements.push(img);\r\n                var txt = ctx.add.bitmapText(x + 20, y, \"fontSmall\",\r\n                    _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(costs[i]), 16, 1).setDepth(999);\r\n                txt.setTint(costs[i] > playerRes[i] ? Phaser.Display.Color.GetColor(200, 0, 0) :\r\n                    Phaser.Display.Color.GetColor(255, 255, 255));\r\n                this.elements.push(txt);\r\n                idx += 1;\r\n            }\r\n        }\r\n        // do parent icon if needed\r\n        if (this.bld.parent !== undefined) {\r\n            var x = this.x + 90 + (idx % 2) * 170;\r\n            var y = this.y + textHeight + Math.floor(idx / 2) * 20;\r\n            var parent = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_1__[\"TownManager\"].getInstance().buildings[this.bld.parent];\r\n            var img = ctx.add.image(x + 8, y + 8, parent.texture.sprite,\r\n                parent.texture.tile).setOrigin(0.5).setDepth(999);\r\n            img.displayWidth = 16;\r\n            img.displayHeight = 16;\r\n            this.elements.push(img);\r\n            var txt = ctx.add.bitmapText(x + 20, y, \"fontSmall\",\r\n                \"Lv\" + _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(this.bld.level + 1), 16, 1).setDepth(999);\r\n            txt.setTint(parent.level <= this.bld.level ? Phaser.Display.Color.GetColor(200, 0, 0) :\r\n                Phaser.Display.Color.GetColor(255, 255, 255));\r\n            this.elements.push(txt);\r\n        }\r\n\r\n    }\r\n\r\n    setVisible(visible) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(visible);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/tooltips/BuildingTooltip.js?");

/***/ }),

/***/ "./src/ui/tooltips/CreatureTooltip.js":
/*!********************************************!*\
  !*** ./src/ui/tooltips/CreatureTooltip.js ***!
  \********************************************/
/*! exports provided: CreatureTooltip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreatureTooltip\", function() { return CreatureTooltip; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n\r\n\r\n\r\nclass CreatureTooltip {\r\n    constructor(creature, x, y) {\r\n        this.creature = creature;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.elements = [];\r\n    }\r\n\r\n    _imgHelper(ctx, x, y, texture, w, h) {\r\n        var img = ctx.add.image(x, y, texture.sprite, texture.tile).setOrigin(0).setDepth(999);\r\n        img.displayWidth = w;\r\n        img.displayHeight = h;\r\n        return img;\r\n    }\r\n\r\n    create(ctx) {\r\n        var rect = ctx.add.rectangle(this.x, this.y, 220, 160,\r\n            Phaser.Display.Color.GetColor(16, 16, 32)).setOrigin(0).setDepth(999);\r\n        rect.strokeColor = Phaser.Display.Color.GetColor(200, 200, 200);\r\n        rect.isStroked = true;\r\n        rect.lineWidth = 1;\r\n        this.elements.push(rect);\r\n\r\n        this.elements.push(ctx.add.bitmapText(this.x + 110, this.y + 5, \"fontLarge\",\r\n            this.creature.name, 20, 1).setOrigin(0.5, 0).setDepth(999));\r\n\r\n        this.elements.push(this._imgHelper(ctx, this.x + 5, this.y + 30, { sprite: \"icons\", tile: 0 }, 16, 16));\r\n        this.elements.push(this._imgHelper(ctx, this.x + 5, this.y + 50, { sprite: \"icons\", tile: 1 }, 16, 16));\r\n        this.elements.push(this._imgHelper(ctx, this.x + 5, this.y + 70, { sprite: \"icons\", tile: 2 }, 16, 16));\r\n        this.elements.push(this._imgHelper(ctx, this.x + 5, this.y + 90, { sprite: \"icons\", tile: 3 }, 16, 16));\r\n        this.elements.push(this._imgHelper(ctx, this.x + 5, this.y + 110, { sprite: \"icons\", tile: 4 }, 16, 16));\r\n        this.elements.push(this._imgHelper(ctx, this.x + 5, this.y + 130, { sprite: \"icons\", tile: 5 }, 16, 16));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 25, this.y + 30, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.Strength()), 16, 1).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 25, this.y + 50, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.Dexterity()), 16, 1).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 25, this.y + 70, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.Stamina()), 16, 1).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 25, this.y + 90, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.Arcane()), 16, 1).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 25, this.y + 110, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.Defense()), 16, 1).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 25, this.y + 130, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.Offense()), 16, 1).setDepth(999));\r\n\r\n        this.elements.push(this._imgHelper(ctx, this.x + 115, this.y + 30, { sprite: \"icons\", tile: 7 }, 16, 16));\r\n        this.elements.push(this._imgHelper(ctx, this.x + 115, this.y + 50, { sprite: \"icons\", tile: 8 }, 16, 16));\r\n        this.elements.push(this._imgHelper(ctx, this.x + 115, this.y + 70, { sprite: \"icons\", tile: 12 }, 16, 16));\r\n        this.elements.push(this._imgHelper(ctx, this.x + 115, this.y + 90, { sprite: \"icons\", tile: 33 }, 16, 16));\r\n        this.elements.push(this._imgHelper(ctx, this.x + 115, this.y + 110, { sprite: \"icons\", tile: 6 }, 16, 16));\r\n        this.elements.push(this._imgHelper(ctx, this.x + 115, this.y + 130, { sprite: \"icons\", tile: 15 }, 16, 16));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 135, this.y + 30, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.MaxHealth()), 16, 1).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 135, this.y + 50, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.Armor()), 16, 1).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 135, this.y + 70, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.Warding()), 16, 1).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 135, this.y + 90, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.AttackSpeed() / 1000.0, true) + \"s\", 16, 1).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 135, this.y + 110, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.MinDamage()) + '-' +\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.MaxDamage()), 16, 1).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 135, this.y + 130, \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].numberString(this.creature.CritChance() * 100, true) + \"%\", 16, 1).setDepth(999));\r\n    }\r\n\r\n    setVisible(visible) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(visible);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/tooltips/CreatureTooltip.js?");

/***/ }),

/***/ "./src/ui/tooltips/PerkTooltip.js":
/*!****************************************!*\
  !*** ./src/ui/tooltips/PerkTooltip.js ***!
  \****************************************/
/*! exports provided: PerkTooltip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PerkTooltip\", function() { return PerkTooltip; });\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _data_resources_Strings__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/resources/Strings */ \"./src/data/resources/Strings.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n\r\n\r\n\r\n\r\n\r\nclass PerkTooltip {\r\n    constructor(perk, x, y) {\r\n        this.elements = [];\r\n        this.perk = perk;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    create(ctx) {\r\n        var title = this.perk.name;\r\n        var text = _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].processText(_data_resources_Strings__WEBPACK_IMPORTED_MODULE_2__[\"Strings\"].PerkDescriptions(this.perk), 48);\r\n\r\n        var textHeight = 30 + text.split('\\n').length * 18;\r\n        var resHeight = 0;\r\n        if (this.perk.IsMaxed() === false) {\r\n            resHeight = 30;\r\n        }\r\n        var reqHeight = 0;\r\n        var reqtxt = \"\";\r\n        if (_data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__[\"RebirthManager\"].getInstance().HasUnlockedPerk(this.perk) === false) {\r\n            reqtxt = _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].processText(_data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_1__[\"RebirthManager\"].getInstance().GetRequirementsText(this.perk));\r\n            reqHeight = 10 + text.split('\\n').length * 18;\r\n        }\r\n        var height = 10 + textHeight + resHeight + reqHeight;\r\n        var rect = ctx.add.rectangle(this.x, this.y, 400, height,\r\n            Phaser.Display.Color.GetColor(16, 16, 32)).setOrigin(0).setDepth(999);\r\n        rect.strokeColor = Phaser.Display.Color.GetColor(200, 200, 200);\r\n        rect.isStroked = true;\r\n        rect.lineWidth = 1;\r\n        this.elements.push(rect);\r\n\r\n        this.elements.push(ctx.add.bitmapText(this.x + 200, this.y + 10, \"fontLarge\",\r\n            title, 20, 1).setOrigin(0.5).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + 200, this.y + 25,\r\n            \"fontSmall\", text, 16, 1).setOrigin(0.5, 0).setDepth(999));\r\n\r\n        if (resHeight !== 0) {\r\n            var img = ctx.add.image(this.x + 180, this.y + 10 + textHeight, \"icons\", 32).setOrigin(0.5, 0).setDepth(999);\r\n            img.displayWidth = 16;\r\n            img.displayHeight = 16;\r\n            this.elements.push(img);\r\n            var txt = ctx.add.bitmapText(this.x + 200, this.y + 10 + textHeight, \"fontSmall\",\r\n                _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(this.perk.GetCost()), 16, 1).setDepth(999);\r\n            txt.setTint(this.perk.GetCost() > _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance().motes ? Phaser.Display.Color.GetColor(200, 0, 0) :\r\n                Phaser.Display.Color.GetColor(255, 255, 255));\r\n            this.elements.push(txt);\r\n        }\r\n\r\n        if (reqHeight !== 0) {\r\n            var txt = ctx.add.bitmapText(this.x + 200, this.y + 10 + textHeight + resHeight, \"fontSmall\",\r\n                reqtxt, 16, 1).setOrigin(0.5, 0).setDepth(999);\r\n            txt.setTint(Phaser.Display.Color.GetColor(200, 0, 0));\r\n            this.elements.push(txt);\r\n        }\r\n    }\r\n\r\n    setVisible(visible) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(visible);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/tooltips/PerkTooltip.js?");

/***/ }),

/***/ "./src/ui/tooltips/Tooltip.js":
/*!************************************!*\
  !*** ./src/ui/tooltips/Tooltip.js ***!
  \************************************/
/*! exports provided: Tooltip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Tooltip\", function() { return Tooltip; });\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n\r\n\r\n\r\nclass Tooltip {\r\n    constructor(title, text, x, y, width) {\r\n        this.elements = [];\r\n        this.title = title;\r\n        this.text = _utils_Common__WEBPACK_IMPORTED_MODULE_0__[\"Common\"].processText(text, Math.floor((width - 10) / 8));\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = 30 + this.text.split('\\n').length * 18;\r\n    }\r\n\r\n    create(ctx) {\r\n        var rect = ctx.add.rectangle(this.x, this.y, this.width, this.height,\r\n            Phaser.Display.Color.GetColor(16, 16, 32)).setOrigin(0).setDepth(999);\r\n            rect.strokeColor = Phaser.Display.Color.GetColor(200, 200, 200);\r\n        rect.isStroked = true;\r\n        rect.lineWidth = 1;\r\n        this.elements.push(rect);\r\n\r\n        this.elements.push(ctx.add.bitmapText(this.x + this.width / 2, this.y + 10, \"fontLarge\",\r\n            this.title, 20, 1).setOrigin(0.5).setDepth(999));\r\n        this.elements.push(ctx.add.bitmapText(this.x + this.width / 2, this.y + 5 + this.height / 2,\r\n            \"fontSmall\", this.text, 16, 1).setOrigin(0.5).setDepth(999));\r\n    }\r\n\r\n    setVisible(visible) {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(visible);\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/tooltips/Tooltip.js?");

/***/ }),

/***/ "./src/ui/tooltips/TooltipImage.js":
/*!*****************************************!*\
  !*** ./src/ui/tooltips/TooltipImage.js ***!
  \*****************************************/
/*! exports provided: TooltipImage */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TooltipImage\", function() { return TooltipImage; });\n/* harmony import */ var _TooltipOverlay__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./TooltipOverlay */ \"./src/ui/tooltips/TooltipOverlay.js\");\n/* harmony import */ var _Tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Tooltip */ \"./src/ui/tooltips/Tooltip.js\");\n\r\n\r\n\r\nclass TooltipImage {\r\n    constructor(scene, x, y, width, height, texture, title, tooltip, textWidth = 350, depth = 0) {\r\n        this.backRect = scene.add.rectangle(x, y, width, height, 0x000000).setOrigin(0, 0).setDepth(depth);\r\n        this.backRect.isStroked = true;\r\n        this.backRect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        this.backRect.lineWidth = 1;\r\n        this.img = scene.add.image(x + width / 2, y + height / 2, texture.sprite, texture.tile).setOrigin(0.5).setDepth(depth);\r\n        this.img.displayWidth = width;\r\n        this.img.displayHeight = height;\r\n        this.scene = scene;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.size = [textWidth, 130];\r\n        this.textWidth = Math.floor(textWidth / 9);\r\n        this.title = title;\r\n        this.tooltip = tooltip;\r\n        this.clickCallback = undefined;\r\n\r\n        this.backRect.setInteractive({ useHandCursor: true })\r\n            .on(\"pointerdown\", () => { if (this.clickCallback !== undefined) { this.clickCallback(); } })\r\n            .on(\"pointerover\", () => { this._showTooltip(); })\r\n    }\r\n\r\n    onClickHandler(callback) {\r\n        this.clickCallback = callback;\r\n        return this;\r\n    }\r\n\r\n    setImage(img) {\r\n        this.img.setTexture(img.sprite, img.tile);\r\n    }\r\n\r\n    setTint(clr) {\r\n        this.img.setTint(clr);\r\n    }\r\n    clearTint() {\r\n        this.img.clearTint();\r\n    }\r\n\r\n    setPosition(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.backRect.setPosition(x, y);\r\n        this.img.setPosition(x + this.width / 2, y + this.height / 2);\r\n    }\r\n\r\n    setTooltip(tooltip) {\r\n        this.tooltip = tooltip;\r\n    }\r\n\r\n    _showTooltip() {\r\n        if (this.tooltip == \"\") {\r\n            return;\r\n        }\r\n        var x = this.x + this.width + (this.x + this.size[0] > 1090 ? -(this.size[0] + this.width) : 0);\r\n        var y = this.y;\r\n        _TooltipOverlay__WEBPACK_IMPORTED_MODULE_0__[\"TooltipOverlay\"].getInstance().SetTooltip(new _Tooltip__WEBPACK_IMPORTED_MODULE_1__[\"Tooltip\"](this.title, this.tooltip, x, y, this.size[0]),\r\n            [this.x, this.y, this.width, this.height]);\r\n    }\r\n\r\n    setVisible(visible) {\r\n        this.backRect.setVisible(visible);\r\n        this.img.setVisible(visible);\r\n    }\r\n\r\n    destroy() {\r\n        this.backRect.destroy();\r\n        this.img.destroy();\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/tooltips/TooltipImage.js?");

/***/ }),

/***/ "./src/ui/tooltips/TooltipOverlay.js":
/*!*******************************************!*\
  !*** ./src/ui/tooltips/TooltipOverlay.js ***!
  \*******************************************/
/*! exports provided: TooltipOverlay */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TooltipOverlay\", function() { return TooltipOverlay; });\n\r\nclass TooltipOverlay {\r\n    constructor() {\r\n        if (!TooltipOverlay.instance) {\r\n            this.ctx = undefined;\r\n\r\n            this.tooltip = undefined;\r\n            // x, y, w, h\r\n            this.tooltipZone = [0, 0, 0, 0];\r\n\r\n            TooltipOverlay.instance = this;\r\n        }\r\n        return TooltipOverlay.instance;\r\n    }\r\n\r\n    static getInstance() {\r\n        if (!TooltipOverlay.instance) {\r\n            return new TooltipOverlay();\r\n        }\r\n        return TooltipOverlay.instance;\r\n    }\r\n\r\n    Init(ctx) {\r\n        this.ctx = ctx;\r\n    }\r\n\r\n\r\n    SetTooltip(newTooltip, area) {\r\n        if (this.ctx === undefined) {\r\n            return;\r\n        }\r\n        if (this.tooltip !== undefined) {\r\n            this.tooltip.destroy();\r\n        }\r\n        this.tooltip = newTooltip;\r\n        this.tooltip.create(this.ctx);\r\n        this.tooltipZone = area;\r\n    }\r\n\r\n    Update() {\r\n        if (this.tooltip !== undefined && this.ctx !== undefined) {\r\n            var pointer = this.ctx.input.activePointer;\r\n\r\n            if (pointer.x < this.tooltipZone[0] || pointer.y < this.tooltipZone[1] ||\r\n                pointer.x > this.tooltipZone[0] + this.tooltipZone[2] ||\r\n                pointer.y > this.tooltipZone[1] + this.tooltipZone[3]) {\r\n                this.tooltip.destroy();\r\n                this.tooltip = undefined;\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/tooltips/TooltipOverlay.js?");

/***/ }),

/***/ "./src/ui/windows/CombatWindow.js":
/*!****************************************!*\
  !*** ./src/ui/windows/CombatWindow.js ***!
  \****************************************/
/*! exports provided: CombatWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CombatWindow\", function() { return CombatWindow; });\n/* harmony import */ var _data_Combat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/Combat */ \"./src/data/Combat.js\");\n/* harmony import */ var _WindowBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./WindowBase */ \"./src/ui/windows/WindowBase.js\");\n/* harmony import */ var _displays_CreatureDisplay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../displays/CreatureDisplay */ \"./src/ui/displays/CreatureDisplay.js\");\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _data_Statics__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../data/Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/managers/WorldManager */ \"./src/data/managers/WorldManager.js\");\n/* harmony import */ var _FloatingDamageText__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../FloatingDamageText */ \"./src/ui/FloatingDamageText.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ProgressBar */ \"./src/ui/ProgressBar.js\");\n/* harmony import */ var _data_resources_Strings__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../data/resources/Strings */ \"./src/data/resources/Strings.js\");\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../data/managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../data/managers/ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass CombatWindow extends _WindowBase__WEBPACK_IMPORTED_MODULE_1__[\"WindowBase\"] {\r\n    constructor(position, size) {\r\n        super(position, size);\r\n\r\n        this.playerFrame = undefined;\r\n        this.enemyFrame = [];\r\n        this.combat = new _data_Combat__WEBPACK_IMPORTED_MODULE_0__[\"Combat\"]();\r\n        this.combat.OnCombatStartHandler((p, m) => { this._combatStart(p, m); });\r\n        this.combat.OnCombatEndHandler((p, m) => { this._combatEnd(p, m); });\r\n        this.floatingText = [];\r\n        this.combatCooldown = _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].COMBAT_COOLDOWN;\r\n        this.restUntilHealed = false;\r\n\r\n        _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance().OnRegionChangedHandler(() => { this._onRegionChanged(); });\r\n        _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance().OnInvasionEndHandler(() => { this._onInvasionEnd(); });\r\n    }\r\n\r\n    enable() {\r\n        super.enable();\r\n        this.Reload();\r\n    }\r\n    disable() {\r\n        super.disable();\r\n        this.playerFrame.setVisible(false);\r\n        for (var i = 0; i < this.floatingText.length; i++) {\r\n            this.floatingText[i].destroy();\r\n        }\r\n        for (var i = 0; i < this.enemyFrame.length; i++) {\r\n            this.enemyFrame[i].destroy();\r\n        }\r\n        this.floatingText = [];\r\n        this.enemyFrame = [];\r\n    }\r\n\r\n    _makeMonsterDisplay(x, y, monster) {\r\n        var display = new _displays_CreatureDisplay__WEBPACK_IMPORTED_MODULE_2__[\"CreatureDisplay\"](this.ctx, x, y);\r\n        display.initWithCreature(monster);\r\n        monster.OnDamageTakenHandler((dmg, dmgType, isCrit) => {\r\n            this._addFloatingText(dmg, dmgType, isCrit, x + 48, y + 20, 1);\r\n        });\r\n        return display;\r\n    }\r\n\r\n    _onRegionChanged() {\r\n        if (this.combatCooldown > 0) {\r\n            this.combatCooldown = 0;\r\n        }\r\n        var world = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance();\r\n        this.exploreBar.setBarColor(world.GetExploreColor());\r\n        this.exploreBar.setFillPercent(world.GetExplorePercent(), world.GetExploreText());\r\n    }\r\n    _onInvasionEnd() {\r\n        var world = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance();\r\n        this.exploreBar.setBarColor(world.GetExploreColor());\r\n        this.exploreBar.setFillPercent(world.GetExplorePercent(), world.GetExploreText());\r\n    }\r\n\r\n    _combatStart(__player, monsters) {\r\n        this.enemyFrame = [];\r\n        var spacing = Math.floor(550 / (monsters.length + 1));\r\n        for (var i = 0; i < monsters.length; i++) {\r\n            this.enemyFrame.push(this._makeMonsterDisplay(this.TransX(280 + spacing * (i + 1)),\r\n                this.TransY((this.size[1] - 96) / 2), monsters[i]));\r\n        }\r\n    }\r\n\r\n    _combatEnd(player, monsters) {\r\n        this.combatCooldown = _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].COMBAT_COOLDOWN;\r\n        for (var i = 0; i < this.enemyFrame.length; i++) {\r\n            this.enemyFrame[i].destroy();\r\n        }\r\n\r\n        if (player.IsDead() === true) {\r\n            _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance().ResetExploreXp();\r\n            this.exploreBar.setFillPercent(_data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance().GetExplorePercent());\r\n            this.restUntilHealed = true;\r\n            return;\r\n        }\r\n        // handle rewards\r\n        var xp = 0;\r\n        var mats = 0;\r\n        var gold = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_10__[\"TownManager\"].getInstance().goldDrop * monsters.length;\r\n        var matMulti = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_10__[\"TownManager\"].getInstance().dropMulti;\r\n        var goldMulti = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_10__[\"TownManager\"].getInstance().goldDropPer;\r\n\r\n        for (var i = 0; i < monsters.length; i++) {\r\n            var xpBonus = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_10__[\"TownManager\"].getInstance().shadeDrop * (1 + (monsters[i].level - 1) / 2);\r\n            xp += monsters[i].xp + xpBonus;\r\n            mats += (monsters[i].materials) * matMulti;\r\n        }\r\n        var rebirth = _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_11__[\"RebirthManager\"].getInstance();\r\n\r\n        xp = xp * (1 + rebirth.perks['shade1'].level * 0.05) * (1 + rebirth.perks['shade2'].level * 0.03) *\r\n            (1 + rebirth.perks['shade3'].level * 0.01);\r\n        mats = mats * (1 + rebirth.perks['drops1'].level * 0.05) * (1 + rebirth.perks['drops2'].level * 0.03) *\r\n            (1 + rebirth.perks['drops3'].level * 0.01);\r\n        gold += mats * goldMulti;\r\n\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_12__[\"ProgressManager\"].getInstance().TrackKills(monsters.length);\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__[\"PlayerManager\"].getInstance().AddResources(xp, mats, gold);\r\n        _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance().TrackBattle();\r\n    }\r\n\r\n    _addFloatingText(dmg, dmgType, isCrit, x, y, direction) {\r\n        x = x + _utils_Common__WEBPACK_IMPORTED_MODULE_7__[\"Common\"].randint(0, 16) - 8;\r\n        y = y + _utils_Common__WEBPACK_IMPORTED_MODULE_7__[\"Common\"].randint(0, 16) - 8;\r\n        var color = 0;\r\n        switch (dmgType) {\r\n            case _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].DMG_PHSYICAL:\r\n                color = Phaser.Display.Color.GetColor(255, 255, 255);\r\n                break;\r\n            case _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].DMG_MAGIC:\r\n                color = Phaser.Display.Color.GetColor(64, 128, 255);\r\n                break;\r\n            case _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].DMG_POISON:\r\n            case _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].DMG_POISON_DOT:\r\n                isCrit = false;\r\n                color = Phaser.Display.Color.GetColor(64, 255, 64);\r\n                break;\r\n            case _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].DMG_FIRE:\r\n                isCrit = false;\r\n                color = Phaser.Display.Color.GetColor(255, 64, 64);\r\n                break;\r\n            case _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].DMG_COLD:\r\n                isCrit = false;\r\n                color = Phaser.Display.Color.GetColor(0, 255, 255);\r\n                break;\r\n            case _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].DMG_LIGHTNING:\r\n                isCrit = false;\r\n                color = Phaser.Display.Color.GetColor(255, 255, 48);\r\n                break;\r\n            case _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].DMG_CURSE:\r\n                isCrit = false;\r\n                color = Phaser.Display.Color.GetColor(128, 96, 96);\r\n                break;\r\n        }\r\n\r\n        if (isCrit === true) {\r\n            this.floatingText.push(new _FloatingDamageText__WEBPACK_IMPORTED_MODULE_6__[\"FloatingDamageText\"](this.ctx, x, y, dmg + \"!\", color, \"fontLarge\", 20, direction));\r\n        } else {\r\n            this.floatingText.push(new _FloatingDamageText__WEBPACK_IMPORTED_MODULE_6__[\"FloatingDamageText\"](this.ctx, x, y, dmg + \"\", color, \"fontSmall\", 16, direction));\r\n        }\r\n    }\r\n\r\n    create(ctx) {\r\n        super.create(ctx);\r\n\r\n        this.playerFrame = new _displays_CreatureDisplay__WEBPACK_IMPORTED_MODULE_2__[\"CreatureDisplay\"](this.ctx, this.TransX(150), this.TransY((this.size[1] - 96) / 2));\r\n        this.playerFrame.initWithCreature(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__[\"PlayerManager\"].getInstance().statBlock);\r\n\r\n        this.exploreBar = new _ProgressBar__WEBPACK_IMPORTED_MODULE_8__[\"ProgressBar\"](this.ctx, this.TransX(10), this.TransY(5), this.size[0] - 20, 16,\r\n            _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance().GetExploreColor(), Phaser.Display.Color.GetColor(32, 32, 32), \"\");\r\n        this.exploreBar.setFillPercent(1, _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance().GetExploreText());\r\n        this.elements.push(this.exploreBar);\r\n\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__[\"PlayerManager\"].getInstance().statBlock.OnDamageTakenHandler((dmg, dmgType, isCrit) => {\r\n            this._addFloatingText(dmg, dmgType, isCrit, this.TransX(198), this.TransY((this.size[1] - 96) / 2) + 24, -1);\r\n        });\r\n    }\r\n\r\n    _updateFloatingText(time) {\r\n        var newList = [];\r\n        for (var i = 0; i < this.floatingText.length; i++) {\r\n            this.floatingText[i].update(time);\r\n            if (this.floatingText[i].canDestroy() === false) {\r\n                newList.push(this.floatingText[i]);\r\n            } else {\r\n                this.floatingText[i].destroy();\r\n            }\r\n        }\r\n        this.floatingText = newList;\r\n    }\r\n\r\n    Reload() {\r\n        this.combat.isActive = false;\r\n        this.combatCooldown = _data_Statics__WEBPACK_IMPORTED_MODULE_4__[\"Statics\"].COMBAT_COOLDOWN;\r\n        for (var i = 0; i < this.enemyFrame.length; i++) {\r\n            this.enemyFrame[i].destroy();\r\n        }\r\n        this.playerFrame.initWithCreature(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__[\"PlayerManager\"].getInstance().statBlock);\r\n        this.playerFrame.setVisible(this.enabled);\r\n    }\r\n\r\n    _explore(time) {\r\n        var world = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance();\r\n        var exploreXp = time * _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_10__[\"TownManager\"].getInstance().exploreSpeed *\r\n            (1 + _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_11__[\"RebirthManager\"].getInstance().perks['explore2'].level * 0.1) *\r\n            (1 + _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_11__[\"RebirthManager\"].getInstance().perks['explore3'].level * 0.05);\r\n        world.AddExploreXp(exploreXp);\r\n        this.exploreBar.setFillPercent(world.GetExplorePercent(), world.GetExploreText());\r\n    }\r\n\r\n    update(time) {\r\n        if (this.enabled === false) {\r\n            return;\r\n        }\r\n        // if we've died we rest until healed before doing anything else\r\n        if (this.restUntilHealed) {\r\n            var player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__[\"PlayerManager\"].getInstance().statBlock\r\n            player.Tick(time, 0, false);\r\n            if (player.health >= player.MaxHealth()) {\r\n                this.restUntilHealed = false;\r\n            }\r\n            this._updateFloatingText(time);\r\n            return;\r\n        }\r\n        if (this.combat.isActive === true) {\r\n            this.combat.update(time);\r\n            this.playerFrame.update();\r\n            for (var i = 0; i < this.enemyFrame.length; i++) {\r\n                this.enemyFrame[i].update();\r\n            }\r\n        } else {\r\n            var world = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_5__[\"WorldManager\"].getInstance();\r\n            _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__[\"PlayerManager\"].getInstance().statBlock.Tick(time, 0, false);\r\n            this.combatCooldown -= time;\r\n            if (this.combatCooldown <= 0) {\r\n                this.combat.BeginCombat(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__[\"PlayerManager\"].getInstance().statBlock, world.GetMonsters());\r\n            }\r\n            this._explore(time);\r\n        }\r\n        this._updateFloatingText(time);\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/windows/CombatWindow.js?");

/***/ }),

/***/ "./src/ui/windows/DungeonWindow.js":
/*!*****************************************!*\
  !*** ./src/ui/windows/DungeonWindow.js ***!
  \*****************************************/
/*! exports provided: DungeonWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DungeonWindow\", function() { return DungeonWindow; });\n/* harmony import */ var _WindowBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WindowBase */ \"./src/ui/windows/WindowBase.js\");\n/* harmony import */ var _displays_DungeonDisplay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../displays/DungeonDisplay */ \"./src/ui/displays/DungeonDisplay.js\");\n/* harmony import */ var _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tooltips/TooltipImage */ \"./src/ui/tooltips/TooltipImage.js\");\n/* harmony import */ var _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../data/managers/WorldManager */ \"./src/data/managers/WorldManager.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../data/managers/ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst REWARD_TEXTURES = [\r\n    { sprite: \"icons\", tile: 0 },\r\n    { sprite: \"icons\", tile: 28 },\r\n    { sprite: \"icons\", tile: 29 },\r\n    { sprite: \"icons\", tile: 30 },\r\n    { sprite: \"icons\", tile: 30 },\r\n    { sprite: \"icons\", tile: 24 },\r\n    { sprite: \"icons\", tile: 80 },\r\n    { sprite: \"icons\", tile: 38 },\r\n    { sprite: \"icons\", tile: 32 },\r\n];\r\n\r\nconst REWARD_DESC = [\r\n    [\"All Attributes\", \"Increases all attributes.\"],\r\n    [\"Materials\", \"Gain Materials each day.\"],\r\n    [\"Shade\", \"Gain Shade each day.\"],\r\n    [\"Gold\", \"Gain gold each day.\"],\r\n    [\"Gold Cap\", \"Increases your gold cap\"],\r\n    [\"Rare Resources\", \"Gain all rare resources each day.\"],\r\n    [\"Mastery\", \"Mastery gained for your equipped gear.\"],\r\n    [\"Economy & Production\", \"Increases your economy and production.\"],\r\n    [\"Motes of Darkness\", \"Motes of Darkness gained on rebirth.\"],\r\n];\r\n\r\nconst REWARD_NAMES = [\r\n    \"All Attributes\",\r\n    \"Materials\",\r\n    \"Shade\",\r\n    \"Gold and Gold Cap\",\r\n    \"Rare Resources\",\r\n    \"Gear Mastery\",\r\n    \"Economy & Production\",\r\n    \"Motes of Darkness\"\r\n]\r\n\r\nclass DungeonWindow extends _WindowBase__WEBPACK_IMPORTED_MODULE_0__[\"WindowBase\"] {\r\n    constructor(position, size) {\r\n        super(position, size);\r\n    }\r\n\r\n    _createDungeonDisplay(dungeon, x, y, idx) {\r\n        var display = new _displays_DungeonDisplay__WEBPACK_IMPORTED_MODULE_1__[\"DungeonDisplay\"](this.ctx, x, y);\r\n        display.InitWithDungeon(dungeon);\r\n        display.onClickHandler(() => { this._enterDungeon(idx); });\r\n        return display;\r\n    }\r\n\r\n    create(ctx) {\r\n        super.create(ctx);\r\n\r\n        _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_3__[\"WorldManager\"].getInstance().OnDungeonCompletedHandler(() => { this._refreshWindow(); });\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__[\"ProgressManager\"].getInstance().OnDungeonUnlockedHandler(() => { this._refreshWindow(); });\r\n\r\n        this._refreshWindow();\r\n    }\r\n\r\n    Reload() {\r\n        this._refreshWindow();\r\n    }\r\n\r\n    _makeHelpTooltip() {\r\n        var helptxt = \"Explore the world to uncover dungeons. Once uncovered, dungeons remain unlocked through rebirths.\\n\\n\" +\r\n            \"Dungeons give powerful rewards, but are much harder than normal regions. Monsters gain up to 3 additional traits \" +\r\n            \"and each dungeon has a monster that can only be encountered there. In addition to this, monsters gain a level \" +\r\n            \"every 10 battles.\\n\\nCompleting a floor gives you 2 Progress Points and a random reward. Rewards scale with \" +\r\n            \"the dungeon's reward power, with harder dungeons giving greater rewards. Once you've earned a reward it's \" +\r\n            \"removed from the reward pool. When 2 rewards are left in the pool it resets.\";\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_2__[\"TooltipImage\"](this.ctx, this.TransX(this.size[0] - 40), this.TransY(8),\r\n            32, 32, { sprite: \"icons\", tile: 37 }, \"Dungeons\", helptxt, 700));\r\n    }\r\n\r\n    _refreshWindow() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n        this.elements = [];\r\n\r\n\r\n        var rect = this.ctx.add.rectangle(this.TransX(0), this.TransY(0), this.size[0], this.size[1],\r\n            Phaser.Display.Color.GetColor(0, 0, 0)).setOrigin(0, 0).setDepth(-1);\r\n        rect.isStroked = true;\r\n        rect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        rect.lineWidth = 1;\r\n        this.elements.push(rect);\r\n\r\n        var world = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_3__[\"WorldManager\"].getInstance();\r\n\r\n        // if the first dungeon hasn't been found, do not show any dungeons\r\n        if (_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__[\"ProgressManager\"].getInstance().permanentUnlocks.dungeonForest === true) {\r\n            var idx = 0;\r\n            var x = this.TransX(10 + Math.floor(idx / 4) * 310);\r\n            var y = this.TransY(10 + (idx % 4) * 135);\r\n            this.elements.push(this._createDungeonDisplay(world.dungeons[0], x, y, 0));\r\n            idx++;\r\n\r\n            if (_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__[\"ProgressManager\"].getInstance().permanentUnlocks.dungeonPlains === true) {\r\n                x = this.TransX(10 + Math.floor(idx / 4) * 310);\r\n                y = this.TransY(10 + (idx % 4) * 135);\r\n                this.elements.push(this._createDungeonDisplay(world.dungeons[1], x, y, 1));\r\n                idx++;\r\n            }\r\n\r\n            if (_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__[\"ProgressManager\"].getInstance().permanentUnlocks.dungeonLake === true) {\r\n                x = this.TransX(10 + Math.floor(idx / 4) * 310);\r\n                y = this.TransY(10 + (idx % 4) * 135);\r\n                this.elements.push(this._createDungeonDisplay(world.dungeons[2], x, y, 2));\r\n                idx++;\r\n            }\r\n\r\n            if (_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__[\"ProgressManager\"].getInstance().permanentUnlocks.dungeonHills === true) {\r\n                x = this.TransX(10 + Math.floor(idx / 4) * 310);\r\n                y = this.TransY(10 + (idx % 4) * 135);\r\n                this.elements.push(this._createDungeonDisplay(world.dungeons[3], x, y, 3));\r\n                idx++;\r\n            }\r\n\r\n            if (_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__[\"ProgressManager\"].getInstance().permanentUnlocks.dungeonSwamp === true) {\r\n                x = this.TransX(10 + Math.floor(idx / 4) * 310);\r\n                y = this.TransY(10 + (idx % 4) * 135);\r\n                this.elements.push(this._createDungeonDisplay(world.dungeons[4], x, y, 4));\r\n                idx++;\r\n            }\r\n\r\n            if (_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__[\"ProgressManager\"].getInstance().permanentUnlocks.dungeonMountain === true) {\r\n                x = this.TransX(10 + Math.floor(idx / 4) * 310);\r\n                y = this.TransY(10 + (idx % 4) * 135);\r\n                this.elements.push(this._createDungeonDisplay(world.dungeons[5], x, y, 5));\r\n                idx++;\r\n            }\r\n        } else {\r\n            this.elements.push(this.ctx.add.bitmapText(this.TransX(310), this.TransY(100), \"fontLarge\",\r\n                \"You have not uncovered any dungeons.\\nExplore the depths of the Forest.\", 20, 1).setOrigin(0.5, 0));\r\n        }\r\n\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(735), this.TransY(45), \"fontLarge\",\r\n            \"DUNGEON REWARDS\", 20, 1).setOrigin(0.5, 0));\r\n\r\n        var prodMulti = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_5__[\"TownManager\"].getInstance().prodMulti;\r\n        var econMulti = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_5__[\"TownManager\"].getInstance().econMulti;\r\n\r\n        var rewardStrings = [\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.earnedRewards.allStats),\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.earnedRewards.mats * prodMulti) + \"/day\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.earnedRewards.shade) + \"/day\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.earnedRewards.gold * econMulti, true) + \"/day\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.earnedRewards.goldCap * econMulti),\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.earnedRewards.allRes * prodMulti, true) + \"/day\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.earnedRewards.mastery),\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.earnedRewards.econProd * 100, true) + \"%\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.earnedRewards.motes),\r\n        ]\r\n\r\n        for (var i = 0; i < REWARD_DESC.length; i++) {\r\n            this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_2__[\"TooltipImage\"](this.ctx, this.TransX(650), this.TransY(70 + i * 20), 16, 16,\r\n                REWARD_TEXTURES[i], REWARD_DESC[i][0], REWARD_DESC[i][1]));\r\n            this.elements.push(this.ctx.add.bitmapText(this.TransX(675), this.TransY(70 + i * 20), \"fontSmall\",\r\n                rewardStrings[i], 16, 1));\r\n\r\n        }\r\n        var txt = \"Each dungeon floor you complete earns you 2 Progress Points and a random reward from this list:\";\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(735), this.TransY(270), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].processText(txt, 25), 16, 1).setOrigin(0.5, 0));\r\n\r\n        for (var i = 0; i < world.dungeonRewards.length; i++) {\r\n            this.elements.push(this.ctx.add.bitmapText(this.TransX(735), this.TransY(370 + i * 20), \"fontSmall\",\r\n                REWARD_NAMES[world.dungeonRewards[i]], 16, 1).setOrigin(0.5, 0));\r\n        }\r\n\r\n        this._makeHelpTooltip();\r\n        if (this.enabled === false) {\r\n            for (var i = 0; i < this.elements.length; i++) {\r\n                this.elements[i].setVisible(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    _enterDungeon(idx) {\r\n        _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_3__[\"WorldManager\"].getInstance().ExploreDungeon(idx);\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/windows/DungeonWindow.js?");

/***/ }),

/***/ "./src/ui/windows/GearWindow.js":
/*!**************************************!*\
  !*** ./src/ui/windows/GearWindow.js ***!
  \**************************************/
/*! exports provided: GearWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GearWindow\", function() { return GearWindow; });\n/* harmony import */ var _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/managers/EquipmentManager */ \"./src/data/managers/EquipmentManager.js\");\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/managers/ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n/* harmony import */ var _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../data/managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _data_Statics__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _displays_GearDisplay__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../displays/GearDisplay */ \"./src/ui/displays/GearDisplay.js\");\n/* harmony import */ var _ProgressBar__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ProgressBar */ \"./src/ui/ProgressBar.js\");\n/* harmony import */ var _TextButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../TextButton */ \"./src/ui/TextButton.js\");\n/* harmony import */ var _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tooltips/TooltipImage */ \"./src/ui/tooltips/TooltipImage.js\");\n/* harmony import */ var _WindowBase__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./WindowBase */ \"./src/ui/windows/WindowBase.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass GearWindow extends _WindowBase__WEBPACK_IMPORTED_MODULE_11__[\"WindowBase\"] {\r\n    constructor(position, size) {\r\n        super(position, size);\r\n        this.weapons = [];\r\n        this.armors = [];\r\n        this.offTrinkets = [];\r\n        this.defTrinkets = [];\r\n        this.selectedGear = [];\r\n\r\n        this.activeGear = undefined;\r\n\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_2__[\"ProgressManager\"].getInstance().OnGearUnlockedHandler((__x) => { this._refreshGear(); });\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().OnResourcesChangedHandler(() => {\r\n            if (this.activeGear !== undefined) {\r\n                this._selectGear(this.activeGear);\r\n            }\r\n        });\r\n    }\r\n\r\n    _makeGearDisplay(gear, x, y) {\r\n        var display = new _displays_GearDisplay__WEBPACK_IMPORTED_MODULE_7__[\"GearDisplay\"](this.ctx, x, y);\r\n        display.SetGear(gear);\r\n        display.onClickHandler(() => {\r\n            _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().Equip(gear);\r\n            this._refreshGear();\r\n            this._selectGear(gear);\r\n        });\r\n        return display;\r\n    }\r\n\r\n    enable() {\r\n        super.enable();\r\n        for (var i = 0; i < this.weapons.length; i++) {\r\n            this.weapons[i].setVisible(true);\r\n        }\r\n        for (var i = 0; i < this.armors.length; i++) {\r\n            this.armors[i].setVisible(true);\r\n        }\r\n        for (var i = 0; i < this.offTrinkets.length; i++) {\r\n            this.offTrinkets[i].setVisible(true);\r\n        }\r\n        for (var i = 0; i < this.defTrinkets.length; i++) {\r\n            this.defTrinkets[i].setVisible(true);\r\n        }\r\n        for (var i = 0; i < this.selectedGear.length; i++) {\r\n            this.selectedGear[i].setVisible(true);\r\n        }\r\n    }\r\n\r\n    disable() {\r\n        super.disable();\r\n        for (var i = 0; i < this.weapons.length; i++) {\r\n            this.weapons[i].setVisible(false);\r\n        }\r\n        for (var i = 0; i < this.armors.length; i++) {\r\n            this.armors[i].setVisible(false);\r\n        }\r\n        for (var i = 0; i < this.offTrinkets.length; i++) {\r\n            this.offTrinkets[i].setVisible(false);\r\n        }\r\n        for (var i = 0; i < this.defTrinkets.length; i++) {\r\n            this.defTrinkets[i].setVisible(false);\r\n        }\r\n        for (var i = 0; i < this.selectedGear.length; i++) {\r\n            this.selectedGear[i].setVisible(false);\r\n        }\r\n    }\r\n\r\n    create(ctx) {\r\n        super.create(ctx);\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(5), this.TransY(5), \"fontLarge\", \"Equipment\", 20, 1));\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(10), this.TransY(30), \"fontSmall\", \"Weapons\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(10), this.TransY(160), \"fontSmall\", \"Armor\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(10), this.TransY(290), \"fontSmall\",\r\n            \"Offensive Trinkets\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(10), this.TransY(420), \"fontSmall\",\r\n            \"Defensive Trinkets\", 16, 1));\r\n\r\n        this._makeHelpTooltip();\r\n        this._refreshGear();\r\n    }\r\n\r\n    _refreshGear() {\r\n\r\n        const gear = _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_0__[\"EquipmentManager\"].getInstance();\r\n\r\n        for (var i = 0; i < this.weapons.length; i++) {\r\n            this.weapons[i].destroy();\r\n        }\r\n        for (var i = 0; i < this.armors.length; i++) {\r\n            this.armors[i].destroy();\r\n        }\r\n        for (var i = 0; i < this.offTrinkets.length; i++) {\r\n            this.offTrinkets[i].destroy();\r\n        }\r\n        for (var i = 0; i < this.defTrinkets.length; i++) {\r\n            this.defTrinkets[i].destroy();\r\n        }\r\n\r\n        this.weapons = [];\r\n        var idx = 0;\r\n        for (const prop in gear.weapons) {\r\n            if (gear.weapons[prop].unlocked === true) {\r\n                var x = 15 + (idx % 10) * 50;\r\n                var y = 50 + Math.floor(idx / 10) * 52;\r\n                this.weapons.push(this._makeGearDisplay(gear.weapons[prop], this.TransX(x), this.TransY(y)));\r\n                idx++;\r\n            }\r\n        }\r\n\r\n        this.armors = [];\r\n        idx = 0;\r\n        for (const prop in gear.armors) {\r\n            if (gear.armors[prop].unlocked === true) {\r\n                var x = 15 + (idx % 10) * 50;\r\n                var y = 180 + Math.floor(idx / 10) * 52;\r\n                this.armors.push(this._makeGearDisplay(gear.armors[prop], this.TransX(x), this.TransY(y)));\r\n                idx++;\r\n            }\r\n        }\r\n\r\n        this.offTrinkets = [];\r\n        idx = 0;\r\n        for (const prop in gear.offTrinkets) {\r\n            if (gear.offTrinkets[prop].unlocked === true) {\r\n                var x = 15 + (idx % 10) * 50;\r\n                var y = 310 + Math.floor(idx / 10) * 52;\r\n                this.offTrinkets.push(this._makeGearDisplay(gear.offTrinkets[prop], this.TransX(x), this.TransY(y)));\r\n                idx++;\r\n            }\r\n        }\r\n\r\n        this.defTrinkets = [];\r\n        idx = 0;\r\n        for (const prop in gear.defTrinkets) {\r\n            if (gear.defTrinkets[prop].unlocked === true) {\r\n                var x = 15 + (idx % 10) * 50;\r\n                var y = 440 + Math.floor(idx / 10) * 52;\r\n                this.defTrinkets.push(this._makeGearDisplay(gear.defTrinkets[prop], this.TransX(x), this.TransY(y)));\r\n                idx++;\r\n            }\r\n        }\r\n\r\n        if (this.enabled === false) {\r\n            this.disable();\r\n        }\r\n    }\r\n\r\n    _enhanceGear(gear) {\r\n        var player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance();\r\n        var costMulti = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_4__[\"TownManager\"].getInstance().forgeCosts;\r\n        var cost = gear.GetEnhanceCosts()\r\n        if (player.CanSpendResources(cost[0] * costMulti, cost[1] * costMulti)) {\r\n            player.SpendResources(cost[0] * costMulti, cost[1] * costMulti);\r\n            _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_2__[\"ProgressManager\"].getInstance().TrackGearSpend(cost[0] * costMulti, cost[1] * costMulti);\r\n            // if gear is equipped, it needs to be uneqipped, upgraded, and re-equipped or else stats get messed up\r\n            if (gear.isEquiped) {\r\n                player.EnhanceEquipment(gear);\r\n            } else {\r\n                gear.Enhance();\r\n            }\r\n            this._selectGear(gear);\r\n            this._refreshGear();\r\n        }\r\n    }\r\n\r\n    _upgradeGear(gear) {\r\n        var player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance();\r\n        var costMulti = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_4__[\"TownManager\"].getInstance().forgeCosts;\r\n        var res = [gear.levelCost[0], gear.levelCost[1], gear.levelCost[2],\r\n        gear.levelCost[3], gear.levelCost[4], gear.levelCost[5]];\r\n        if (player.CanSpendResources(gear.levelCost[6] * costMulti, gear.levelCost[7] * costMulti, 0, res)) {\r\n            player.SpendResources(gear.levelCost[6] * costMulti, gear.levelCost[7] * costMulti, 0, res);\r\n            _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_2__[\"ProgressManager\"].getInstance().TrackGearSpend(gear.levelCost[6] * costMulti, gear.levelCost[7] * costMulti);\r\n            // if gear is equipped, it needs to be uneqipped, upgraded, and re-equipped or else stats get messed up\r\n            if (gear.isEquiped) {\r\n                player.UpgradeEquipment(gear);\r\n            } else {\r\n                gear.LevelUp();\r\n            }\r\n            _data_managers_EquipmentManager__WEBPACK_IMPORTED_MODULE_0__[\"EquipmentManager\"].getInstance().TrackMotesFromUpgrades(gear.level);\r\n            this._selectGear(gear);\r\n            this._refreshGear();\r\n        }\r\n    }\r\n\r\n    _makeHelpTooltip() {\r\n        var helptxt = \"You can Enhance and Upgrade any gear you find while exploring. Once found gear is unlocked \" +\r\n            \"permanently, even through rebirths.\\n\\nEnhancing a gear increases its Quality, up to a max of 100%. \" +\r\n            \"Quality improves the stats of an item by up to 150% at max Quality. Each time you Enhance you earn Mastery XP \" +\r\n            \"and increase the cost.\\n\\nMastery gives a permanent bonus to your gear that stacks with Enhancements and \" +\r\n            \"Upgrades. Each level of Mastery increases the stats of the gear by +1%.\\n\\nUpgrading your gear can only be \" +\r\n            \"done at 100% Quality. Upgrading increases the stats of an item by 1.5x, increasing the cost of Enhancements \" +\r\n            \"and resetting the Quality back to 0%. Be careful with Upgrading! While it makes your gear more powerful in \" +\r\n            \"the long run, it will be slightly weaker after upgrading due to the loss in Quality.\";\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_10__[\"TooltipImage\"](this.ctx, this.TransX(this.size[0] - 40), this.TransY(8),\r\n            32, 32, { sprite: \"icons\", tile: 37 }, \"Gear\", helptxt, 700));\r\n    }\r\n\r\n    Reload() {\r\n        for (var i = 0; i < this.selectedGear.length; i++) {\r\n            this.selectedGear[i].destroy();\r\n        }\r\n        this.selectedGear = [];\r\n\r\n        this._refreshGear();\r\n    }\r\n\r\n    _selectGear(gear) {\r\n        this.activeGear = gear;\r\n        for (var i = 0; i < this.selectedGear.length; i++) {\r\n            this.selectedGear[i].destroy();\r\n        }\r\n        this.selectedGear = [];\r\n\r\n        var img = this.ctx.add.image(this.TransX(725), this.TransY(40), gear.texture.sprite, gear.texture.tile).setOrigin(0.5);\r\n        img.displayWidth = 64;\r\n        img.displayHeight = 64;\r\n        this.selectedGear.push(img);\r\n        this.selectedGear.push(this.ctx.add.bitmapText(this.TransX(605), this.TransY(80), \"fontLarge\", gear.GetName(), 20, 1));\r\n        this.selectedGear.push(this.ctx.add.bitmapText(this.TransX(605), this.TransY(105), \"fontSmall\", \"Quality:\", 16, 1));\r\n        var enhanceMeter = new _ProgressBar__WEBPACK_IMPORTED_MODULE_8__[\"ProgressBar\"](this.ctx, this.TransX(700), this.TransY(105), 140, 16,\r\n            Phaser.Display.Color.GetColor(200, 0, 200), Phaser.Display.Color.GetColor(32, 32, 32), \"\");\r\n        enhanceMeter.setFillPercent(gear.enhancement / 100, gear.enhancement + \"%\");\r\n        this.selectedGear.push(enhanceMeter);\r\n        this.selectedGear.push(this.ctx.add.bitmapText(this.TransX(605), this.TransY(125), \"fontSmall\",\r\n            \"Mastery XP:\", 16, 1));\r\n        var masteryMeter = new _ProgressBar__WEBPACK_IMPORTED_MODULE_8__[\"ProgressBar\"](this.ctx, this.TransX(700), this.TransY(125), 140, 16,\r\n            Phaser.Display.Color.GetColor(200, 150, 0), Phaser.Display.Color.GetColor(32, 32, 32), \"\");\r\n        masteryMeter.setFillPercent(gear.masteryXp / gear.masteryXpNext, _utils_Common__WEBPACK_IMPORTED_MODULE_6__[\"Common\"].numberString(gear.masteryXp) + \"/\" +\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_6__[\"Common\"].numberString(gear.masteryXpNext));\r\n        this.selectedGear.push(this.ctx.add.bitmapText(this.TransX(605), this.TransY(145), \"fontSmall\",\r\n            \"Mastery: +\" + _utils_Common__WEBPACK_IMPORTED_MODULE_6__[\"Common\"].numberString(gear.masteryLevel) + \"%\", 16, 1));\r\n        this.selectedGear.push(masteryMeter);\r\n        var txt = _utils_Common__WEBPACK_IMPORTED_MODULE_6__[\"Common\"].processText(gear.GetTextDetails(), 28);\r\n        var tmp = this.ctx.add.bitmapText(this.TransX(725), this.TransY(170), \"fontSmall\", txt, 16, 1).setOrigin(0.5, 0);\r\n        this.selectedGear.push(tmp);\r\n\r\n        var h = 190 + tmp.getTextBounds().local.height;\r\n\r\n        var costMulti = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_4__[\"TownManager\"].getInstance().forgeCosts;\r\n        var resourcesNeeded = [];\r\n        var playerRes = [];\r\n        if (gear.enhancement < 100) {\r\n            var cost = gear.GetEnhanceCosts();\r\n            resourcesNeeded.push([{ sprite: 'icons', tile: 29 }, cost[0] * costMulti]);\r\n            resourcesNeeded.push([{ sprite: 'icons', tile: 28 }, cost[1] * costMulti]);\r\n            playerRes.push(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().shade);\r\n            playerRes.push(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().materials);\r\n        } else {\r\n            for (var i = 0; i < 6; i++) {\r\n                if (gear.levelCost[i] > 0) {\r\n                    resourcesNeeded.push([{ sprite: 'icons', tile: 22 + i }, gear.levelCost[i]]);\r\n                    playerRes.push(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().resources[i]);\r\n                }\r\n            }\r\n            resourcesNeeded.push([{ sprite: 'icons', tile: 29 }, gear.levelCost[6] * costMulti]);\r\n            resourcesNeeded.push([{ sprite: 'icons', tile: 28 }, gear.levelCost[7] * costMulti]);\r\n            playerRes.push(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().shade);\r\n            playerRes.push(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_1__[\"PlayerManager\"].getInstance().materials);\r\n        }\r\n\r\n        for (var i = 0; i < resourcesNeeded.length; i++) {\r\n            var x = this.TransX(625 + (i % 2) * 110);\r\n            var y = this.TransY(h + Math.floor(i / 2) * 20);\r\n            img = this.ctx.add.image(x + 8, y + 8, resourcesNeeded[i][0].sprite, resourcesNeeded[i][0].tile).setOrigin(0.5);\r\n            img.displayWidth = 16;\r\n            img.displayHeight = 16;\r\n            this.selectedGear.push(img);\r\n            var txt = this.ctx.add.bitmapText(x + 20, y, \"fontSmall\", _utils_Common__WEBPACK_IMPORTED_MODULE_6__[\"Common\"].numberString(resourcesNeeded[i][1]), 16, 1);\r\n            txt.setTint(resourcesNeeded[i][1] > playerRes[i] ? Phaser.Display.Color.GetColor(200, 0, 0) :\r\n                Phaser.Display.Color.GetColor(255, 255, 255));\r\n            this.selectedGear.push(txt);\r\n        }\r\n\r\n        h += 10 + Math.ceil(resourcesNeeded.length / 2) * 20;\r\n\r\n        if (gear.enhancement < 100) {\r\n            var btn = new _TextButton__WEBPACK_IMPORTED_MODULE_9__[\"TextButton\"](this.ctx, this.TransX(620), this.TransY(h), 210, 30, \"Enhance\");\r\n            btn.onClickHandler(() => { this._enhanceGear(gear); });\r\n            var base = 150 + _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_3__[\"RebirthManager\"].getInstance().perks['enhance1'].level * 5;\r\n            this.selectedGear.push(btn);\r\n            this.selectedGear.push(this.ctx.add.bitmapText(this.TransX(605), this.TransY(h + 40), \"fontSmall\",\r\n                _utils_Common__WEBPACK_IMPORTED_MODULE_6__[\"Common\"].processText(\"Enhance this gear, improving its quality by \" + _data_Statics__WEBPACK_IMPORTED_MODULE_5__[\"Statics\"].ENHANCEMENT_BASE + \"%. \" +\r\n                    \"Quality improves a gear's stats, up to a +\" + base + \"% bonus at 100% quality. \" +\r\n                    \"Gear can be upgraded at 100% Quality.\", 30), 16, 1));\r\n        } else {\r\n            var btn = new _TextButton__WEBPACK_IMPORTED_MODULE_9__[\"TextButton\"](this.ctx, this.TransX(620), this.TransY(h), 210, 30, \"Upgrade\");\r\n            btn.onClickHandler(() => { this._upgradeGear(gear); });\r\n            var base = _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_3__[\"RebirthManager\"].getInstance().perks['enhance3'].level;\r\n            this.selectedGear.push(btn);\r\n            this.selectedGear.push(this.ctx.add.bitmapText(this.TransX(605), this.TransY(h + 40), \"fontSmall\",\r\n                _utils_Common__WEBPACK_IMPORTED_MODULE_6__[\"Common\"].processText(\"Upgrade your gear, improving the base stats by 50% (multiplicative \" +\r\n                    \"with previous Upgrades) but resetting the Quality to \" + base + \"%.\", 30), 16, 1));\r\n        }\r\n\r\n        if (this.enabled === false) {\r\n            for (var i = 0; i < this.selectedGear.length; i++) {\r\n                this.selectedGear[i].setVisible(false);\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/windows/GearWindow.js?");

/***/ }),

/***/ "./src/ui/windows/RebirthWindow.js":
/*!*****************************************!*\
  !*** ./src/ui/windows/RebirthWindow.js ***!
  \*****************************************/
/*! exports provided: RebirthWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RebirthWindow\", function() { return RebirthWindow; });\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/managers/ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n/* harmony import */ var _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _displays_PerkDisplay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../displays/PerkDisplay */ \"./src/ui/displays/PerkDisplay.js\");\n/* harmony import */ var _TextButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../TextButton */ \"./src/ui/TextButton.js\");\n/* harmony import */ var _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tooltips/TooltipImage */ \"./src/ui/tooltips/TooltipImage.js\");\n/* harmony import */ var _WindowBase__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./WindowBase */ \"./src/ui/windows/WindowBase.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass RebirthWindow extends _WindowBase__WEBPACK_IMPORTED_MODULE_7__[\"WindowBase\"] {\r\n    constructor(position, size) {\r\n        super(position, size);\r\n\r\n        this.perks = [];\r\n\r\n        this.onRebirth = [];\r\n        this.onClose = [];\r\n    }\r\n\r\n    _createPerkDisplay(perk, x, y) {\r\n        var display = new _displays_PerkDisplay__WEBPACK_IMPORTED_MODULE_4__[\"PerkDisplay\"](this.ctx, x, y);\r\n        display.InitWithPerk(perk);\r\n        display.onClickHandler(() => { this._levelPerk(perk); });\r\n        display.UpdateBorder();\r\n        return display;\r\n    }\r\n\r\n    _levelPerk(perk) {\r\n        if (_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_1__[\"ProgressManager\"].getInstance().currentlyRebirthing === false) {\r\n            return;\r\n        }\r\n        if (_data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_2__[\"RebirthManager\"].getInstance().HasUnlockedPerk(perk) === false) {\r\n            return;\r\n        }\r\n        if (perk.IsMaxed() === true) {\r\n            return;\r\n        }\r\n        if (_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance().motes < perk.GetCost()) {\r\n            return;\r\n        }\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance().SpendMotes(perk.GetCost());\r\n        perk.LevelUp();\r\n        this._refreshPerks();\r\n        this.moteLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance().motes));\r\n    }\r\n\r\n    enable() {\r\n        super.enable();\r\n        for (var i = 0; i < this.perks.length; i++) {\r\n            this.perks[i].setVisible(true);\r\n        }\r\n        this.moteLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance().motes));\r\n        this.closeBtn.setText(_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_1__[\"ProgressManager\"].getInstance().currentlyRebirthing ? \"REBIRTH\" : \"CLOSE\");\r\n    }\r\n\r\n    disable() {\r\n        super.disable();\r\n        for (var i = 0; i < this.perks.length; i++) {\r\n            this.perks[i].setVisible(false);\r\n        }\r\n    }\r\n\r\n    create(ctx) {\r\n        super.create(ctx);\r\n\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_6__[\"TooltipImage\"](this.ctx, this.TransX(0) + this.size[0] / 2 - 24, this.TransY(20),\r\n            48, 48, { sprite: 'icons', tile: 32 }, \"Motes of Darkness\", \"The condensed hearts of monsters. \" +\r\n        \"Earned on rebirth and used to unlock powerful perks.\"));\r\n        this.moteLabel = this.ctx.add.bitmapText(this.TransX(0) + this.size[0] / 2, this.TransY(80), \"fontLarge\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(_data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance().motes), 20, 1).setOrigin(0.5, 0);\r\n        this.elements.push(this.moteLabel);\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(225), this.TransY(120), \"fontLarge\",\r\n            \"Attributes\", 20, 1).setOrigin(0.5, 0));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(555), this.TransY(120), \"fontLarge\",\r\n            \"Loot\", 20, 1).setOrigin(0.5, 0));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(855), this.TransY(120), \"fontLarge\",\r\n            \"Town\", 20, 1).setOrigin(0.5, 0));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(555), this.TransY(360), \"fontLarge\",\r\n            \"Resources\", 20, 1).setOrigin(0.5, 0));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(225), this.TransY(480), \"fontLarge\",\r\n            \"Elements\", 20, 1).setOrigin(0.5, 0));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(555), this.TransY(540), \"fontLarge\",\r\n            \"Equipment\", 20, 1).setOrigin(0.5, 0));\r\n\r\n        this.closeBtn = new _TextButton__WEBPACK_IMPORTED_MODULE_5__[\"TextButton\"](this.ctx, this.TransX(0) + this.size[0] / 2 - 60, this.TransY(750), 120, 30, \"REBIRTH\");\r\n        this.closeBtn.onClickHandler(() => { this._onRebirthEvents(); });\r\n        this.elements.push(this.closeBtn);\r\n\r\n        this._refreshPerks();\r\n    }\r\n\r\n    OnRebirthHandler(callback) {\r\n        this.onRebirth.push(callback);\r\n    }\r\n    OnCloseHandler(callback) {\r\n        this.onClose.push(callback);\r\n    }\r\n\r\n    _onRebirth() {\r\n        for (var i = 0; i < this.onRebirth.length; i++) {\r\n            this.onRebirth[i]();\r\n        }\r\n    }\r\n    _onClose() {\r\n        for (var i = 0; i < this.onClose.length; i++) {\r\n            this.onClose[i]();\r\n        }\r\n    }\r\n\r\n    _onRebirthEvents() {\r\n        if (_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_1__[\"ProgressManager\"].getInstance().currentlyRebirthing === true) {\r\n            this._onRebirth();\r\n        } else {\r\n            this._onClose();\r\n        }\r\n    }\r\n\r\n    Reload() {\r\n        this._refreshPerks();\r\n    }\r\n\r\n    _refreshPerks() {\r\n        for (var i = 0; i < this.perks.length; i++) {\r\n            this.perks[i].destroy();\r\n        }\r\n        this.perks = [];\r\n\r\n        var rebirth = _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_2__[\"RebirthManager\"].getInstance();\r\n\r\n        for (const prop in rebirth.perks) {\r\n            var x = this.TransX(50 + 60 * rebirth.perks[prop].position[0]);\r\n            var y = this.TransX(150 + 60 * rebirth.perks[prop].position[1]);\r\n            this.perks.push(this._createPerkDisplay(rebirth.perks[prop], x, y));\r\n        }\r\n\r\n        if (this.enabled === false) {\r\n            for (var i = 0; i < this.perks.length; i++) {\r\n                this.perks[i].setVisible(false);\r\n            }\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/windows/RebirthWindow.js?");

/***/ }),

/***/ "./src/ui/windows/RegionWindow.js":
/*!****************************************!*\
  !*** ./src/ui/windows/RegionWindow.js ***!
  \****************************************/
/*! exports provided: RegionWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"RegionWindow\", function() { return RegionWindow; });\n/* harmony import */ var _WindowBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WindowBase */ \"./src/ui/windows/WindowBase.js\");\n/* harmony import */ var _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tooltips/TooltipImage */ \"./src/ui/tooltips/TooltipImage.js\");\n/* harmony import */ var _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/managers/WorldManager */ \"./src/data/managers/WorldManager.js\");\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/resources/Strings */ \"./src/data/resources/Strings.js\");\n/* harmony import */ var _particles_Particle__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../particles/Particle */ \"./src/ui/particles/Particle.js\");\n/* harmony import */ var _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../data/managers/ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n/* harmony import */ var _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../data/managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _data_Statics__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../data/Statics */ \"./src/data/Statics.js\");\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst REGION_PLACEMENTS = [[20, 7], [17, 13], [3, 9], [13, 3], [9, 13], [5, 4], [12, 8]];\r\nconst INVASION_TEXTURES = [{ sprite: 'icons', tile: 34 }, { sprite: 'icons', tile: 35 }];\r\nconst REBIRTH_POS = [14, 9];\r\n\r\nclass RegionWindow extends _WindowBase__WEBPACK_IMPORTED_MODULE_0__[\"WindowBase\"] {\r\n    constructor(position, size) {\r\n        super(position, size);\r\n\r\n        this.invasionRegion = 0;\r\n        this.invasionActive = false;\r\n        this.invasionParticles = [];\r\n        this.emitterTimer = 0;\r\n    }\r\n\r\n    enable() {\r\n        super.enable();\r\n        for (var i = 0; i < this.invasionParticles.length; i++) {\r\n            this.invasionParticles[i].setVisible(true);\r\n        }\r\n        this.rebirthBtn.setVisible(_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__[\"ProgressManager\"].getInstance().ShouldShowRebirth());\r\n    }\r\n\r\n    disable() {\r\n        super.disable();\r\n        for (var i = 0; i < this.invasionParticles.length; i++) {\r\n            this.invasionParticles[i].setVisible(false);\r\n        }\r\n    }\r\n\r\n    create(ctx) {\r\n        super.create(ctx);\r\n\r\n        const world = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_2__[\"WorldManager\"].getInstance();\r\n\r\n        var map = this.ctx.add.image(this.TransX(0), this.TransY(0), \"map\", 0).setOrigin(0).setDepth(-1);\r\n        map.displayWidth = 850;\r\n        map.displayHeight = 550;\r\n        this.elements.push(map);\r\n\r\n        this.forestBtn = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(REGION_PLACEMENTS[0][0] * 32), this.TransY(REGION_PLACEMENTS[0][1] * 32),\r\n            32, 32, { sprite: \"icons\", tile: 31 }, \"Forest\", world.GetTooltip(0), 350, 10);\r\n        this.forestBtn.onClickHandler(() => { world.SetActiveRegion(0); });\r\n        this.elements.push(this.forestBtn);\r\n        this.plainsBtn = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(REGION_PLACEMENTS[1][0] * 32), this.TransY(REGION_PLACEMENTS[1][1] * 32),\r\n            32, 32, { sprite: \"icons\", tile: 31 }, \"Plains\", world.GetTooltip(1), 350, 10);\r\n        this.plainsBtn.onClickHandler(() => { world.SetActiveRegion(1); });\r\n        this.elements.push(this.plainsBtn);\r\n        this.mountainBtn = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(REGION_PLACEMENTS[2][0] * 32), this.TransY(REGION_PLACEMENTS[2][1] * 32),\r\n            32, 32, { sprite: \"icons\", tile: 31 }, \"Mountain\", world.GetTooltip(2), 350, 10);\r\n        this.mountainBtn.onClickHandler(() => { world.SetActiveRegion(2); });\r\n        this.elements.push(this.mountainBtn);\r\n        this.swampBtn = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(REGION_PLACEMENTS[3][0] * 32), this.TransY(REGION_PLACEMENTS[3][1] * 32),\r\n            32, 32, { sprite: \"icons\", tile: 31 }, \"Swamp\", world.GetTooltip(3), 350, 10);\r\n        this.swampBtn.onClickHandler(() => { world.SetActiveRegion(3); });\r\n        this.elements.push(this.swampBtn);\r\n        this.hillsBtn = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(REGION_PLACEMENTS[4][0] * 32), this.TransY(REGION_PLACEMENTS[4][1] * 32),\r\n            32, 32, { sprite: \"icons\", tile: 31 }, \"Hills\", world.GetTooltip(4), 350, 10);\r\n        this.hillsBtn.onClickHandler(() => { world.SetActiveRegion(4); });\r\n        this.elements.push(this.hillsBtn);\r\n        this.lakeBtn = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(REGION_PLACEMENTS[5][0] * 32), this.TransY(REGION_PLACEMENTS[5][1] * 32),\r\n            32, 32, { sprite: \"icons\", tile: 31 }, \"Lake\", world.GetTooltip(5), 350, 10);\r\n        this.lakeBtn.onClickHandler(() => { world.SetActiveRegion(5); });\r\n        this.elements.push(this.lakeBtn);\r\n        this.patrolBtn = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(REGION_PLACEMENTS[6][0] * 32), this.TransY(REGION_PLACEMENTS[6][1] * 32),\r\n            32, 32, { sprite: \"icons\", tile: 48 }, \"Patrol\", world.GetTooltip(-1), 350, 10);\r\n        this.patrolBtn.onClickHandler(() => { world.SetActiveRegion(-1); });\r\n        this.elements.push(this.patrolBtn);\r\n\r\n        for (var i = 0; i < REGION_PLACEMENTS.length; i++) {\r\n            this.elements.push(this.ctx.add.bitmapText(this.TransX(REGION_PLACEMENTS[i][0] * 32 + 16), this.TransY(REGION_PLACEMENTS[i][1] * 32 - 10),\r\n                \"fontLarge\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].RegionNames(i), 20, 1).setOrigin(0.5).setDepth(10));\r\n        }\r\n\r\n        this.depthLabels = [];\r\n        for (var i = 0; i < 6; i++) {\r\n            var tmp = this.ctx.add.bitmapText(this.TransX(REGION_PLACEMENTS[i][0] * 32 + 16), this.TransY(REGION_PLACEMENTS[i][1] * 32 + 42), \"fontSmall\",\r\n                \"Depth: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.exploreLevel[i]), 16, 1).setOrigin(0.5).setDepth(10);\r\n            this.elements.push(tmp);\r\n            this.depthLabels.push(tmp);\r\n        }\r\n        var tmp = this.ctx.add.bitmapText(this.TransX(REGION_PLACEMENTS[6][0] * 32 + 16), this.TransY(REGION_PLACEMENTS[6][1] * 32 + 42), \"fontSmall\",\r\n            \"Lvl: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.MonsterLevelAtRegion(-1)), 16, 1).setOrigin(0.5).setDepth(10);\r\n        this.elements.push(tmp);\r\n        this.depthLabels.push(tmp);\r\n\r\n        this.rebirthBtn = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(REBIRTH_POS[0] * 32), this.TransY(REBIRTH_POS[1] * 32),\r\n            32, 32, { sprite: \"icons\", tile: 36 }, \"The Myserious Wanderer\",\r\n            \"This creature has traveler far to speak to you.\", 350, 10);\r\n        this.rebirthBtn.onClickHandler(() => { this._showRebirthPopup(); });\r\n        this.rebirthBtn.setVisible(_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__[\"ProgressManager\"].getInstance().ShouldShowRebirth());\r\n        this.elements.push(this.rebirthBtn);\r\n\r\n        this._makeHelpTooltip();\r\n\r\n        world.OnLandChangedHandler((r) => { this._onLandChanged(r); });\r\n        world.OnInvasionStartHandler((r) => { this._invasionStart(r); });\r\n        world.OnInvasionEndHandler((r) => { this._invasionEnd(r); });\r\n\r\n        // on load if we have an invasion we need to manually trigger the event.\r\n        if (world.invasionActive === true) {\r\n            this._invasionStart(world.invasionRegion);\r\n        }\r\n    }\r\n\r\n    _makeHelpTooltip() {\r\n        var helptxt = \"Click on a region to being exploring and fight monsters. In between fights you will \" +\r\n            \"explore the region. Filling the explore bar gives you 1 Land, used for expanding the Town, and a \" +\r\n            \"rare resource based on the region. Each time you fill the explore bar and reach the next depth the \" +\r\n            \"monsters gain a level and the time needed to explore the next depth increases. Exploring must \" +\r\n            \"be completed without leaving. Dying or going to another region will reset the explore bar.\\n\\n\" +\r\n            \"Occasionally a region will be invaded. Invaded regions have an extra monster in each fight and \" +\r\n            \"must be cleared before you can explore deeper. Fighting off an invasion will earn you a good \" +\r\n            \"chunk of rare resources.\\n\\nYou can patrol around the town, fighting a variety of enemies. \" +\r\n            \"While patrolling the explore bar won't fill. The monster level while patrolling is the average \" +\r\n            \"level of monsters in the other regions.\\n\\nYou gain Progress Points based on the furthest depth \" +\r\n            \"you've reached across all regions. Progress Points don't do anything during a run, but increase \" +\r\n            \"The number of Motes of Darkness you earn when you rebirth.\\n\\nAfter 6 months you will be met by \" +\r\n            \"A Mysterious Wanderer that will let you rebirth.\";\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(this.size[0] - 40), this.TransY(8),\r\n            32, 32, { sprite: \"icons\", tile: 37 }, \"Map\", helptxt, 700));\r\n    }\r\n\r\n    _showRebirthPopup() {\r\n        this.ctx.scene.get('DarkWorld').ShowRebirthPopup();\r\n    }\r\n\r\n    _invasionStart(regionIdx) {\r\n        this.invasionRegion = regionIdx;\r\n        this.invasionActive = true;\r\n        this._refreshTooltips();\r\n    }\r\n\r\n    _resourcePerDepth() {\r\n        return 1 + _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_8__[\"RebirthManager\"].getInstance().perks['hall2'].level;\r\n    }\r\n\r\n    _invasionEnd(regionIdx) {\r\n        var rebirth = _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_8__[\"RebirthManager\"].getInstance();\r\n        var lvl = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_2__[\"WorldManager\"].getInstance().exploreLevel[regionIdx]\r\n        var res = [0, 0, 0, 0, 0, 0];\r\n        var xp = (_data_Statics__WEBPACK_IMPORTED_MODULE_9__[\"Statics\"].INVASION_SHADE_LEVEL + _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_10__[\"TownManager\"].getInstance().shadeDrop * 5) * lvl *\r\n            (1 + rebirth.perks['shade1'].level * 0.05) * (1 + rebirth.perks['shade2'].level * 0.03) *\r\n            (1 + rebirth.perks['shade3'].level * 0.01);\r\n        var mats = _data_Statics__WEBPACK_IMPORTED_MODULE_9__[\"Statics\"].INVASION_MATS_LEVEL * lvl *\r\n            (1 + rebirth.perks['drops1'].level * 0.05) * (1 + rebirth.perks['drops2'].level * 0.03) *\r\n            (1 + rebirth.perks['drops3'].level * 0.01);\r\n        res[regionIdx] = this._resourcePerDepth() * (2 + Math.ceil(lvl / 5));\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__[\"PlayerManager\"].getInstance().AddResources(xp, mats, 0, res);\r\n        for (var i = 0; i < this.invasionParticles.length; i++) {\r\n            this.invasionParticles[i].destroy();\r\n        }\r\n        this.invasionParticles = [];\r\n        this.invasionActive = false;\r\n    }\r\n\r\n    _refreshTooltips() {\r\n        const world = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_2__[\"WorldManager\"].getInstance();\r\n        this.forestBtn.setTooltip(world.GetTooltip(0));\r\n        this.plainsBtn.setTooltip(world.GetTooltip(1));\r\n        this.mountainBtn.setTooltip(world.GetTooltip(2));\r\n        this.swampBtn.setTooltip(world.GetTooltip(3));\r\n        this.hillsBtn.setTooltip(world.GetTooltip(4));\r\n        this.lakeBtn.setTooltip(world.GetTooltip(5));\r\n        this.patrolBtn.setTooltip(world.GetTooltip(-1));\r\n    }\r\n\r\n    _onLandChanged(regionIdx) {\r\n        const world = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_2__[\"WorldManager\"].getInstance();\r\n\r\n        this._refreshTooltips();\r\n\r\n        for (var i = 0; i < 6; i++) {\r\n            this.depthLabels[i].setText(\"Depth: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.exploreLevel[i]));\r\n        }\r\n        this.depthLabels[6].setText(\"Lvl: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.MonsterLevelAtRegion(-1)));\r\n\r\n        var res = [0, 0, 0, 0, 0, 0];\r\n        res[regionIdx] = this._resourcePerDepth();\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__[\"PlayerManager\"].getInstance().AddResources(0, 0, 0, res);\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_3__[\"PlayerManager\"].getInstance().AddLand(1);\r\n    }\r\n\r\n    Reload() {\r\n        const world = _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_2__[\"WorldManager\"].getInstance();\r\n        this._refreshTooltips();\r\n        for (var i = 0; i < this.invasionParticles.length; i++) {\r\n            this.invasionParticles[i].destroy();\r\n        }\r\n\r\n        for (var i = 0; i < 6; i++) {\r\n            this.depthLabels[i].setText(\"Depth: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.exploreLevel[i]));\r\n        }\r\n        this.depthLabels[6].setText(\"Lvl: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(world.MonsterLevelAtRegion(-1)));\r\n\r\n        this.invasionParticles = [];\r\n        this.invasionActive = false;\r\n\r\n        if (_data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_2__[\"WorldManager\"].getInstance().invasionActive === true) {\r\n            this._invasionStart(_data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_2__[\"WorldManager\"].getInstance().invasionRegion);\r\n        }\r\n    }\r\n\r\n    update(time) {\r\n        if (this.invasionActive) {\r\n            this.emitterTimer -= time;\r\n            if (this.emitterTimer <= 0) {\r\n                var x = this.TransX(REGION_PLACEMENTS[this.invasionRegion][0] * 32) + 16 + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].randint(-40, 40);\r\n                var y = this.TransY(REGION_PLACEMENTS[this.invasionRegion][1] * 32) + 16 + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].randint(-40, 40);\r\n                var dx = (Math.random() - 0.5) * 40;\r\n                var dy = (Math.random() - 0.5) * 40;\r\n                this.emitterTimer = 200;\r\n                var part = new _particles_Particle__WEBPACK_IMPORTED_MODULE_6__[\"Particle\"](this.ctx, x, y, 64, 64,\r\n                    INVASION_TEXTURES[_utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].randint(0, 2)], dx, dy, 4000);\r\n                part.setVisible(this.enabled);\r\n                this.invasionParticles.push(part);\r\n            }\r\n            var newList = [];\r\n            for (var i = 0; i < this.invasionParticles.length; i++) {\r\n                if (this.invasionParticles[i].IsDead() === false) {\r\n                    this.invasionParticles[i].update(time);\r\n                    newList.push(this.invasionParticles[i]);\r\n                } else {\r\n                    this.invasionParticles[i].destroy();\r\n                }\r\n            }\r\n            this.invasionParticles = newList;\r\n        }\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/windows/RegionWindow.js?");

/***/ }),

/***/ "./src/ui/windows/StatsDoc.js":
/*!************************************!*\
  !*** ./src/ui/windows/StatsDoc.js ***!
  \************************************/
/*! exports provided: StatsDoc */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StatsDoc\", function() { return StatsDoc; });\n/* harmony import */ var _WindowBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WindowBase */ \"./src/ui/windows/WindowBase.js\");\n/* harmony import */ var _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tooltips/TooltipImage */ \"./src/ui/tooltips/TooltipImage.js\");\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _TextButton__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../TextButton */ \"./src/ui/TextButton.js\");\n/* harmony import */ var _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/resources/Strings */ \"./src/data/resources/Strings.js\");\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../data/managers/ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass StatsDoc extends _WindowBase__WEBPACK_IMPORTED_MODULE_0__[\"WindowBase\"] {\r\n    constructor(position, size) {\r\n        super(position, size);\r\n\r\n        this.buyAmount = 1;\r\n    }\r\n\r\n    _statBuyHack(x, y, idx) {\r\n        var btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, x, y, 16, 16, '+');\r\n        btn.onClickHandler(() => { this._buyStat(idx); });\r\n        return btn;\r\n    }\r\n\r\n    create(ctx) {\r\n        super.create(ctx);\r\n\r\n        const player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_2__[\"PlayerManager\"].getInstance();\r\n        const stats = player.statBlock;\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(5), this.TransY(4), \"fontLarge\",\r\n            \"Attributes\", 20, 1));\r\n        var tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(25), 16, 16,\r\n            { sprite: \"icons\", tile: 0 }, \"Strength.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].StatDescription(\"str\"));\r\n        this.strLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(25), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Strength()), 16, 1);\r\n        this.elements.push(tmp, this.strLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(45), 16, 16,\r\n            { sprite: \"icons\", tile: 1 }, \"Dexterity.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].StatDescription('dex'));\r\n        this.dexLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(45), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Dexterity()), 16, 1);\r\n        this.elements.push(tmp, this.dexLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(65), 16, 16,\r\n            { sprite: \"icons\", tile: 2 }, \"Stamina.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].StatDescription('sta'));\r\n        this.staLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(65), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Stamina()), 16, 1);\r\n        this.elements.push(tmp, this.staLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(85), 16, 16,\r\n            { sprite: \"icons\", tile: 3 }, \"Arcane.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].StatDescription('arc'));\r\n        this.arcLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(85), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Arcane()), 16, 1);\r\n        this.elements.push(tmp, this.arcLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(105), 16, 16,\r\n            { sprite: \"icons\", tile: 4 }, \"Defense.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].StatDescription('def'));\r\n        this.defLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(105), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Defense()), 16, 1);\r\n        this.elements.push(tmp, this.defLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(125), 16, 16,\r\n            { sprite: \"icons\", tile: 5 }, \"Offense.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].StatDescription('off'));\r\n        this.offLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(125), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Offense()), 16, 1);\r\n        this.elements.push(tmp, this.offLabel);\r\n\r\n\r\n        this.statButtons = [];\r\n        this.statLabels = [];\r\n        for (var i = 0; i < 6; i++) {\r\n            this.statButtons.push(this._statBuyHack(this.TransX(125), this.TransY(25 + i * 20), i));\r\n            this.statLabels.push(this.ctx.add.bitmapText(this.TransX(145), this.TransY(25 + i * 20), \"fontSmall\",\r\n                _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.statCosts[i]), 16, 1));\r\n            this.elements.push(this.statButtons[i]);\r\n            this.elements.push(this.statLabels[i]);\r\n        }\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(5), this.TransY(148), \"fontLarge\",\r\n            \"Resources\", 20, 1));\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(170), 16, 16,\r\n            { sprite: \"icons\", tile: 29 }, \"Shade.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].ResourceDescription('shade'));\r\n        this.shadeLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(170), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.shade), 16, 1);\r\n        this.elements.push(tmp, this.shadeLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(190), 16, 16,\r\n            { sprite: \"icons\", tile: 28 }, \"Materials.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].ResourceDescription('mats'));\r\n        this.matsLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(190), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.materials), 16, 1);\r\n        this.elements.push(tmp, this.matsLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(210), 16, 16,\r\n            { sprite: \"icons\", tile: 22 }, \"Wood.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].ResourceDescription('wood'));\r\n        this.woodLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(210), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[0]), 16, 1);\r\n        this.elements.push(tmp, this.woodLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(230), 16, 16,\r\n            { sprite: \"icons\", tile: 23 }, \"Leather.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].ResourceDescription('leather'));\r\n        this.leatherLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(230), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[1]), 16, 1);\r\n        this.elements.push(tmp, this.leatherLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(250), 16, 16,\r\n            { sprite: \"icons\", tile: 24 }, \"Metal.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].ResourceDescription('metal'));\r\n        this.metalLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(250), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[2]), 16, 1);\r\n        this.elements.push(tmp, this.metalLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(270), 16, 16,\r\n            { sprite: \"icons\", tile: 25 }, \"Fiber.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].ResourceDescription('fiber'));\r\n        this.fiberLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(270), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[3]), 16, 1);\r\n        this.elements.push(tmp, this.fiberLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(290), 16, 16,\r\n            { sprite: \"icons\", tile: 26 }, \"Stone.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].ResourceDescription('stone'));\r\n        this.stoneLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(290), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[4]), 16, 1);\r\n        this.elements.push(tmp, this.stoneLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(310), 16, 16,\r\n            { sprite: \"icons\", tile: 27 }, \"Crystal.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].ResourceDescription('crystal'));\r\n        this.crystalLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(310), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[5]), 16, 1);\r\n        this.elements.push(tmp, this.crystalLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(330), 16, 16,\r\n            { sprite: \"icons\", tile: 30 }, \"Gold.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].ResourceDescription('gold'));\r\n        this.goldLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(330), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.gold) + '/' + _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(_data_managers_TownManager__WEBPACK_IMPORTED_MODULE_6__[\"TownManager\"].getInstance().goldCap), 16, 1);\r\n        this.elements.push(tmp, this.goldLabel);\r\n        tmp = new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(5), this.TransY(350), 16, 16,\r\n            { sprite: \"icons\", tile: 31 }, \"Land.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_5__[\"Strings\"].ResourceDescription('land'));\r\n        this.landLabel = this.ctx.add.bitmapText(this.TransX(25), this.TransY(350), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.usedLand) + '/' + _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.maxLand), 16, 1);\r\n        this.elements.push(tmp, this.landLabel);\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(5), this.TransY(375), \"fontLarge\",\r\n            \"Buy Amount\", 20, 1));\r\n        this.buyBtns = [];\r\n        var btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(5), this.TransY(400), 35, 20, '1');\r\n        btn.onClickHandler(() => { this._multiBuy(1); });\r\n        btn.setTextColor(Phaser.Display.Color.GetColor(200, 200, 0));\r\n        this.buyBtns.push(btn);\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(41), this.TransY(400), 35, 20, '5');\r\n        btn.onClickHandler(() => { this._multiBuy(5); });\r\n        this.buyBtns.push(btn);\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(77), this.TransY(400), 35, 20, '10');\r\n        btn.onClickHandler(() => { this._multiBuy(10); });\r\n        this.buyBtns.push(btn);\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(113), this.TransY(400), 35, 20, '25');\r\n        btn.onClickHandler(() => { this._multiBuy(25); });\r\n        this.buyBtns.push(btn);\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(149), this.TransY(400), 35, 20, '100');\r\n        btn.onClickHandler(() => { this._multiBuy(100); });\r\n        this.buyBtns.push(btn);\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(185), this.TransY(400), 50, 20, '1000');\r\n        btn.onClickHandler(() => { this._multiBuy(1000); });\r\n        this.buyBtns.push(btn);\r\n\r\n        for (var i = 0; i < this.buyBtns.length; i++) {\r\n            this.elements.push(this.buyBtns[i]);\r\n        }\r\n\r\n        this.timeLabel = this.ctx.add.bitmapText(this.TransX(5), this.TransY(450), \"fontSmall\",\r\n            _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__[\"ProgressManager\"].getInstance().time.getText(), 16, 1);\r\n        this.elements.push(this.timeLabel);\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(5), this.TransY(470), \"fontSmall\",\r\n            \"Current Run:\", 16, 1));\r\n        this.runLabel = this.ctx.add.bitmapText(this.TransX(5), this.TransY(490), \"fontSmall\",\r\n            _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__[\"ProgressManager\"].getInstance().CurrentRunTime().getTimespanText(), 16, 1);\r\n        this.elements.push(this.runLabel);\r\n\r\n        this.offlineLabel = this.ctx.add.bitmapText(this.TransX(5), this.TransY(530), \"fontSmall\",\r\n            \"Offline Time: \" + _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__[\"ProgressManager\"].getInstance().time.getOfflineTimeString(), 16, 1);\r\n        this.elements.push(this.offlineLabel);\r\n\r\n        this.timeBtns = [];\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(5), this.TransY(550), 35, 20, 'x0');\r\n        btn.onClickHandler(() => { this._timeScale(0, 0, 0); });\r\n        this.timeBtns.push(btn);\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(41), this.TransY(550), 35, 20, 'x1');\r\n        btn.onClickHandler(() => { this._timeScale(1, 0, 1); });\r\n        btn.setTextColor(Phaser.Display.Color.GetColor(200, 200, 0));\r\n        this.timeBtns.push(btn);\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(77), this.TransY(550), 35, 20, 'x2');\r\n        btn.onClickHandler(() => { this._timeScale(2, 0, 2); });\r\n        this.timeBtns.push(btn);\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(113), this.TransY(550), 35, 20, 'x5');\r\n        btn.onClickHandler(() => { this._timeScale(5, 0, 3); });\r\n        this.timeBtns.push(btn);\r\n        btn = new _TextButton__WEBPACK_IMPORTED_MODULE_4__[\"TextButton\"](this.ctx, this.TransX(149), this.TransY(550), 35, 20, 'x10');\r\n        btn.onClickHandler(() => { this._timeScale(5, 1, 4); });\r\n        this.timeBtns.push(btn);\r\n\r\n        for (var i = 0; i < this.timeBtns.length; i++) {\r\n            this.elements.push(this.timeBtns[i]);\r\n        }\r\n\r\n        player.OnStatsChangedHandler(() => { this._updateStats(); });\r\n        player.OnResourcesChangedHandler(() => { this._updateResources(); });\r\n    }\r\n\r\n    _multiBuy(amount) {\r\n        this.buyAmount = amount;\r\n        for (var i = 0; i < this.buyBtns.length; i++) {\r\n            this.buyBtns[i].setTextColor(Phaser.Display.Color.GetColor(255, 255, 255));\r\n        }\r\n        switch (amount) {\r\n            case 1:\r\n                this.buyBtns[0].setTextColor(Phaser.Display.Color.GetColor(200, 200, 0));\r\n                break;\r\n            case 5:\r\n                this.buyBtns[1].setTextColor(Phaser.Display.Color.GetColor(200, 200, 0));\r\n                break;\r\n            case 10:\r\n                this.buyBtns[2].setTextColor(Phaser.Display.Color.GetColor(200, 200, 0));\r\n                break;\r\n            case 25:\r\n                this.buyBtns[3].setTextColor(Phaser.Display.Color.GetColor(200, 200, 0));\r\n                break;\r\n            case 100:\r\n                this.buyBtns[4].setTextColor(Phaser.Display.Color.GetColor(200, 200, 0));\r\n                break;\r\n            case 1000:\r\n                this.buyBtns[5].setTextColor(Phaser.Display.Color.GetColor(200, 200, 0));\r\n                break;\r\n        }\r\n        this._updateStatCosts();\r\n    }\r\n\r\n    _timeScale(scale, fskip, highlight) {\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__[\"ProgressManager\"].getInstance().time.setTimeScale(scale, fskip);\r\n        for (var i = 0; i < this.timeBtns.length; i++) {\r\n            this.timeBtns[i].setTextColor(Phaser.Display.Color.GetColor(255, 255, 255));\r\n        }\r\n        this.timeBtns[highlight].setTextColor(Phaser.Display.Color.GetColor(200, 200, 0));\r\n    }\r\n\r\n    _buyStat(idx) {\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_2__[\"PlayerManager\"].getInstance().BuyStat(this.buyAmount, idx);\r\n    }\r\n\r\n    _updateStatCosts() {\r\n        const player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_2__[\"PlayerManager\"].getInstance();\r\n        for (var i = 0; i < 6; i++) {\r\n            var amount = player.GetStatCost(i, this.buyAmount);\r\n            this.statLabels[i].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(amount));\r\n            this.statLabels[i].setTint(amount > player.shade ?\r\n                Phaser.Display.Color.GetColor(200, 0, 0) : Phaser.Display.Color.GetColor(255, 255, 255));\r\n        }\r\n    }\r\n\r\n    _updateStats() {\r\n        const player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_2__[\"PlayerManager\"].getInstance();\r\n        const stats = player.statBlock;\r\n        this.strLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Strength()));\r\n        this.dexLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Dexterity()));\r\n        this.staLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Stamina()));\r\n        this.arcLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Arcane()));\r\n        this.defLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Defense()));\r\n        this.offLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Offense()));\r\n        this._updateStatCosts();\r\n    }\r\n\r\n    _updateResources() {\r\n        const player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_2__[\"PlayerManager\"].getInstance();\r\n        this.shadeLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.shade));\r\n        this.matsLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.materials));\r\n        this.woodLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[0]));\r\n        this.leatherLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[1]));\r\n        this.metalLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[2]));\r\n        this.fiberLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[3]));\r\n        this.stoneLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[4]));\r\n        this.crystalLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[5]));\r\n        this.goldLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.gold) + '/' +\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(_data_managers_TownManager__WEBPACK_IMPORTED_MODULE_6__[\"TownManager\"].getInstance().goldCap));\r\n        this.landLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.usedLand) + '/' + _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.maxLand));\r\n\r\n        for (var i = 0; i < 6; i++) {\r\n            this.statLabels[i].setTint(player.GetStatCost(i, this.buyAmount) > player.shade ?\r\n                Phaser.Display.Color.GetColor(200, 0, 0) : Phaser.Display.Color.GetColor(255, 255, 255));\r\n        }\r\n    }\r\n\r\n    Reload() {\r\n        this._updateResources();\r\n        this._updateStatCosts();\r\n        this._updateStats();\r\n    }\r\n\r\n    update(__time) {\r\n        this.timeLabel.setText(_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__[\"ProgressManager\"].getInstance().time.getText());\r\n        this.runLabel.setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].processText(_data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__[\"ProgressManager\"].getInstance().CurrentRunTime().getTimespanText(), 28));\r\n        this.offlineLabel.setText(\"Offline Time: \" + _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_7__[\"ProgressManager\"].getInstance().time.getOfflineTimeString());\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/windows/StatsDoc.js?");

/***/ }),

/***/ "./src/ui/windows/StatsWindow.js":
/*!***************************************!*\
  !*** ./src/ui/windows/StatsWindow.js ***!
  \***************************************/
/*! exports provided: StatsWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StatsWindow\", function() { return StatsWindow; });\n/* harmony import */ var _WindowBase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./WindowBase */ \"./src/ui/windows/WindowBase.js\");\n/* harmony import */ var _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../tooltips/TooltipImage */ \"./src/ui/tooltips/TooltipImage.js\");\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../data/resources/Strings */ \"./src/data/resources/Strings.js\");\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../data/managers/ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n/* harmony import */ var _data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../data/managers/WorldManager */ \"./src/data/managers/WorldManager.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass StatsWindow extends _WindowBase__WEBPACK_IMPORTED_MODULE_0__[\"WindowBase\"] {\r\n    constructor(position, size) {\r\n        super(position, size);\r\n    }\r\n\r\n    create(ctx) {\r\n        super.create(ctx);\r\n\r\n        const player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_2__[\"PlayerManager\"].getInstance();\r\n        const stats = player.statBlock;\r\n        const progress = _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__[\"ProgressManager\"].getInstance();\r\n\r\n        this.attrLabels = [];\r\n        var t = 10;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(15), this.TransY(t), \"fontLarge\",\r\n            \"Attributes\", 20, 1));\r\n        t += 22;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 0 }, \"Strength\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('str')));\r\n        this.attrLabels.push(this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Strength()), 16, 1));\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 1 }, \"Dexterity.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('dex')));\r\n        this.attrLabels.push(this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Dexterity()), 16, 1));\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 2 }, \"Stamina\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('sta')));\r\n        this.attrLabels.push(this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Stamina()), 16, 1));\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 3 }, \"Arcane\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('arc')));\r\n        this.attrLabels.push(this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Arcane()), 16, 1));\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 4 }, \"Defense\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('def')));\r\n        this.attrLabels.push(this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Defense()), 16, 1));\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 5 }, \"Offense\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('off')));\r\n        this.attrLabels.push(this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Offense()), 16, 1));\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 7 }, \"Hit Points\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('health')));\r\n        this.attrLabels.push(this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.MaxHealth()), 16, 1));\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 8 }, \"Armor\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('armor')));\r\n        this.attrLabels.push(this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Armor()), 16, 1));\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 6 }, \"Damage\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('damage')));\r\n        this.attrLabels.push(this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.MinDamage()) + '-' + _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.MaxDamage()), 16, 1));\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 15 }, \"Crit Chance\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('crit')));\r\n        this.attrLabels.push(this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.CritChance() * 100, true) + \"%\", 16, 1));\r\n        t += 25;\r\n\r\n        for (var i = 0; i < this.attrLabels.length; i++) {\r\n            this.elements.push(this.attrLabels[i]);\r\n        }\r\n\r\n\r\n        this.resLabels = [undefined, undefined, undefined, undefined, undefined,\r\n            undefined, undefined, undefined, undefined, undefined];\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(15), this.TransY(t), \"fontLarge\",\r\n            \"Resources\", 20, 1));\r\n        t += 22;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 29 }, \"Shade.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].ResourceDescription('shade')));\r\n        this.resLabels[0] = this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.shade), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 28 }, \"Materials.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].ResourceDescription('mats')));\r\n        this.resLabels[1] = this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.materials), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 22 }, \"Wood.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].ResourceDescription('wood')));\r\n        this.resLabels[2] = this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[0]), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 23 }, \"Leather.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].ResourceDescription('leather')));\r\n        this.resLabels[3] = this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[1]), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 24 }, \"Metal.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].ResourceDescription('metal')));\r\n        this.resLabels[4] = this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[2]), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 25 }, \"Fiber.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].ResourceDescription('fiber')));\r\n        this.resLabels[5] = this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[3]), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 26 }, \"Stone.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].ResourceDescription('stone')));\r\n        this.resLabels[6] = this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[4]), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 27 }, \"Crystal.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].ResourceDescription('crystal')));\r\n        this.resLabels[7] = this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[5]), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 30 }, \"Gold.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].ResourceDescription('gold')));\r\n        this.resLabels[8] = this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.gold) + '/' + _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(_data_managers_TownManager__WEBPACK_IMPORTED_MODULE_5__[\"TownManager\"].getInstance().goldCap), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(15), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 31 }, \"Land.\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].ResourceDescription('land')));\r\n        this.resLabels[9] = this.ctx.add.bitmapText(this.TransX(35), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.usedLand) + '/' + _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.maxLand), 16, 1);\r\n\r\n        for (var i = 0; i < this.resLabels.length; i++) {\r\n            this.elements.push(this.resLabels[i]);\r\n        }\r\n\r\n        t = 10;\r\n\r\n        this.secondaryLabels = [undefined, undefined, undefined, undefined, undefined, undefined, undefined]\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(180), this.TransY(t), \"fontLarge\",\r\n            \"Secondary Stats\", 20, 1));\r\n        t += 22;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 33 }, \"Attack Speed\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('speed')));\r\n        this.secondaryLabels[0] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.AttackSpeed() / 1000.0, true) + \"s\", 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 9 }, \"Hit\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('hit')));\r\n        this.secondaryLabels[1] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.HitChance()), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 10 }, \"Evasion\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('eva')));\r\n        this.secondaryLabels[2] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Evasion()), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 11 }, \"Regen\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('regen')));\r\n        this.secondaryLabels[3] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Regen(), true) + \"/s\", 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 12 }, \"Warding\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('ward')));\r\n        this.secondaryLabels[4] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Warding(), true), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 13 }, \"Crit Power\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('critpower')));\r\n        this.secondaryLabels[5] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.CritPower()), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 14 }, \"Crit Resistance\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('critres')));\r\n        this.secondaryLabels[6] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.CritRes()), 16, 1);\r\n        t += 25;\r\n\r\n        for (var i = 0; i < this.secondaryLabels.length; i++) {\r\n            this.elements.push(this.secondaryLabels[i]);\r\n        }\r\n\r\n        this.dmgLabels = [undefined, undefined, undefined, undefined, undefined, undefined];\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(180), this.TransY(t), \"fontLarge\",\r\n            \"Elemental Damage\", 20, 1));\r\n        t += 22;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 16 }, \"Magic\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('magic')));\r\n        this.dmgLabels[0] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Magic()), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 17 }, \"Poison\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('poison')));\r\n        this.dmgLabels[1] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Poison()), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 18 }, \"Fire\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('fire')));\r\n        this.dmgLabels[2] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Fire()), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 19 }, \"Frost\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('frost')));\r\n        this.dmgLabels[3] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Frost()), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 20 }, \"Lightning\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('lightning')));\r\n        this.dmgLabels[4] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Lightning()), 16, 1);\r\n        t += 20;\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_1__[\"TooltipImage\"](this.ctx, this.TransX(180), this.TransY(t), 16, 16,\r\n            { sprite: \"icons\", tile: 21 }, \"Curse\", _data_resources_Strings__WEBPACK_IMPORTED_MODULE_4__[\"Strings\"].StatDescription('curse')));\r\n        this.dmgLabels[5] = this.ctx.add.bitmapText(this.TransX(200), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Curse()), 16, 1);\r\n        t += 20;\r\n\r\n        for (var i = 0; i < this.dmgLabels.length; i++) {\r\n            this.elements.push(this.dmgLabels[i]);\r\n        }\r\n\r\n        t = 10;\r\n\r\n        this.runLabels = [];\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(370), this.TransY(t), \"fontLarge\",\r\n            \"Current Run Stats\", 20, 1));\r\n        t += 22;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Shade:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.shade), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Materials:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.mats), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Wood:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[0]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Leather:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[1]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Metal:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[2]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Fiber:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[3]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Stone:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[4]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Crystal:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[5]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Kills:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.kills), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Progress Points:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(_data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_7__[\"WorldManager\"].getInstance().ProgressPoints()), 16, 1));\r\n        t += 45;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(370), this.TransY(t), \"fontLarge\",\r\n            \"Spending\", 20, 1));\r\n        t += 22;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Shade on Attributes:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.xpOnStats), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Shade on Gear:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.xpOnGear), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(380), this.TransY(t), \"fontSmall\",\r\n            \"Materials on Gear:\", 16, 1));\r\n        this.runLabels.push(this.ctx.add.bitmapText(this.TransX(550), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.matsOnGear), 16, 1));\r\n        t += 20;\r\n\r\n        for (var i = 0; i < this.runLabels.length; i++) {\r\n            this.elements.push(this.runLabels[i]);\r\n        }\r\n\r\n        t = 10;\r\n\r\n        this.totalsLabels = [];\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(610), this.TransY(t), \"fontLarge\",\r\n            \"Lifetime Stats\", 20, 1));\r\n        t += 22;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Shade:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.shade), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Materials:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.mats), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Wood:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.res[0]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Leather:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.res[1]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Metal:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.res[2]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Fiber:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.res[3]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Stone:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.res[4]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Crystal:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.res[5]), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Kills:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.kills), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Motes of Darkness:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.motes), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Rebirths:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.rebirths), 16, 1));\r\n        t += 25;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(610), this.TransY(t), \"fontLarge\",\r\n            \"Spending\", 20, 1));\r\n        t += 22;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Shade on Attributes:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.xpOnStats), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Shade on Gear:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.xpOnGear), 16, 1));\r\n        t += 20;\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(620), this.TransY(t), \"fontSmall\",\r\n            \"Materials on Gear:\", 16, 1));\r\n        this.totalsLabels.push(this.ctx.add.bitmapText(this.TransX(790), this.TransY(t), \"fontSmall\",\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.totals.matsOnGear), 16, 1));\r\n\r\n\r\n        for (var i = 0; i < this.totalsLabels.length; i++) {\r\n            this.elements.push(this.totalsLabels[i]);\r\n        }\r\n\r\n        player.OnStatsChangedHandler(() => { this._updateStats(); });\r\n        player.OnResourcesChangedHandler(() => { this._updateResources(); });\r\n    }\r\n\r\n    Reload() {\r\n        this._updateResources();\r\n        this._updateStats();\r\n    }\r\n\r\n    _updateStats() {\r\n        const player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_2__[\"PlayerManager\"].getInstance();\r\n        const stats = player.statBlock;\r\n        this.attrLabels[0].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Strength()));\r\n        this.attrLabels[1].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Dexterity()));\r\n        this.attrLabels[2].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Stamina()));\r\n        this.attrLabels[3].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Arcane()));\r\n        this.attrLabels[4].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Defense()));\r\n        this.attrLabels[5].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Offense()));\r\n        this.attrLabels[6].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.MaxHealth()));\r\n        this.attrLabels[7].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Armor()));\r\n        this.attrLabels[8].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.MinDamage()) + '-' + _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.MaxDamage()));\r\n\r\n        this.secondaryLabels[0].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.AttackSpeed() / 1000.0, true) + \"s\");\r\n        this.secondaryLabels[1].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.HitChance()));\r\n        this.secondaryLabels[2].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Evasion()));\r\n        this.secondaryLabels[3].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Regen(), true) + \"/s\");\r\n        this.secondaryLabels[4].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Warding(), true));\r\n        this.secondaryLabels[5].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.CritPower()));\r\n        this.secondaryLabels[6].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.CritRes()));\r\n\r\n        this.dmgLabels[0].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Magic()));\r\n        this.dmgLabels[1].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Poison()));\r\n        this.dmgLabels[2].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Fire()));\r\n        this.dmgLabels[3].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Frost()));\r\n        this.dmgLabels[4].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Lightning()));\r\n        this.dmgLabels[5].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(stats.Curse()));\r\n    }\r\n\r\n    _updateResources() {\r\n        const player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_2__[\"PlayerManager\"].getInstance();\r\n        const progress = _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_6__[\"ProgressManager\"].getInstance();\r\n        this.resLabels[0].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.shade));\r\n        this.resLabels[1].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.materials));\r\n        this.resLabels[2].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[0]));\r\n        this.resLabels[3].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[1]));\r\n        this.resLabels[4].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[2]));\r\n        this.resLabels[5].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[3]));\r\n        this.resLabels[6].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[4]));\r\n        this.resLabels[7].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.resources[5]));\r\n        this.resLabels[8].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.gold) + '/' + _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(_data_managers_TownManager__WEBPACK_IMPORTED_MODULE_5__[\"TownManager\"].getInstance().goldCap));\r\n        this.resLabels[9].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.usedLand) + '/' + _utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(player.maxLand));\r\n\r\n        this.runLabels[0].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.shade));\r\n        this.runLabels[1].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.mats));\r\n        this.runLabels[2].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[0]));\r\n        this.runLabels[3].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[1]));\r\n        this.runLabels[4].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[2]));\r\n        this.runLabels[5].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[3]));\r\n        this.runLabels[6].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[4]));\r\n        this.runLabels[7].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.res[5]));\r\n        this.runLabels[8].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.kills));\r\n        this.runLabels[9].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(_data_managers_WorldManager__WEBPACK_IMPORTED_MODULE_7__[\"WorldManager\"].getInstance().ProgressPoints()));\r\n        this.runLabels[10].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.xpOnStats));\r\n        this.runLabels[11].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.xpOnGear));\r\n        this.runLabels[12].setText(_utils_Common__WEBPACK_IMPORTED_MODULE_3__[\"Common\"].numberString(progress.current.matsOnGear));\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/windows/StatsWindow.js?");

/***/ }),

/***/ "./src/ui/windows/TownWindow.js":
/*!**************************************!*\
  !*** ./src/ui/windows/TownWindow.js ***!
  \**************************************/
/*! exports provided: TownWindow */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TownWindow\", function() { return TownWindow; });\n/* harmony import */ var _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/managers/PlayerManager */ \"./src/data/managers/PlayerManager.js\");\n/* harmony import */ var _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../data/managers/ProgressManager */ \"./src/data/managers/ProgressManager.js\");\n/* harmony import */ var _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../data/managers/RebirthManager */ \"./src/data/managers/RebirthManager.js\");\n/* harmony import */ var _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../data/managers/TownManager */ \"./src/data/managers/TownManager.js\");\n/* harmony import */ var _utils_Common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/Common */ \"./src/utils/Common.js\");\n/* harmony import */ var _displays_BuildingDisplay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../displays/BuildingDisplay */ \"./src/ui/displays/BuildingDisplay.js\");\n/* harmony import */ var _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../tooltips/TooltipImage */ \"./src/ui/tooltips/TooltipImage.js\");\n/* harmony import */ var _WindowBase__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./WindowBase */ \"./src/ui/windows/WindowBase.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass TownWindow extends _WindowBase__WEBPACK_IMPORTED_MODULE_7__[\"WindowBase\"] {\r\n    constructor(position, size) {\r\n        super(position, size);\r\n        this.buildDisplays = [];\r\n\r\n        _data_managers_ProgressManager__WEBPACK_IMPORTED_MODULE_1__[\"ProgressManager\"].getInstance().time.registerEvent('onDayEnd', () => { this._onDayEnd(); });\r\n        _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_3__[\"TownManager\"].getInstance().OnBuildingUpgradedHandler(() => { this._refreshWindow(); });\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance().OnResourcesChangedHandler(() => { this._refreshBorders(); });\r\n    }\r\n\r\n    _createBuildingDisplay(bld, x, y) {\r\n        var display = new _displays_BuildingDisplay__WEBPACK_IMPORTED_MODULE_5__[\"BuildingDisplay\"](this.ctx, x, y);\r\n        display.InitWithBuilding(bld);\r\n        display.onClickHandler(() => { this._buildBuilding(bld); });\r\n        return display;\r\n    }\r\n\r\n    create(ctx) {\r\n        super.create(ctx);\r\n\r\n        this._refreshWindow();\r\n    }\r\n\r\n    Reload() {\r\n        this._refreshWindow();\r\n    }\r\n\r\n    _refreshBorders() {\r\n        for (var i = 0; i < this.buildDisplays.length; i++) {\r\n            this.buildDisplays[i].UpdateBorder();\r\n        }\r\n    }\r\n\r\n    _makeHelpTooltip() {\r\n        var helptxt = \"Here you manage your town, order buildings to be made, and collect taxes and resources. \" +\r\n            \"Buildings need Land, which you get by exploring the different regions on the Map, and Gold, a resource \" +\r\n            \"you earn every day from the villagers in the town.\\n\\nThe town is split into 4 districts: the Market, Bank, \" +\r\n            \"Town Hall, and Residential Ward. The Market handles resource production, the Bank handles taxes and gold income, \" +\r\n            \"The Town Hall helps with exploring and getting loot, and the Residential Ward lets you hold more villagers.\" +\r\n            \" Here's a few pointers:\\n\\n\\n\" +\r\n            \"*To upgrade a building in a district your district must be at least a level higher than the building you want to upgrade.\\n\\n\" +\r\n            \"*Each building built increases Inflation, which increases the cost of all buildings by that amount.\\n\\n\" +\r\n            \"*Your Gold cap is equal to (250 + (Vaults * 250) + (Villagers * 3)) * Economy. Sometimes getting a bigger economy \" +\r\n            \"Is better than getting more vaults.\";\r\n        this.elements.push(new _tooltips_TooltipImage__WEBPACK_IMPORTED_MODULE_6__[\"TooltipImage\"](this.ctx, this.TransX(this.size[0] - 40), this.TransY(8),\r\n            32, 32, { sprite: \"icons\", tile: 37 }, \"Town\", helptxt, 700));\r\n    }\r\n\r\n    _refreshWindow() {\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].destroy();\r\n        }\r\n        this.elements = [];\r\n        this.buildDisplays = [];\r\n\r\n        var town = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_3__[\"TownManager\"].getInstance();\r\n\r\n\r\n        var rect = this.ctx.add.rectangle(this.TransX(0), this.TransY(0), this.size[0], this.size[1],\r\n            Phaser.Display.Color.GetColor(0, 0, 0)).setOrigin(0, 0).setDepth(-1);\r\n        rect.isStroked = true;\r\n        rect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        rect.lineWidth = 1;\r\n        this.elements.push(rect);\r\n\r\n        for (var prop in town.buildings) {\r\n            var x = this.TransX(town.buildings[prop].position[0] * 70 + 26);\r\n            var y = this.TransY(town.buildings[prop].position[1] * 66 + 26);\r\n            var display = this._createBuildingDisplay(town.buildings[prop], x, y);\r\n            this.elements.push(display);\r\n            this.buildDisplays.push(display);\r\n        }\r\n\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(750), this.TransY(20),\r\n            \"fontLarge\", \"Town\", 24, 1).setOrigin(0.5, 0));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(50),\r\n            \"fontSmall\", \"Population: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(town.population), 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(70),\r\n            \"fontSmall\", \"Economy: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(town.econMulti * 100, true) + \"%\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(90),\r\n            \"fontSmall\", \"Production: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(town.prodMulti * 100, true) + \"%\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(110),\r\n            \"fontSmall\", \"Income: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(town.GetIncome(), true) + \"g/day\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(130),\r\n            \"fontSmall\", \"Inflation: +\" +\r\n            _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString((town.GetBuildingCostMulti()[0] - 1) * 100, true) + \"%\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(750), this.TransY(150),\r\n            \"fontLarge\", \"Resources\", 20, 1).setOrigin(0.5, 0));\r\n        var res = town.GetResourceIncome();\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(175), \"fontSmall\",\r\n            \"Materials: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(town.GetMaterialIncome(), true) + \"/day\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(195), \"fontSmall\",\r\n            \"Wood: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(res[0], true) + \"/day\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(215), \"fontSmall\",\r\n            \"Leather: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(res[1], true) + \"/day\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(235), \"fontSmall\",\r\n            \"Metal: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(res[2], true) + \"/day\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(255), \"fontSmall\",\r\n            \"Fiber: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(res[3], true) + \"/day\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(275), \"fontSmall\",\r\n            \"Stone: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(res[4], true) + \"/day\", 16, 1));\r\n        this.elements.push(this.ctx.add.bitmapText(this.TransX(655), this.TransY(295), \"fontSmall\",\r\n            \"Crystal: \" + _utils_Common__WEBPACK_IMPORTED_MODULE_4__[\"Common\"].numberString(res[5], true) + \"/day\", 16, 1));\r\n\r\n        this._makeHelpTooltip();\r\n        if (this.enabled === false) {\r\n            for (var i = 0; i < this.elements.length; i++) {\r\n                this.elements[i].setVisible(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    _buildBuilding(bld) {\r\n        var town = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_3__[\"TownManager\"].getInstance();\r\n        var player = _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance();\r\n        if (town.CanBuild(bld.buildingId)) {\r\n            var costs = town.GetBuildingCosts(bld.buildingId);\r\n            player.SpendLand(costs[8]);\r\n            player.SpendResources(0, costs[6], costs[7],\r\n                [costs[0], costs[1], costs[2], costs[3], costs[4], costs[5]]);\r\n            _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_3__[\"TownManager\"].getInstance().UpgradeBuilding(bld);\r\n        }\r\n    }\r\n\r\n    _onDayEnd() {\r\n        var town = _data_managers_TownManager__WEBPACK_IMPORTED_MODULE_3__[\"TownManager\"].getInstance();\r\n\r\n        town.IncreaseGoldCap(town.GetIncome() * 0.0025 * _data_managers_RebirthManager__WEBPACK_IMPORTED_MODULE_2__[\"RebirthManager\"].getInstance().perks['bank2'].level);\r\n        _data_managers_PlayerManager__WEBPACK_IMPORTED_MODULE_0__[\"PlayerManager\"].getInstance().AddResources(town.GetShadeIncome(), town.GetMaterialIncome(),\r\n            town.GetIncome(), town.GetResourceIncome());\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/windows/TownWindow.js?");

/***/ }),

/***/ "./src/ui/windows/WindowBase.js":
/*!**************************************!*\
  !*** ./src/ui/windows/WindowBase.js ***!
  \**************************************/
/*! exports provided: WindowBase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"WindowBase\", function() { return WindowBase; });\n\r\n\r\nclass WindowBase {\r\n\r\n    constructor(position, size) {\r\n        this.position = position;\r\n        this.size = size;\r\n\r\n        this.elements = []\r\n        this.enabled = false;\r\n    }\r\n\r\n    TransX(x) { return this.position[0] + x; }\r\n    TransY(y) { return this.position[1] + y; }\r\n\r\n    enable() {\r\n        this.enabled = true;\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(true);\r\n        }\r\n    }\r\n\r\n    disable() {\r\n        this.enabled = false;\r\n        for (var i = 0; i < this.elements.length; i++) {\r\n            this.elements[i].setVisible(false);\r\n        }\r\n    }\r\n\r\n    update(__time) {\r\n\r\n    }\r\n\r\n    create(ctx) {\r\n        this.ctx = ctx;\r\n        this.enabled = true;\r\n        \r\n        var rect = this.ctx.add.rectangle(this.TransX(0), this.TransY(0), this.size[0], this.size[1],\r\n            Phaser.Display.Color.GetColor(0, 0, 0)).setOrigin(0, 0).setDepth(-1);\r\n        rect.isStroked = true;\r\n        rect.strokeColor = Phaser.Display.Color.GetColor(255, 255, 255);\r\n        rect.lineWidth = 1;\r\n        this.elements.push(rect);\r\n    }\r\n\r\n    destroy() {\r\n        this.enabled = false;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/ui/windows/WindowBase.js?");

/***/ }),

/***/ "./src/utils/Common.js":
/*!*****************************!*\
  !*** ./src/utils/Common.js ***!
  \*****************************/
/*! exports provided: Common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Common\", function() { return Common; });\nclass Common {\r\n    static randint(a, b) {\r\n        return Math.floor(a + Math.random() * (b - a));\r\n    }\r\n\r\n    static numberString(x, useDecimal = false) {\r\n        var val = x;\r\n        if (useDecimal === false || val >= 100) {\r\n            val = Math.floor(val);\r\n        }\r\n        if (useDecimal === true && x < 1) {\r\n            return (Math.floor(val * 1000) / 1000) + \"\";\r\n        } else if (useDecimal === true && x < 10) {\r\n            return (Math.floor(val * 100) / 100) + \"\";\r\n        } else if (useDecimal === true && x < 100) {\r\n            return (Math.floor(val * 10) / 10) + \"\";\r\n        }\r\n        var suffix = \"\";\r\n        if (val > 10000000000000000000000000000n) {\r\n            return \"TOO BIG\";\r\n        } else if (val > 10000000000000000000000000n) {\r\n            val = BigInt(x) / 10000000000000000000000000n;\r\n            suffix = \"Sp\";\r\n        } else if (val > 10000000000000000000000n) {\r\n            val = BigInt(x) / 10000000000000000000000n;\r\n            suffix = \"Sx\";\r\n        } else if (val > 10000000000000000000n) {\r\n            val = BigInt(x) / 1000000000000000000n;\r\n            suffix = \"Qi\";\r\n        } else if (val > 10000000000000000n) {\r\n            val = BigInt(x) / 1000000000000000n;\r\n            suffix = \"Q\";\r\n        } else if (val > 10000000000000) {\r\n            val = Math.floor(x / 1000000000000);\r\n            suffix = \"T\";\r\n        } else if (val > 10000000000) {\r\n            val = Math.floor(x / 1000000000);\r\n            suffix = \"B\";\r\n        } else if (val > 10000000) {\r\n            val = Math.floor(x / 1000000);\r\n            suffix = \"M\";\r\n        } else if (val > 10000) {\r\n            val = Math.floor(x / 1000);\r\n            suffix = \"K\";\r\n        }\r\n        var ret = new Intl.NumberFormat('en-US').format(val) + suffix;\r\n        return ret;\r\n    }\r\n\r\n    static sumList(list) {\r\n        var t = 0;\r\n        for (var i = 0; i < list.length; i++) {\r\n            t += list[i];\r\n        }\r\n        return t;\r\n    }\r\n\r\n    static canCraft(cost, inv) {\r\n        for (var i = 0; i < inv.length; i++) {\r\n            if (inv[i] < cost[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    static processText(text, width) {\r\n        var list = text.split('\\n');\r\n        var res = \"\";\r\n\r\n        for (var i = 0; i < list.length; i++) {\r\n            if (list[i].length < width) {\r\n                res += list[i] + (i < list.length - 1 ? \"\\n\" : \"\");\r\n                continue;\r\n            }\r\n            var idxA = 0;\r\n            var idxB = width;\r\n\r\n            while (idxB < list[i].length) {\r\n                while (idxB > idxA && list[i][idxB] !== ' ') {\r\n                    idxB--;\r\n                }\r\n                res += list[i].substring(idxA, idxB) + \"\\n\";\r\n                idxA = idxB + 1;\r\n                idxB = Math.min(idxA + width, list[i].length);\r\n            }\r\n\r\n            if (idxA < list[i].length) {\r\n                res += list[i].substring(idxA, list[i].length);\r\n            }\r\n\r\n            if (i !== list.length - 1) {\r\n                res += \"\\n\";\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n    static colorLerp(clrA, clrB, lerp) {\r\n        var a = Phaser.Display.Color.IntegerToRGB(clrA);\r\n        var b = Phaser.Display.Color.IntegerToRGB(clrB);\r\n        return Phaser.Display.Color.GetColor(\r\n            a.r + (b.r - a.r) * lerp,\r\n            a.g + (b.g - a.g) * lerp,\r\n            a.b + (b.b - a.b) * lerp);\r\n    }\r\n\r\n    static CostColors(listA, listB, clrA, clrB) {\r\n        var ret = [];\r\n        for (var i = 0; i < listA.length && i < listB.length; i++) {\r\n            ret.push(listA[i] > listB[i] ? clrB : clrA);\r\n        }\r\n        return ret;\r\n    }\r\n}\n\n//# sourceURL=webpack:///./src/utils/Common.js?");

/***/ }),

/***/ "phaser":
/*!*******************************************************!*\
  !*** external {"root":"phaser","commonjs2":"phaser"} ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = undefined;\n\n//# sourceURL=webpack:///external_%7B%22root%22:%22phaser%22,%22commonjs2%22:%22phaser%22%7D?");

/***/ })

/******/ });